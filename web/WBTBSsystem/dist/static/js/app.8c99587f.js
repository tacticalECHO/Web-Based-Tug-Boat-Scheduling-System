(function(){"use strict";var t={8861:function(t,e,a){var n=a(3751),s=a(641);function o(t,e,a,n,o,l){const i=(0,s.g2)("router-view");return(0,s.uX)(),(0,s.Wv)(i)}var l={name:"App"},i=a(6262);const r=(0,i.A)(l,[["render",o]]);var d=r,u=a(6278),c=a(1250);const p=(0,u.y$)({state(){return{username:"",passwordPlaceholder:"******",isCaptain:!1,isAdmin:!1,isScheduler:!1,captains:[],tasks:[],schedulers:[],berths:[],containerBoats:[],scheduleEntries:[],tugboats:[],exitPath:"Settings",id:1}},mutations:{setUser(t,{username:e}){t.username=e},setUserRole(t,{isCaptain:e,isAdmin:a,isScheduler:n}){t.isCaptain=e,t.isAdmin=a,t.isScheduler=n},setCaptains(t,e){t.captains=e},setTasks(t,e){t.tasks=e},setSchedulers(t,e){t.schedulers=e},setBerths(t,e){t.berths=e},setContainerBoats(t,e){t.containerBoats=e},setScheduleEntries(t,e){t.scheduleEntries=e},setTugBoats(t,e){t.tugboats=e},setExitPath(t,e){t.exitPath=e},resetNull(t){resetNull(t)},setTugBoatInfo(t,e){t.tugBoatInfo=e},setTimeInfo(t,e){t.timeInfo=e},setContainerBoatInfo(t,e){t.containerBoatInfo=e},setBerthInfo(t,e){t.berthInfo=e},setActionInfo(t,e){t.actionInfo=e},setStateInfo(t,e){t.stateInfo=e}},actions:{fetchCaptains({commit:t}){c.A.get("http://localhost:8000/api/display_captain/").then((e=>{t("setCaptains",e.data)})).catch((t=>console.error(t)))},fetchTasks({commit:t}){c.A.get("http://localhost:8000/api/display_task/").then((e=>{t("setTasks",e.data)})).catch((t=>console.error(t)))},fetchSchedulers({commit:t}){c.A.get("http://localhost:8000/api/display_scheduler/").then((e=>{t("setSchedulers",e.data)})).catch((t=>console.error(t)))},fetchBerths({commit:t}){c.A.get("http://localhost:8000/api/display_berth/").then((e=>{t("setBerths",e.data)})).catch((t=>console.error(t)))},fetchContainerBoats({commit:t}){c.A.get("http://localhost:8000/api/display_container_boat/").then((e=>{t("setContainerBoats",e.data)})).catch((t=>console.error(t)))},fetchScheduleEntries({commit:t}){c.A.get("http://localhost:8000/api/display_schedule_entry/").then((e=>{t("setScheduleEntries",e.data)})).catch((t=>console.error(t)))},fetchTugBoats({commit:t}){c.A.get("http://localhost:8000/api/display_tugboat/").then((e=>{t("setTugBoats",e.data)})).catch((t=>console.error(t)))}}});var h=p,k=a(5220);const m={class:"backdrop"},b={class:"container-position"},g={class:"popup-container"},L=(0,s.Lk)("b",null,"Notice",-1),I=(0,s.Lk)("span",{id:"notice-info"},"The change will not be saved if u exit now.",-1),f=(0,s.Lk)("br",null,null,-1),C={class:"notice-buttons"};function y(t,e,a,n,o,l){return(0,s.uX)(),(0,s.CE)("div",m,[(0,s.Lk)("div",b,[(0,s.Lk)("div",g,[L,I,f,(0,s.Lk)("span",C,[(0,s.Lk)("button",{class:"blue-border-button",id:"exit",onClick:e[0]||(e[0]=t=>l.exit())},"Exit"),(0,s.eW)("   "),(0,s.Lk)("button",{class:"blue-button",id:"save",onClick:e[1]||(e[1]=t=>l.cancel())},"Cancel")])])])])}a(4114);var v={name:"ExitNotice",methods:{exit(){this.$router.push({name:this.$store.state.exitPath})},cancel(){this.$router.back()}}};const T=(0,i.A)(v,[["render",y]]);var B=T;const S=t=>((0,s.Qi)("data-v-1a53cabe"),t=t(),(0,s.jt)(),t),w={class:"backdrop"},E={class:"container-position"},_={class:"popup-container"},X=S((()=>(0,s.Lk)("b",null,"Notice",-1))),D=S((()=>(0,s.Lk)("span",null,"Do you need to auto change this task's schedule?",-1))),A=S((()=>(0,s.Lk)("br",null,null,-1))),F={class:"notice-buttons"};function $(t,e,a,n,o,l){return(0,s.uX)(),(0,s.CE)("div",w,[(0,s.Lk)("div",E,[(0,s.Lk)("div",_,[X,D,A,(0,s.Lk)("span",F,[(0,s.Lk)("button",{class:"blue-border-button",id:"no",onClick:e[0]||(e[0]=t=>l.no())},"No"),(0,s.eW)("   "),(0,s.Lk)("button",{class:"blue-button",id:"manualReschedule",onClick:e[1]||(e[1]=t=>l.change())},"Change")])])])])}var x={name:"RescheduleNotice",props:[],methods:{no(){this.$router.push({name:"ManualReschedule"})},change(){this.$router.push({name:"AutoReschedule"})}}};const U=(0,i.A)(x,[["render",$],["__scopeId","data-v-1a53cabe"]]);var N=U;const W={class:"backdrop"},Q={class:"container-position"},O={class:"popup-container"},V=(0,s.Lk)("b",null,"Scheduling",-1),P=(0,s.Lk)("span",null,"It needs some times to schedule the task, please wait.",-1),j=(0,s.Lk)("br",null,null,-1),K={class:"notice-buttons"};function M(t,e,a,n,o,l){return(0,s.uX)(),(0,s.CE)("div",W,[(0,s.Lk)("div",Q,[(0,s.Lk)("div",O,[V,P,j,(0,s.Lk)("span",K,[(0,s.Lk)("button",{class:"blue-button",id:"schedule",onClick:e[0]||(e[0]=t=>l.schedule())},"Schedule in backstage")])])])])}var R={name:"AutoReschedule",methods:{schedule(){this.$router.push({name:"SchedulerDashboard"})}}};const H=(0,i.A)(R,[["render",M]]);var J=H;const q=t=>((0,s.Qi)("data-v-a381cf92"),t=t(),(0,s.jt)(),t),Y={class:"backdrop"},z={class:"container-position"},G={class:"popup-container"},Z=q((()=>(0,s.Lk)("br",null,null,-1))),tt=q((()=>(0,s.Lk)("tr",null,[(0,s.Lk)("td",null,[(0,s.Lk)("button",null,"Yibai Yuan did not confirm")])],-1))),et=q((()=>(0,s.Lk)("tr",null,[(0,s.Lk)("td",null,[(0,s.Lk)("button",null,"Yibai Yuan did not confirm")])],-1))),at=q((()=>(0,s.Lk)("tr",null,[(0,s.Lk)("td",null,[(0,s.Lk)("button",null,"Yibai Yuan did not confirm")])],-1))),nt=q((()=>(0,s.Lk)("br",null,null,-1)));function st(t,e,a,n,o,l){return(0,s.uX)(),(0,s.CE)("div",Y,[(0,s.Lk)("div",z,[(0,s.Lk)("div",G,[(0,s.Lk)("button",{onClick:e[0]||(e[0]=(...t)=>l.close&&l.close(...t))},"X"),Z,(0,s.Lk)("table",null,[(0,s.Lk)("tr",null,[(0,s.Lk)("td",null,[(0,s.Lk)("button",{onClick:e[1]||(e[1]=t=>l.details())},"Yibai Yuan did not confirm")])]),tt,et,at]),nt])])])}var ot={name:"Message",props:[],methods:{close(){this.$store.state.isCaptain?this.$router.push({name:"CaptainDashboard"}):this.$store.state.isAdmin?this.$router.push({name:"AdminDashboard"}):this.$store.state.isScheduler?this.$router.push({name:"SchedulerDashboard"}):this.$router.push({name:"Settings"})},details(){this.$router.push({name:"MessageDetails"})}}};const lt=(0,i.A)(ot,[["render",st],["__scopeId","data-v-a381cf92"]]);var it=lt;const rt=t=>((0,s.Qi)("data-v-69caf44a"),t=t(),(0,s.jt)(),t),dt={class:"backdrop"},ut={class:"container-position"},ct={class:"popup-container"},pt=(0,s.Fv)("<br data-v-69caf44a><table data-v-69caf44a><tr data-v-69caf44a><th data-v-69caf44a>Captain</th><td data-v-69caf44a>Yibai Yuan</td></tr><tr data-v-69caf44a><th data-v-69caf44a>Container Boat</th><td data-v-69caf44a>JHSANG9865</td></tr><tr data-v-69caf44a><th data-v-69caf44a>Country</th><td data-v-69caf44a>Singapore</td></tr><tr data-v-69caf44a><th data-v-69caf44a>Tonnage</th><td data-v-69caf44a>109978</td></tr><tr data-v-69caf44a><th data-v-69caf44a>Berth</th><td data-v-69caf44a>NB02</td></tr><tr data-v-69caf44a><th data-v-69caf44a>Time</th><td data-v-69caf44a>08:30</td></tr><tr data-v-69caf44a><th data-v-69caf44a>Tug Boat</th><td data-v-69caf44a>ADB0078</td></tr><tr data-v-69caf44a><th data-v-69caf44a>Work Status</th><td data-v-69caf44a>Incompleted</td></tr><tr data-v-69caf44a><th data-v-69caf44a>Work Type</th><td data-v-69caf44a>In</td></tr></table>",2),ht=rt((()=>(0,s.Lk)("br",null,null,-1)));function kt(t,e,a,n,o,l){return(0,s.uX)(),(0,s.CE)("div",dt,[(0,s.Lk)("div",ut,[(0,s.Lk)("div",ct,[(0,s.Lk)("button",{onClick:e[0]||(e[0]=(...t)=>l.close&&l.close(...t))},"X"),pt,(0,s.Lk)("button",{class:"blue-button",id:"manualReschedule",onClick:e[1]||(e[1]=t=>l.edit())},"Edit Schedule"),ht])])])}var mt={name:"MessageDetails",props:[],methods:{close(){this.$router.back()},edit(){this.$router.push({name:"ManualReschedule"})}}};const bt=(0,i.A)(mt,[["render",kt],["__scopeId","data-v-69caf44a"]]);var gt=bt;const Lt=t=>((0,s.Qi)("data-v-16abb04e"),t=t(),(0,s.jt)(),t),It={id:"Login"},ft=Lt((()=>(0,s.Lk)("div",{class:"sidebar"},[(0,s.Lk)("img",{src:"/images/login.png",alt:"Sidebar Image"}),(0,s.Lk)("div",{class:"image-text"},[(0,s.Lk)("div",{class:"text-wrapper"},[(0,s.Lk)("p",null,"Ningbo Harbour"),(0,s.Lk)("p",null,"Tug Boat Scheduling System")])])],-1))),Ct={class:"login-container"},yt=Lt((()=>(0,s.Lk)("h1",null,"Ningbo Harbour",-1))),vt={key:0,class:"invalid-login"},Tt=Lt((()=>(0,s.Lk)("p",null,"Invalid username or password, please log in again",-1))),Bt=[Tt],St={class:"form-group"},wt=Lt((()=>(0,s.Lk)("label",{for:"username"},"Username",-1))),Et={class:"form-group"},_t=Lt((()=>(0,s.Lk)("label",{for:"password"},"Password",-1)));function Xt(t,e,a,o,l,i){return(0,s.uX)(),(0,s.CE)("div",It,[ft,(0,s.Lk)("div",Ct,[yt,l.showError?((0,s.uX)(),(0,s.CE)("div",vt,Bt)):(0,s.Q3)("",!0),(0,s.Lk)("div",St,[wt,(0,s.bo)((0,s.Lk)("input",{type:"text",id:"username","onUpdate:modelValue":e[0]||(e[0]=t=>l.username=t),placeholder:"Input your ID"},null,512),[[n.Jo,l.username]])]),(0,s.Lk)("div",Et,[_t,(0,s.bo)((0,s.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":e[1]||(e[1]=t=>l.password=t),placeholder:"Input your password"},null,512),[[n.Jo,l.password]])]),(0,s.Lk)("button",{class:"blue-button",onClick:e[2]||(e[2]=t=>i.login())},"Login")])])}var Dt={name:"Login",data(){return{username:"",password:"",showError:!1}},methods:{async login(){try{const t=await c.A.post("/api/login/",{username:this.username,password:this.password});t.data.success?(this.showError=!1,this.$store.commit("setUser",{username:this.username}),this.$store.commit("setUserRole",{isCaptain:t.data.is_captain,isAdmin:t.data.is_staff,isScheduler:t.data.is_scheduler}),localStorage.setItem("isLoggedIn","true"),localStorage.setItem("username",this.username),localStorage.setItem("roles",JSON.stringify({isCaptain:t.data.is_captain,isAdmin:t.data.is_staff,isScheduler:t.data.is_scheduler})),this.$router.push({name:"Settings"})):this.showError=!0}catch(t){console.error("Login error:",t),this.showError=!0,document.getElementById("username").style.border="1px solid red",document.getElementById("password").style.border="1px solid red"}}}};const At=(0,i.A)(Dt,[["render",Xt],["__scopeId","data-v-16abb04e"]]);var Ft=At;const $t=t=>((0,s.Qi)("data-v-645402ae"),t=t(),(0,s.jt)(),t),xt={id:"Settings"},Ut={class:"pages"},Nt=$t((()=>(0,s.Lk)("h2",null,"Settings",-1))),Wt={class:"form"},Qt=$t((()=>(0,s.Lk)("b",null,[(0,s.Lk)("label",{for:"username"},"Username ")],-1))),Ot=["placeholder"],Vt={class:"form"},Pt=$t((()=>(0,s.Lk)("b",null,[(0,s.Lk)("label",{for:"password"},"Password ")],-1))),jt=["placeholder"];function Kt(t,e,a,o,l,i){const r=(0,s.g2)("SideBar"),d=(0,s.g2)("router-view");return(0,s.uX)(),(0,s.CE)("div",xt,[(0,s.bF)(r),(0,s.Lk)("div",Ut,[(0,s.bF)(d),Nt,(0,s.Lk)("div",Wt,[Qt,(0,s.eW)("   "),(0,s.bo)((0,s.Lk)("input",{type:"text",id:"username","onUpdate:modelValue":e[0]||(e[0]=e=>t.username=e),placeholder:t.username,readonly:""},null,8,Ot),[[n.Jo,t.username]])]),(0,s.Lk)("div",Vt,[Pt,(0,s.eW)("   "),(0,s.bo)((0,s.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":e[1]||(e[1]=e=>t.password=e),placeholder:t.passwordPlaceholder,readonly:""},null,8,jt),[[n.Jo,t.password]]),(0,s.Lk)("button",{class:"grey-border-button",onClick:e[2]||(e[2]=t=>i.change_password())},"Change")]),(0,s.Lk)("button",{class:"blue-button",onClick:e[3]||(e[3]=e=>t.redirect("Login"))},"Logout")])])}var Mt=a(33);const Rt=t=>((0,s.Qi)("data-v-05aed097"),t=t(),(0,s.jt)(),t),Ht={id:"Sidebar"},Jt={key:0,id:"sidebar"},qt=Rt((()=>(0,s.Lk)("h2",null,"Ningbo Harbour",-1))),Yt={class:"sidebar-bottom-section"},zt={class:"sidebar-item"};function Gt(t,e,a,n,o,l){const i=(0,s.g2)("font-awesome-icon"),r=(0,s.g2)("admin-panel");return(0,s.uX)(),(0,s.CE)("div",Ht,[l.screen()||o.sidebarOpened?((0,s.uX)(),(0,s.CE)("div",Jt,[qt,(0,s.Lk)("ul",null,[t.isAdmin?((0,s.uX)(),(0,s.CE)("li",{key:0,onClick:e[0]||(e[0]=e=>t.redirect("AdminDashboard")),id:"admin-dashboard",class:"sidebar-item"},[(0,s.bF)(i,{icon:["fas","display"],class:"sidebar-icon"}),(0,s.eW)(" A-Dashboard ")])):(0,s.Q3)("",!0),t.isScheduler||t.isAdmin?((0,s.uX)(),(0,s.CE)("li",{key:1,onClick:e[1]||(e[1]=e=>t.redirect("SchedulerDashboard")),id:"scheduler-dashboard",class:"sidebar-item"},[(0,s.bF)(i,{icon:["fas","display"],class:"sidebar-icon"}),(0,s.eW)(" S-Dashboard ")])):(0,s.Q3)("",!0),t.isScheduler||t.isAdmin?((0,s.uX)(),(0,s.CE)("li",{key:2,onClick:e[2]||(e[2]=e=>t.redirect("TugBoatList")),id:"scheduler-dashboard",class:"sidebar-item"},[(0,s.bF)(i,{icon:["fas","display"],class:"sidebar-icon"}),(0,s.eW)(" Tug Boats ")])):(0,s.Q3)("",!0),t.isCaptain||t.isAdmin?((0,s.uX)(),(0,s.CE)("li",{key:3,onClick:e[3]||(e[3]=e=>t.redirect("CaptainDashboard")),id:"captain-dashboard",class:"sidebar-item"},[t.isCaptain?((0,s.uX)(),(0,s.Wv)(r,{key:0})):(0,s.Q3)("",!0),(0,s.bF)(i,{icon:["fas","display"],class:"sidebar-icon"}),(0,s.eW)(" C-Dashboard ")])):(0,s.Q3)("",!0),t.isScheduler||t.isAdmin||t.isCaptain?((0,s.uX)(),(0,s.CE)("li",{key:4,onClick:e[4]||(e[4]=e=>t.redirect("WorkSchedule")),class:"sidebar-item"},[(0,s.bF)(i,{icon:["fas","calendar-days"],class:"sidebar-icon"}),(0,s.eW)(" Work Schedules ")])):(0,s.Q3)("",!0)]),(0,s.Lk)("div",Yt,[(0,s.Lk)("ul",null,[(0,s.Lk)("li",{onClick:e[5]||(e[5]=e=>t.redirect("Settings")),class:"sidebar-item"},[(0,s.bF)(i,{icon:["fas","gear"],class:"sidebar-icon"}),(0,s.eW)(" Settings ")]),(0,s.Lk)("li",zt,[(0,s.bF)(i,{icon:["fas","user"],class:"sidebar-icon"}),(0,s.eW)(" "+(0,Mt.v_)(l.profile_name),1)])])])])):(0,s.Q3)("",!0),l.screen()?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("button",{key:1,class:"blue-border-button",onClick:e[6]||(e[6]=t=>l.openSidebar()),id:"open-sidebar"},[(0,s.bF)(i,{icon:["fas","forward"]})])),o.sidebarOpened&&l.closeButton()?((0,s.uX)(),(0,s.CE)("button",{key:2,class:"blue-border-button",onClick:e[7]||(e[7]=t=>l.closeSidebar()),id:"close-sidebar"},[(0,s.bF)(i,{icon:["fas","backward"]})])):(0,s.Q3)("",!0)])}var Zt={name:"SideBar",computed:{...(0,u.aH)(["username","isCaptain","isAdmin","isScheduler"]),profile_name(){return this.username||"Guest"}},data(){return{screenWidth:window.innerWidth,screenHeight:window.innerHeight,screenResized:null,sidebarOpened:null}},created(){window.addEventListener("resize",this.handleResize)},destroyed(){window.removeEventListener("resize",this.handleResize)},methods:{screen(){return this.screenHeight>380&&this.screenWidth>820&&(this.sidebarOpened=!0,!0)},closeButton(){if(this.screenHeight<=380||this.screenWidth<=820)return!0},handleResize(){this.screenWidth=window.innerWidth,this.screenHeight=window.innerHeight,this.screenHeight<=380||this.screenWidth<=820?(this.screenResized=!0,this.sidebarOpened=!1):this.screenResized=!1},openSidebar(){this.sidebarOpened=!0},closeSidebar(){this.sidebarOpened=!1}}};const te=(0,i.A)(Zt,[["render",Gt],["__scopeId","data-v-05aed097"]]);var ee=te,ae={name:"Settings",components:{SideBar:ee},computed:{...(0,u.aH)(["username","passwordPlaceholder"])},methods:{change_password(){this.$router.push({name:"ChangePassword"})},logout(){this.$router.push({name:"Login"})}}};const ne=(0,i.A)(ae,[["render",Kt],["__scopeId","data-v-645402ae"]]);var se=ne;const oe=t=>((0,s.Qi)("data-v-5083fdfc"),t=t(),(0,s.jt)(),t),le={id:"Settings"},ie={class:"pages"},re=oe((()=>(0,s.Lk)("h3",null,"Settings",-1))),de={class:"form"},ue=oe((()=>(0,s.Lk)("b",null,[(0,s.Lk)("label",{for:"username"},"Username ")],-1))),ce=["placeholder"],pe=oe((()=>(0,s.Lk)("br",null,null,-1))),he={class:"form"},ke=oe((()=>(0,s.Lk)("b",null,[(0,s.Lk)("label",{for:"password"},"Password ")],-1))),me=oe((()=>(0,s.Lk)("br",null,null,-1))),be=oe((()=>(0,s.Lk)("div",{class:"form"},[(0,s.Lk)("b",null,[(0,s.Lk)("label",{for:"passwordReEntered"},"Re-Enter")]),(0,s.eW)("     "),(0,s.Lk)("input",{type:"password",id:"passwordReEntered",placeholder:"Re-enter new password"})],-1))),ge={class:"cancel-save-buttons"};function Le(t,e,a,o,l,i){const r=(0,s.g2)("SideBar"),d=(0,s.g2)("router-view");return(0,s.uX)(),(0,s.CE)("div",le,[(0,s.bF)(r),(0,s.Lk)("div",ie,[(0,s.bF)(d),re,(0,s.Lk)("div",de,[ue,(0,s.eW)("   "),(0,s.bo)((0,s.Lk)("input",{type:"text",id:"username","onUpdate:modelValue":e[0]||(e[0]=e=>t.username=e),placeholder:t.username,readonly:""},null,8,ce),[[n.Jo,t.username]])]),pe,(0,s.Lk)("div",he,[ke,(0,s.eW)("   "),(0,s.bo)((0,s.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":e[1]||(e[1]=t=>l.password=t),placeholder:"Enter new password"},null,512),[[n.Jo,l.password]])]),me,be]),(0,s.Lk)("div",ge,[(0,s.Lk)("button",{class:"grey-border-button",id:"cancel",onClick:e[2]||(e[2]=e=>t.redirect("Exit-ChangePassword"))},"Cancel"),(0,s.Lk)("button",{class:"blue-button",id:"save",onClick:e[3]||(e[3]=t=>i.save())},"Save")])])}var Ie={name:"ChangePassword",components:{SideBar:ee},data(){return{password:"",reenter:""}},computed:{...(0,u.aH)(["username","passwordPlaceholder"])},mounted(){this.$store.commit("setExitPath","Settings")},methods:{cancel(){this.$router.push({name:"Exit-ChangePassword"})},async save(){if(this.password=document.getElementById("password").value,this.reenter=document.getElementById("passwordReEntered").value,this.password===this.reenter)try{const t=await c.A.post("http://localhost:8000/api/change-password/",{username:this.username,password:this.password});t.data.success?this.$router.push({name:"Login"}):alert("Password change failed.")}catch(t){console.error("Change password error:",t),alert("Password change error.")}else alert("Passwords are not similar."),document.getElementById("passwordReEntered").style.border="1px solid red"}}};const fe=(0,i.A)(Ie,[["render",Le],["__scopeId","data-v-5083fdfc"]]);var Ce=fe;const ye=t=>((0,s.Qi)("data-v-71ba61f8"),t=t(),(0,s.jt)(),t),ve={id:"AdminDashboard"},Te={class:"pages"},Be={class:"header-style"},Se=ye((()=>(0,s.Lk)("h2",null,"Your Dashboard",-1))),we=ye((()=>(0,s.Lk)("span",null,"+",-1))),Ee={id:"captain-info"},_e=ye((()=>(0,s.Lk)("caption",null,[(0,s.Lk)("b",null,"Captain")],-1))),Xe=ye((()=>(0,s.Lk)("thead",null,[(0,s.Lk)("tr",null,[(0,s.Lk)("th",null,[(0,s.Lk)("input",{type:"checkbox",disabled:""})]),(0,s.Lk)("th",null,"Captain Name"),(0,s.Lk)("th",null,"Captain ID"),(0,s.Lk)("th",null,"Tug Boat"),(0,s.Lk)("th",null,"Tug Boat Status")])],-1))),De=["id","name","value"],Ae={id:"captain-name"},Fe={id:"captain-id"},$e={id:"tugboat"},xe={id:"captain-status"},Ue={class:"status-container"},Ne={id:"scheduler-info"},We=ye((()=>(0,s.Lk)("caption",null,[(0,s.Lk)("b",null,"Scheduler")],-1))),Qe=ye((()=>(0,s.Lk)("thead",null,[(0,s.Lk)("tr",null,[(0,s.Lk)("th",null,[(0,s.Lk)("input",{type:"checkbox",disabled:""})]),(0,s.Lk)("th",null,"Scheduler Name"),(0,s.Lk)("th",null,"Scheduler ID")])],-1))),Oe=["id","name","value"],Ve={id:"scheduler-name"},Pe={id:"scheduler-id"};function je(t,e,a,o,l,i){const r=(0,s.g2)("SideBar"),d=(0,s.g2)("router-view"),u=(0,s.g2)("font-awesome-icon");return(0,s.uX)(),(0,s.CE)("div",ve,[(0,s.bF)(r),(0,s.Lk)("div",Te,[(0,s.bF)(d),(0,s.Lk)("div",Be,[Se,(0,s.Lk)("span",null,[(0,s.Lk)("button",{class:"grey-border-button",id:"delete",onClick:e[0]||(e[0]=(...t)=>i.deleteSelected&&i.deleteSelected(...t))},[(0,s.eW)("Delete "),(0,s.bF)(u,{icon:["fas","delete-left"]})]),(0,s.eW)("   "),(0,s.Lk)("button",{class:"blue-button",id:"new-staff",onClick:e[1]||(e[1]=e=>t.redirect("NewStaff"))},[(0,s.eW)("New Staff "),we])])]),(0,s.Lk)("table",Ee,[_e,Xe,(0,s.Lk)("tbody",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t.$store.state.captains,(t=>((0,s.uX)(),(0,s.CE)("tr",{key:t.CaptainId},[(0,s.Lk)("td",null,[(0,s.bo)((0,s.Lk)("input",{type:"checkbox",id:"checkbox"+t.CaptainId,name:"checkbox"+t.name,"onUpdate:modelValue":e[2]||(e[2]=t=>l.selectedCaptains=t),value:t.CaptainId},null,8,De),[[n.lH,l.selectedCaptains]])]),(0,s.Lk)("td",Ae,(0,Mt.v_)(t.name),1),(0,s.Lk)("td",Fe,(0,Mt.v_)(t.CaptainId),1),(0,s.Lk)("td",$e,(0,Mt.v_)(t.tugboat?t.tugboat.TugBoatId:"waiting"),1),(0,s.Lk)("td",xe,[(0,s.Lk)("span",Ue,(0,Mt.v_)(t.tugboat?t.tugboat.CurrentStatus:"waiting"),1)])])))),128))])]),(0,s.Lk)("table",Ne,[We,Qe,(0,s.Lk)("tbody",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t.$store.state.schedulers,(t=>((0,s.uX)(),(0,s.CE)("tr",{key:t.SchedulerId},[(0,s.Lk)("td",null,[(0,s.bo)((0,s.Lk)("input",{type:"checkbox",id:"checkbox"+t.SchedulerId,name:"checkbox"+t.name,"onUpdate:modelValue":e[3]||(e[3]=t=>l.selectedSchedulers=t),value:t.SchedulerId},null,8,Oe),[[n.lH,l.selectedSchedulers]])]),(0,s.Lk)("td",Ve,(0,Mt.v_)(t.name),1),(0,s.Lk)("td",Pe,(0,Mt.v_)(t.SchedulerId),1)])))),128))])])])])}var Ke={name:"AdminDashboard",components:{SideBar:ee},data(){return{selectedCaptains:[],selectedSchedulers:[]}},mounted(){this.$store.dispatch("fetchCaptains"),this.$store.dispatch("fetchSchedulers")},methods:{async deleteSelected(){this.selectedCaptains.length>0&&await fetch("http://127.0.0.1:8000/api/captains-delete/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ids:this.selectedCaptains})}),this.selectedSchedulers.length>0&&await fetch("http://127.0.0.1:8000/api/schedulers-delete/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ids:this.selectedSchedulers})}),this.$store.dispatch("fetchCaptains"),this.$store.dispatch("fetchSchedulers"),this.selectedCaptains=[],this.selectedSchedulers=[]}}};const Me=(0,i.A)(Ke,[["render",je],["__scopeId","data-v-71ba61f8"]]);var Re=Me;const He=t=>((0,s.Qi)("data-v-229e5abb"),t=t(),(0,s.jt)(),t),Je={class:"backdrop"},qe={class:"container-position"},Ye={class:"popup-container"},ze=He((()=>(0,s.Lk)("br",null,null,-1))),Ge=He((()=>(0,s.Lk)("br",null,null,-1))),Ze={class:"form"},ta={class:"form-group"},ea=He((()=>(0,s.Lk)("b",null,[(0,s.Lk)("label",{for:"username"},"ID")],-1))),aa={class:"form-group"},na=He((()=>(0,s.Lk)("b",null,[(0,s.Lk)("label",{for:"name"},"Name")],-1))),sa={class:"form-group"},oa=He((()=>(0,s.Lk)("b",null,[(0,s.Lk)("label",{for:"position"},"Position")],-1))),la=He((()=>(0,s.Lk)("option",{disabled:"",value:"",selected:""},"Choose the position",-1))),ia=He((()=>(0,s.Lk)("option",null,"Administrator",-1))),ra=He((()=>(0,s.Lk)("option",null,"Scheduler",-1))),da=He((()=>(0,s.Lk)("option",null,"Captain",-1))),ua=[la,ia,ra,da],ca=He((()=>(0,s.Lk)("br",null,null,-1))),pa=He((()=>(0,s.Lk)("br",null,null,-1)));function ha(t,e,a,o,l,i){const r=(0,s.g2)("font-awesome-icon");return(0,s.uX)(),(0,s.CE)("div",Je,[(0,s.Lk)("div",qe,[(0,s.Lk)("div",Ye,[(0,s.Lk)("button",{onClick:e[0]||(e[0]=(...t)=>i.close&&i.close(...t))},"X"),ze,(0,s.bF)(r,{icon:["fas","user-plus"],size:["2x"]}),Ge,(0,s.Lk)("div",Ze,[(0,s.Lk)("div",ta,[ea,(0,s.bo)((0,s.Lk)("input",{type:"text",id:"username","onUpdate:modelValue":e[1]||(e[1]=t=>l.username=t),placeholder:"Input staff ID"},null,512),[[n.Jo,l.username]])]),(0,s.Lk)("div",aa,[na,(0,s.bo)((0,s.Lk)("input",{type:"text",id:"name","onUpdate:modelValue":e[2]||(e[2]=t=>l.name=t),placeholder:"Input staff name"},null,512),[[n.Jo,l.name]])]),(0,s.Lk)("div",sa,[oa,(0,s.eW)("   "),(0,s.bo)((0,s.Lk)("select",{id:"position","onUpdate:modelValue":e[3]||(e[3]=t=>l.selectedPosition=t)},ua,512),[[n.u1,l.selectedPosition]])])]),ca,(0,s.Lk)("button",{class:"blue-button",id:"confirm",onClick:e[4]||(e[4]=t=>i.confirm())},"Confirm"),pa])])])}var ka={name:"MessageDetails",data(){return{username:"",name:"",selectedPosition:""}},methods:{close(){this.$router.back()},async confirm(){const t="http://127.0.0.1:8000/api/create-user/";try{await c.A.post(t,{username:this.username,name:this.name,position:this.selectedPosition,password:"12345678"},{headers:{"Content-Type":"application/json"}});alert("User created successfully"),this.close()}catch(e){console.error("Failed to create user:",e),alert("Failed to create user")}}}};const ma=(0,i.A)(ka,[["render",ha],["__scopeId","data-v-229e5abb"]]);var ba=ma;const ga=t=>((0,s.Qi)("data-v-790690d4"),t=t(),(0,s.jt)(),t),La={id:"TaskManager"},Ia={class:"header-style"},fa=ga((()=>(0,s.Lk)("h2",null,"My Dashboard",-1))),Ca={class:"message-container"},ya={class:"job buttons-container"},va=ga((()=>(0,s.Lk)("br",null,null,-1))),Ta=ga((()=>(0,s.Lk)("br",null,null,-1))),Ba=ga((()=>(0,s.Lk)("br",null,null,-1))),Sa=ga((()=>(0,s.Lk)("input",{type:"file",id:"import-task-data"},null,-1))),wa={for:"import-task-data"},Ea=ga((()=>(0,s.Lk)("br",null,null,-1))),_a=ga((()=>(0,s.Lk)("br",null,null,-1))),Xa=ga((()=>(0,s.Lk)("br",null,null,-1))),Da=ga((()=>(0,s.Lk)("input",{type:"file",id:"import-tugboat-data"},null,-1))),Aa={for:"import-tugboat-data"},Fa=ga((()=>(0,s.Lk)("br",null,null,-1))),$a=ga((()=>(0,s.Lk)("br",null,null,-1))),xa=ga((()=>(0,s.Lk)("br",null,null,-1))),Ua=ga((()=>(0,s.Lk)("br",null,null,-1))),Na=ga((()=>(0,s.Lk)("br",null,null,-1))),Wa=ga((()=>(0,s.Lk)("br",null,null,-1))),Qa={class:"header-style"},Oa={class:"filter-group"},Va={class:"filter"},Pa=ga((()=>(0,s.Lk)("label",{for:"containerBoatFilter"},"Container Boat: ",-1))),ja=ga((()=>(0,s.Lk)("option",{value:""},"All",-1))),Ka={class:"filter"},Ma=ga((()=>(0,s.Lk)("label",{for:"countryFilter"},"Country: ",-1))),Ra=ga((()=>(0,s.Lk)("option",{value:""},"All",-1))),Ha={class:"filter"},Ja=ga((()=>(0,s.Lk)("label",{for:"tugBoatFilter"},"Tug Boat: ",-1))),qa=ga((()=>(0,s.Lk)("option",{value:""},"All",-1))),Ya={class:"filter"},za=ga((()=>(0,s.Lk)("label",{for:"berthFilter"},"Berth: ",-1))),Ga=ga((()=>(0,s.Lk)("option",{value:""},"All",-1))),Za={class:"filter"},tn=ga((()=>(0,s.Lk)("label",{for:"workTypeFilter"},"Work Type: ",-1))),en=ga((()=>(0,s.Lk)("option",{value:""},"All",-1))),an=ga((()=>(0,s.Lk)("option",null,"INBOUND",-1))),nn=ga((()=>(0,s.Lk)("option",null,"OUTBOUND",-1))),sn=[en,an,nn],on={class:"filter"},ln=ga((()=>(0,s.Lk)("label",{for:"statusFilter"},"Status: ",-1))),rn=ga((()=>(0,s.Lk)("option",{value:""},"All",-1))),dn=ga((()=>(0,s.Lk)("option",null,"Completed",-1))),un=ga((()=>(0,s.Lk)("option",null,"Confirmed",-1))),cn=ga((()=>(0,s.Lk)("option",null,"Scheduled",-1))),pn=ga((()=>(0,s.Lk)("option",null,"Unscheduled",-1))),hn=[rn,dn,un,cn,pn],kn={key:0,class:"waiting"},mn={key:1,class:"table-container"},bn=ga((()=>(0,s.Lk)("thead",null,[(0,s.Lk)("tr",null,[(0,s.Lk)("th",{rowspan:"2"},[(0,s.Lk)("input",{type:"checkbox"})]),(0,s.Lk)("th",{rowspan:"2"},"No."),(0,s.Lk)("th",{rowspan:"2"},"Planned Time"),(0,s.Lk)("th",{rowspan:"2"},"Container Boat"),(0,s.Lk)("th",{rowspan:"2"},"Country"),(0,s.Lk)("th",{style:{"text-align":"center"},colspan:"2"},"Tug Boat"),(0,s.Lk)("th",{rowspan:"2"},"Berth"),(0,s.Lk)("th",{rowspan:"2"},"Work Type"),(0,s.Lk)("th",{style:{"text-align":"center"},colspan:"2"},"Actual Time"),(0,s.Lk)("th",{rowspan:"2"},"Status"),(0,s.Lk)("th",{rowspan:"2"},"Publish Time")]),(0,s.Lk)("tr",null,[(0,s.Lk)("th",null,"Need"),(0,s.Lk)("th",null,"IDs"),(0,s.Lk)("th",null,"Start"),(0,s.Lk)("th",null,"End")])],-1))),gn=["id","name","value"],Ln={class:"number"},In=["onSubmit"],fn=ga((()=>(0,s.Lk)("input",{class:"submit-button",type:"submit"},null,-1))),Cn=["onClick"],yn=["onSubmit"],vn=["onChange"],Tn=["onClick"],Bn=["onClick"],Sn={key:1},wn=["onChange"],En=ga((()=>(0,s.Lk)("option",{value:""},null,-1))),_n=["onClick"],Xn={key:1},Dn=["onChange"],An={key:0},Fn=["onChange"],$n=["onClick"],xn={class:"work-type"},Un={class:"start-time"},Nn={class:"end-time"},Wn={class:"work-status"},Qn={class:"publish-time"},On=["id","name","value"],Vn={class:"number"},Pn=["onSubmit"],jn=ga((()=>(0,s.Lk)("input",{class:"submit-button",type:"submit"},null,-1))),Kn=["onClick"],Mn=["onSubmit"],Rn=["onChange"],Hn=["onClick"],Jn={class:"country"},qn=["onClick"],Yn=["onSubmit"],zn=ga((()=>(0,s.Lk)("button",{class:"submit-button",type:"submit"},null,-1))),Gn={key:0},Zn=["onChange"],ts=["onClick"],es={key:0},as=["onChange"],ns=ga((()=>(0,s.Lk)("option",null,"INBOUND",-1))),ss=ga((()=>(0,s.Lk)("option",null,"OUTBOUND",-1))),os=[ns,ss],ls=["onClick"],is={class:"disabled-column"},rs={class:"disabled-column"},ds={class:"work-status"},us={class:"disabled-column"},cs=["id","name","value"],ps={class:"number"},hs={class:"country"},ks={class:"work-type"},ms={class:"status-container"},bs={class:"start-time"},gs={class:"end-time"},Ls={class:"work-status"},Is={class:"status-container"},fs={class:"publish-time"};function Cs(t,e,a,o,l,i){const r=(0,s.g2)("SideBar"),d=(0,s.g2)("router-view"),u=(0,s.g2)("font-awesome-icon");return(0,s.uX)(),(0,s.CE)("div",La,[(0,s.Lk)("div",{class:(0,Mt.C4)(["progress-bar",{"progress-bar-active":l.showProgressBar}])},null,2),(0,s.bF)(r),(0,s.Lk)("div",{class:"pages",onClick:e[40]||(e[40]=(...e)=>t.toggle&&t.toggle(...e))},[(0,s.bF)(d),(0,s.Lk)("div",Ia,[fa,(0,s.Lk)("span",Ca,[(0,s.Lk)("button",{id:"message",onClick:e[0]||(e[0]=e=>t.message())},[(0,s.bF)(u,{icon:["fas","bell"]})])])]),(0,s.Lk)("div",ya,[(0,s.Lk)("button",{id:"schedule",onClick:e[1]||(e[1]=t=>i.schedule())},[(0,s.eW)("Schedule "),(0,s.bF)(u,{icon:["fas","calendar-day"]})]),va,Ta,Ba,Sa,(0,s.Lk)("label",wa,[(0,s.Lk)("button",{onClick:e[2]||(e[2]=t=>i.importTaskData())},[(0,s.eW)("Import Task Data "),(0,s.bF)(u,{icon:["fas","file-import"]})])]),Ea,_a,Xa,Da,(0,s.Lk)("label",Aa,[(0,s.Lk)("button",{onClick:e[3]||(e[3]=t=>i.importTugboatData())},[(0,s.eW)("Import Tug Boat Data "),(0,s.bF)(u,{icon:["fas","file-import"]})])]),Fa,$a,xa,(0,s.Lk)("button",{id:"download",onClick:e[4]||(e[4]=t=>i.download())},[(0,s.eW)("Download "),(0,s.bF)(u,{icon:["fas","download"]})]),Ua,Na,Wa,(0,s.Lk)("button",{class:"blue-button",id:"publish",onClick:e[5]||(e[5]=t=>i.publish())},[(0,s.eW)("Publish "),(0,s.bF)(u,{icon:["fas","upload"]})])]),(0,s.Lk)("div",Qa,[(0,s.Lk)("div",Oa,[(0,s.Lk)("span",Va,[Pa,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":e[6]||(e[6]=t=>l.containerBoatInput=t)},[ja,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t.$store.state.containerBoats,(t=>((0,s.uX)(),(0,s.CE)("option",{key:t.ContainerBoatID},(0,Mt.v_)(t.ContainerBoatID),1)))),128))],512),[[n.u1,l.containerBoatInput]])]),(0,s.Lk)("span",Ka,[Ma,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":e[7]||(e[7]=t=>l.countryInput=t)},[Ra,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.countryList(),((t,e)=>((0,s.uX)(),(0,s.CE)("option",{key:e},(0,Mt.v_)(t),1)))),128))],512),[[n.u1,l.countryInput]])]),(0,s.Lk)("span",Ha,[Ja,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>l.tugBoatInput=t)},[qa,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t.$store.state.tugboats,(t=>((0,s.uX)(),(0,s.CE)("option",{key:t.TugBoatId},(0,Mt.v_)(t.TugBoatId),1)))),128))],512),[[n.u1,l.tugBoatInput]])]),(0,s.Lk)("span",Ya,[za,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":e[9]||(e[9]=t=>l.berthInput=t)},[Ga,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t.$store.state.berths,(t=>((0,s.uX)(),(0,s.CE)("option",{key:t.BerthId},(0,Mt.v_)(t.BerthId),1)))),128))],512),[[n.u1,l.berthInput]])]),(0,s.Lk)("span",Za,[tn,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":e[10]||(e[10]=t=>l.workTypeInput=t)},sn,512),[[n.u1,l.workTypeInput]])]),(0,s.Lk)("span",on,[ln,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":e[11]||(e[11]=t=>l.statusInput=t)},hn,512),[[n.u1,l.statusInput]])])]),(0,s.Lk)("span",null,[(0,s.Lk)("button",{class:"blue-border-button",id:"delete",onClick:e[12]||(e[12]=(...t)=>i.deleteSelected&&i.deleteSelected(...t))},[(0,s.eW)("Delete "),(0,s.bF)(u,{icon:["fas","delete-left"]})]),(0,s.eW)("   "),(0,s.Lk)("button",{class:"blue-border-button",id:"add",onClick:e[13]||(e[13]=e=>t.redirect("NewTask"))},"Add + ")])]),i.waiting()?((0,s.uX)(),(0,s.CE)("div",kn,"No Task Available")):(0,s.Q3)("",!0),i.waiting()?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",mn,[(0,s.Lk)("table",null,[bn,(0,s.Lk)("tbody",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.entryList("Incomplete"),((a,o)=>((0,s.uX)(),(0,s.CE)("tr",{key:o},[(0,s.Lk)("td",null,[(0,s.bo)((0,s.Lk)("input",{type:"checkbox",id:"mycheckbox"+a.ScheduleEntryId,name:t.myCheckbox,"onUpdate:modelValue":e[14]||(e[14]=t=>l.selectedScheduleEntries=t),value:a.TaskId.TaskId},null,8,gn),[[n.lH,l.selectedScheduleEntries]])]),(0,s.Lk)("td",Ln,(0,Mt.v_)(a.ScheduleEntryId),1),(0,s.Lk)("td",{onClick:e[16]||(e[16]=(0,n.D$)((()=>{}),["stop"]))},[l.timeInfo===a.ScheduleEntryId?((0,s.uX)(),(0,s.CE)("form",{key:0,onSubmit:t=>i.edit(a.TaskId.TaskId,a.ScheduleEntryId)},[(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":e[15]||(e[15]=e=>t.plannedTime=e),type:"datetime-local"},null,512),[[n.Jo,t.plannedTime]]),fn],40,In)):(0,s.Q3)("",!0),l.timeInfo!=a.ScheduleEntryId?((0,s.uX)(),(0,s.CE)("span",{key:1,onClick:t=>i.selected(a.ScheduleEntryId,"time")},(0,Mt.v_)(t.formatDate(a.TaskId.startTime))+"  "+(0,Mt.v_)(t.formatTime(a.TaskId.startTime)),9,Cn)):(0,s.Q3)("",!0)]),(0,s.Lk)("td",{onClick:e[18]||(e[18]=(0,n.D$)((()=>{}),["stop"]))},[l.containerBoatInfo===a.ScheduleEntryId?((0,s.uX)(),(0,s.CE)("form",{key:0,onSubmit:t=>i.edit(a.TaskId.TaskId,a.ScheduleEntryId)},[(0,s.bo)((0,s.Lk)("select",{onChange:t=>i.edit(a.TaskId.TaskId,a.ScheduleEntryId),"onUpdate:modelValue":e[17]||(e[17]=e=>t.containerBoatId=e)},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t.$store.state.containerBoats,(t=>((0,s.uX)(),(0,s.CE)("option",{key:t.ContainerBoatID},(0,Mt.v_)(t.ContainerBoatID),1)))),128))],40,vn),[[n.u1,t.containerBoatId]])],40,yn)):(0,s.Q3)("",!0),l.containerBoatInfo!=a.ScheduleEntryId?((0,s.uX)(),(0,s.CE)("span",{key:1,onClick:t=>i.selected(a.ScheduleEntryId,"containerBoatId")},(0,Mt.v_)(a.TaskId.ContainerBoatID.ContainerBoatID),9,Tn)):(0,s.Q3)("",!0)]),(0,s.Lk)("td",{onClick:e[19]||(e[19]=(0,n.D$)((()=>{}),["stop"])),class:"country"},(0,Mt.v_)(a.TaskId.ContainerBoatID.Country),1),(0,s.Lk)("td",{onClick:e[20]||(e[20]=(0,n.D$)((()=>{}),["stop"]))},[(0,s.Lk)("span",null,(0,Mt.v_)(a.TaskId.RequiredTugBoat),1)]),(0,s.Lk)("td",{onClick:e[23]||(e[23]=(0,n.D$)((()=>{}),["stop"]))},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(a.listOfTugBoats.map((t=>t.TugBoatId)),(o=>((0,s.uX)(),(0,s.CE)("span",{key:o},[l.tugBoatInfo!=a.ScheduleEntryId||l.tugBoatIndex!=o?((0,s.uX)(),(0,s.CE)("span",{key:0,onClick:t=>i.tugBoatSelected(a.ScheduleEntryId,o)},[(0,s.Lk)("span",null,(0,Mt.v_)(o)+" / ",1)],8,Bn)):(0,s.Q3)("",!0),l.tugBoatInfo===a.ScheduleEntryId&&l.tugBoatIndex===o?((0,s.uX)(),(0,s.CE)("form",Sn,[(0,s.bo)((0,s.Lk)("select",{onChange:t=>i.edit(a.TaskId.TaskId,a.ScheduleEntryId,o),"onUpdate:modelValue":e[21]||(e[21]=e=>t.tugBoat=e)},[En,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.changeTugboatList(),(t=>((0,s.uX)(),(0,s.CE)("option",{key:t.TugBoatId},(0,Mt.v_)(t.TugBoatId),1)))),128))],40,wn),[[n.u1,t.tugBoat]])])):(0,s.Q3)("",!0)])))),128)),l.tugBoatInfo!=a.ScheduleEntryId||"add"!=l.tugBoatIndex?((0,s.uX)(),(0,s.CE)("span",{key:0,onClick:t=>i.tugBoatSelected(a.ScheduleEntryId,"add")},[(0,s.bF)(u,{icon:["fas","circle-plus"],id:"add-tugboat"})],8,_n)):(0,s.Q3)("",!0),l.tugBoatInfo===a.ScheduleEntryId&&"add"===l.tugBoatIndex?((0,s.uX)(),(0,s.CE)("form",Xn,[(0,s.bo)((0,s.Lk)("select",{onChange:t=>i.edit(a.TaskId.TaskId,a.ScheduleEntryId),"onUpdate:modelValue":e[22]||(e[22]=e=>t.tugBoat=e)},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t.$store.state.tugboats,(t=>((0,s.uX)(),(0,s.CE)("option",{key:t.TugBoatId},(0,Mt.v_)(t.TugBoatId),1)))),128))],40,Dn),[[n.u1,t.tugBoat]])])):(0,s.Q3)("",!0)]),(0,s.Lk)("td",{onClick:e[25]||(e[25]=(0,n.D$)((()=>{}),["stop"]))},[l.berthInfo===a.ScheduleEntryId?((0,s.uX)(),(0,s.CE)("form",An,[(0,s.bo)((0,s.Lk)("select",{onChange:t=>i.edit(a.TaskId.TaskId,a.ScheduleEntryId),"onUpdate:modelValue":e[24]||(e[24]=e=>t.berthId=e)},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t.$store.state.berths,(t=>((0,s.uX)(),(0,s.CE)("option",{key:t.BerthID},(0,Mt.v_)(t.BerthId),1)))),128))],40,Fn),[[n.u1,t.berthId]])])):(0,s.Q3)("",!0),l.berthInfo!=a.ScheduleEntryId?((0,s.uX)(),(0,s.CE)("span",{key:1,onClick:t=>i.selected(a.ScheduleEntryId,"berthId")},(0,Mt.v_)(a.TaskId.BerthId),9,$n)):(0,s.Q3)("",!0)]),(0,s.Lk)("td",xn,[(0,s.Lk)("span",{class:"status-container",style:(0,Mt.Tr)(t.getActionStyle(a.TaskId.Action))},(0,Mt.v_)(a.TaskId.Action),5)]),(0,s.Lk)("td",Un,(0,Mt.v_)(t.formatTime(a.StartTime)),1),(0,s.Lk)("td",Nn,(0,Mt.v_)(t.formatTime(a.EndTime)),1),(0,s.Lk)("td",Wn,[(0,s.Lk)("span",{class:"status-container",style:(0,Mt.Tr)(t.getStatusStyle(a.Status))},(0,Mt.v_)(a.Status),5)]),(0,s.Lk)("td",Qn,(0,Mt.v_)(t.formatTime(a.PublishTime)),1)])))),128)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.taskList(),((a,o)=>((0,s.uX)(),(0,s.CE)("tr",{key:o},[(0,s.Lk)("td",null,[(0,s.bo)((0,s.Lk)("input",{type:"checkbox",id:"myCheckbox"+a.TaskId,name:t.myCheckbox,"onUpdate:modelValue":e[26]||(e[26]=t=>l.selectedTasks=t),value:a.TaskId},null,8,On),[[n.lH,l.selectedTasks]])]),(0,s.Lk)("td",Vn,(0,Mt.v_)(o+1),1),(0,s.Lk)("td",{onClick:e[28]||(e[28]=(0,n.D$)((()=>{}),["stop"]))},[l.timeInfo===a.TaskId?((0,s.uX)(),(0,s.CE)("form",{key:0,onSubmit:t=>i.edit(a.TaskId)},[(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":e[27]||(e[27]=e=>t.plannedTime=e),type:"datetime-local"},null,512),[[n.Jo,t.plannedTime]]),jn],40,Pn)):(0,s.Q3)("",!0),l.timeInfo!=a.TaskId?((0,s.uX)(),(0,s.CE)("span",{key:1,onClick:t=>i.selected(a.TaskId,"time")},(0,Mt.v_)(t.formatDate(a.startTime))+"  "+(0,Mt.v_)(t.formatTime(a.startTime)),9,Kn)):(0,s.Q3)("",!0)]),(0,s.Lk)("td",{onClick:e[30]||(e[30]=(0,n.D$)((()=>{}),["stop"]))},[l.containerBoatInfo===a.TaskId?((0,s.uX)(),(0,s.CE)("form",{key:0,onSubmit:t=>i.edit(a.TaskId)},[(0,s.bo)((0,s.Lk)("select",{onChange:t=>i.edit(a.TaskId),"onUpdate:modelValue":e[29]||(e[29]=e=>t.containerBoatId=e)},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t.$store.state.containerBoats,(t=>((0,s.uX)(),(0,s.CE)("option",{key:t.ContainerBoatID},(0,Mt.v_)(t.ContainerBoatID),1)))),128))],40,Rn),[[n.u1,t.containerBoatId]])],40,Mn)):(0,s.Q3)("",!0),l.containerBoatInfo!=a.TaskId?((0,s.uX)(),(0,s.CE)("span",{key:1,onClick:t=>i.selected(a.TaskId,"containerBoatId")},(0,Mt.v_)(a.ContainerBoatID.ContainerBoatID),9,Hn)):(0,s.Q3)("",!0)]),(0,s.Lk)("td",Jn,(0,Mt.v_)(a.ContainerBoatID.Country),1),(0,s.Lk)("td",{onClick:e[31]||(e[31]=(0,n.D$)((()=>{}),["stop"]))},[(0,s.Lk)("span",null,(0,Mt.v_)(a.RequiredTugBoat),1)]),(0,s.Lk)("td",{onClick:e[33]||(e[33]=(0,n.D$)((()=>{}),["stop"])),class:"disabled-column"},[l.tugBoatInfo!="task"+a.TaskId?((0,s.uX)(),(0,s.CE)("span",{key:0,onClick:t=>i.selected("task"+a.TaskId,"tugBoat")},[(0,s.bF)(u,{icon:["fas","circle-plus"],id:"add-tugboat"})],8,qn)):(0,s.Q3)("",!0),l.tugBoatInfo==="task"+a.TaskId?((0,s.uX)(),(0,s.CE)("form",{key:1,onSubmit:(0,n.D$)((t=>i.manualSchedule(a.TaskId)),["prevent"])},[(0,s.bo)((0,s.Lk)("select",{multiple:"","onUpdate:modelValue":e[32]||(e[32]=e=>t.listOfTugBoat=e)},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.changeTugboatList(),(t=>((0,s.uX)(),(0,s.CE)("option",{key:t.TugBoatId},(0,Mt.v_)(t.TugBoatId),1)))),128))],512),[[n.u1,t.listOfTugBoat]]),zn],40,Yn)):(0,s.Q3)("",!0)]),(0,s.Lk)("td",{onClick:e[35]||(e[35]=(0,n.D$)((()=>{}),["stop"]))},[l.berthInfo===a.TaskId?((0,s.uX)(),(0,s.CE)("form",Gn,[(0,s.bo)((0,s.Lk)("select",{onChange:t=>i.edit(a.TaskId),"onUpdate:modelValue":e[34]||(e[34]=e=>t.berthId=e)},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t.$store.state.berths,(t=>((0,s.uX)(),(0,s.CE)("option",{key:t.BerthID},(0,Mt.v_)(t.BerthId),1)))),128))],40,Zn),[[n.u1,t.berthId]])])):(0,s.Q3)("",!0),l.berthInfo!=a.TaskId?((0,s.uX)(),(0,s.CE)("span",{key:1,onClick:t=>i.selected(a.TaskId,"berthId")},(0,Mt.v_)(a.BerthId),9,ts)):(0,s.Q3)("",!0)]),(0,s.Lk)("td",{onClick:e[37]||(e[37]=(0,n.D$)((()=>{}),["stop"])),class:"work-type"},[l.actionInfo===a.TaskId?((0,s.uX)(),(0,s.CE)("form",es,[(0,s.bo)((0,s.Lk)("select",{onChange:t=>i.edit(a.TaskId),"onUpdate:modelValue":e[36]||(e[36]=e=>t.action=e)},os,40,as),[[n.u1,t.action]])])):(0,s.Q3)("",!0),l.actionInfo!=a.TaskId?((0,s.uX)(),(0,s.CE)("span",{key:1,onClick:t=>i.selected(a.TaskId,"action"),class:"status-container",style:(0,Mt.Tr)(t.getActionStyle(a.Action))},(0,Mt.v_)(a.Action),13,ls)):(0,s.Q3)("",!0)]),(0,s.Lk)("td",is,(0,Mt.v_)(),1),(0,s.Lk)("td",rs,(0,Mt.v_)(),1),(0,s.Lk)("td",ds,[(0,s.Lk)("span",{class:"status-container",style:(0,Mt.Tr)(t.getStatusStyle(a.State))},(0,Mt.v_)(a.State),5)]),(0,s.Lk)("td",us,(0,Mt.v_)(),1)])))),128)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.entryList("Completed"),((a,o)=>((0,s.uX)(),(0,s.CE)("tr",{class:"disabled-row",key:o},[(0,s.Lk)("td",null,[(0,s.bo)((0,s.Lk)("input",{type:"checkbox",id:"myCheckbox"+a.TaskId,name:t.myCheckbox,"onUpdate:modelValue":e[38]||(e[38]=t=>l.selectedTasks=t),value:a.TaskId.TaskId},null,8,cs),[[n.lH,l.selectedTasks]])]),(0,s.Lk)("td",ps,(0,Mt.v_)(o+1),1),(0,s.Lk)("td",null,(0,Mt.v_)(t.formatDate(a.TaskId.startTime))+"  "+(0,Mt.v_)(t.formatTime(a.TaskId.startTime)),1),(0,s.Lk)("td",null,(0,Mt.v_)(a.TaskId.ContainerBoatID.ContainerBoatID),1),(0,s.Lk)("td",hs,(0,Mt.v_)(a.TaskId.ContainerBoatID.Country),1),(0,s.Lk)("td",{onClick:e[39]||(e[39]=(0,n.D$)((()=>{}),["stop"]))},[(0,s.Lk)("span",null,(0,Mt.v_)(a.TaskId.RequiredTugBoat),1)]),(0,s.Lk)("td",null,(0,Mt.v_)(a.listOfTugBoats.map((t=>t.TugBoatId)).join("/ ")),1),(0,s.Lk)("td",null,(0,Mt.v_)(a.TaskId.BerthId),1),(0,s.Lk)("td",ks,[(0,s.Lk)("span",ms,(0,Mt.v_)(a.TaskId.Action),1)]),(0,s.Lk)("td",bs,(0,Mt.v_)(a.startTime),1),(0,s.Lk)("td",gs,(0,Mt.v_)(a.endTime),1),(0,s.Lk)("td",Ls,[(0,s.Lk)("span",Is,(0,Mt.v_)(a.Status),1)]),(0,s.Lk)("td",fs,(0,Mt.v_)(a.publishTime),1)])))),128))])])]))])])}var ys={name:"WorkSchedule",components:{SideBar:ee},mounted(){this.$store.dispatch("fetchScheduleEntries"),this.$store.dispatch("fetchTasks"),this.$store.dispatch("fetchContainerBoats"),this.$store.dispatch("fetchBerths"),this.$store.dispatch("fetchTugBoats")},data(){return{tugBoatIndex:null,tugBoatInfo:null,timeInfo:null,containerBoatInfo:null,berthInfo:null,actionInfo:null,searchValue:null,entries:[],tasks:[],containerBoats:[],containerBoatInput:"",countryInput:"",tugBoatInput:"",berthInput:"",workTypeInput:"",statusInput:"",selectedTasks:[],selectedScheduleEntries:[],showProgressBar:!1}},methods:{async deleteSelected(){this.selectedTasks.length>0&&await fetch("http://127.0.0.1:8000/api/tasks-delete/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ids:this.selectedTasks})}),this.selectedScheduleEntries.length>0&&await fetch("http://127.0.0.1:8000/api/scheduleentries-delete/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ids:this.selectedScheduleEntries})}),this.$store.dispatch("fetchTasks"),this.$store.dispatch("fetchScheduleEntries"),this.selectedTasks=[],this.selectedScheduleEntries=[]},waiting(){return 0===this.$store.state.tasks.length},async schedule(){this.showProgressBar=!0;try{const t=await c.A.post("http://localhost:8000/api/auto-schedule",{});console.log(t.data)}catch(t){console.error("Error during schedule operation: ",t),alert("Schedule operation failed, check logs for details.")}setTimeout((()=>{this.showProgressBar=!1,alert("Schedule operation successful!")}),2e3)},importTaskData(){let t=document.getElementById("import-task-data");t.onchange=t=>{const e=t.target.files[0];if(!e)return;let a=new FormData;a.append("task_data",e),c.A.post("http://localhost:8000/api/upload-task-data",a,{headers:{"Content-Type":"multipart/form-data"}}).then((t=>{console.log(t.data),alert("Imported success!")})).catch((t=>{console.error("Error uploading file: ",t),alert("Failed to import, check logs for details.")}))},t.click()},importTugboatData(){let t=document.getElementById("import-tugboat-data");t.onchange=t=>{const e=t.target.files[0];if(!e)return;let a=new FormData;a.append("tugboat_data",e),c.A.post("http://localhost:8000/api/upload-tug-boat-data",a,{headers:{"Content-Type":"multipart/form-data"}}).then((t=>{console.log(t.data),alert("Imported success!")})).catch((t=>{console.error("Error uploading file: ",t),alert("Failed to import, check logs for details.")}))},t.click()},download(){c.A.post("http://localhost:8000/api/publish-data").then((t=>{console.log(t.data.message),alert("Published success!")})).catch((t=>{console.error("error: ",t),alert("Failed to publish data, check logs for details.")}))},async publish(){const t=(new Date).toISOString();try{const e=await c.A.post("http://localhost:8000/api/update-publish-time",{timeStamp:t});console.log(e.data),alert("Publish Successfully")}catch(e){console.error(e),alert("Publish Successfully")}},countryList(){const t=[...new Set(this.$store.state.containerBoats.map((t=>t.Country)))];return t},entryList(t){this.entries=this.$store.state.scheduleEntries;const e="Completed"===t;return this.entries.filter((t=>{const a=!this.countryInput||t.TaskId.ContainerBoatID.Country.toString()===this.countryInput,n=!this.containerBoatInput||t.TaskId.ContainerBoatID.ContainerBoatID.toString()===this.containerBoatInput,s=!this.tugBoatInput||t.listOfTugBoats.map((t=>t.TugBoatId)).includes(this.tugBoatInput),o=!this.berthInput||t.TaskId.BerthId.toString()===this.berthInput,l=!this.workTypeInput||t.TaskId.Action===this.workTypeInput,i=!this.statusInput||t.Status===this.statusInput,r="Completed"===t.Status;return a&&n&&s&&o&&l&&i&&(e?r:!r)}))},taskList(){return this.tasks=this.$store.state.tasks,this.tasks.filter((t=>{const e=!this.countryInput||t.ContainerBoatID.Country.toString()===this.countryInput,a=!this.containerBoatInput||t.ContainerBoatID.ContainerBoatID.toString()===this.containerBoatInput,n=""===this.tugBoatInput,s=!this.berthInput||t.BerthId.toString()===this.berthInput,o=!this.workTypeInput||t.Action===this.workTypeInput,l=!this.statusInput||t.State===this.statusInput,i="Unscheduled"===t.State;return e&&a&&n&&s&&o&&l&&i}))},changeTugboatList(){return this.$store.state.tugboats},resetNull(){this.tugBoatInfo=null,this.tugBoatIndex=null,this.timeInfo=null,this.containerBoatInfo=null,this.berthInfo=null,this.actionInfo=null},tugBoatSelected(t,e){this.resetNull,this.tugBoatInfo=t,this.tugBoatIndex=e},selected(t,e){this.resetNull(),"tugBoat"===e?this.tugBoatInfo=t:"time"===e?this.timeInfo=t:"containerBoatId"===e?this.containerBoatInfo=t:"berthId"===e?this.berthInfo=t:"action"===e&&(this.actionInfo=t)},async edit(t,e,a){try{const n=await c.A.post("http://localhost:8000/api/update-entry-task/",{entryId:e,taskId:t,plannedTime:this.plannedTime,containerBoatId:this.containerBoatId,removeTugBoatId:a,newTugBoatId:this.tugBoat,berthId:this.berthId,action:this.action});n.data.success?(n.data.conflict?alert("There are conflicted entries. Rescheduling..."):alert("Edit Successfully"),window.location.reload(),this.resetNull()):alert("Edit Task Failed.")}catch(n){console.error("Edit task error:",n),alert("Edit Task Error.")}},async manualSchedule(t){try{const e=await c.A.post("http://localhost:8000/api/manual-schedule/",{taskId:t,tugBoatList:this.listOfTugBoat});e.data.success?(e.data.conflict?alert("There are conflicted entries. Rescheduling..."):alert("Manual Scheduling Successful"),window.location.reload(),this.resetNull()):alert("Manual Schedulling Failed.")}catch(e){console.error("Error during manual schedulling:",e),alert("Manual Schedulling Error.")}},async getTugBoatStyle(t){try{const e=await c.A.post("http://localhost:8000/api/tugboat-availability",{tugboatId:t});if(e.data.success){let t;switch(console.log("get tugboat availability success"),e.data.message){case!0:t="green";break;default:t="red"}return{backgroundColor:t,color:"white",padding:"5px","border-radius":"10px"}}console.log("failed")}catch(e){console.error("Get tugboat availability error: ",e)}}}};const vs=(0,i.A)(ys,[["render",Cs],["__scopeId","data-v-790690d4"]]);var Ts=vs;const Bs=t=>((0,s.Qi)("data-v-e5935b30"),t=t(),(0,s.jt)(),t),Ss={id:"NewTask"},ws={class:"pages"},Es=Bs((()=>(0,s.Lk)("h2",null,"New Task",-1))),_s=Bs((()=>(0,s.Lk)("th",null,[(0,s.Lk)("label",{for:"containerBoatId"},"Container Boat")],-1))),Xs=Bs((()=>(0,s.Lk)("th",null,[(0,s.Lk)("label",{for:"country"},"Country")],-1))),Ds=Bs((()=>(0,s.Lk)("th",null,[(0,s.Lk)("label",{for:"tonnage"},"Tonnage")],-1))),As=Bs((()=>(0,s.Lk)("th",null,[(0,s.Lk)("label",{for:"time"},"Time")],-1))),Fs=Bs((()=>(0,s.Lk)("th",null,[(0,s.Lk)("label",{for:"action"},"Action")],-1))),$s=Bs((()=>(0,s.Lk)("option",null,"INBOUND",-1))),xs=Bs((()=>(0,s.Lk)("option",null,"OUTBOUND",-1))),Us=[$s,xs],Ns=Bs((()=>(0,s.Lk)("th",null,[(0,s.Lk)("label",{for:"berth"},"Berth")],-1))),Ws={class:"cancel-save-buttons"},Qs=Bs((()=>(0,s.Lk)("input",{class:"save",type:"submit",value:"Save"},null,-1)));function Os(t,e,a,o,l,i){const r=(0,s.g2)("SideBar"),d=(0,s.g2)("router-view");return(0,s.uX)(),(0,s.CE)("div",Ss,[(0,s.bF)(r),(0,s.Lk)("form",{onSubmit:e[7]||(e[7]=(0,n.D$)((t=>i.save()),["prevent"]))},[(0,s.Lk)("div",ws,[(0,s.bF)(d),Es,(0,s.Lk)("table",null,[(0,s.Lk)("tr",null,[_s,(0,s.Lk)("td",null,[(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=e=>t.containerBoatId=e),placeholder:"Input the ID of Container Boat",required:""},null,512),[[n.Jo,t.containerBoatId]])])]),(0,s.Lk)("tr",null,[Xs,(0,s.Lk)("td",null,[(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=e=>t.country=e),placeholder:"Input the Country",required:""},null,512),[[n.Jo,t.country]])])]),(0,s.Lk)("tr",null,[Ds,(0,s.Lk)("td",null,[(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=e=>t.tonnage=e),placeholder:"Input Tonnage of Ship",required:""},null,512),[[n.Jo,t.tonnage]])])]),(0,s.Lk)("tr",null,[As,(0,s.Lk)("td",null,[(0,s.bo)((0,s.Lk)("input",{type:"datetime-local","onUpdate:modelValue":e[3]||(e[3]=e=>t.time=e),placeholder:"Set time",required:""},null,512),[[n.Jo,t.time]])])]),(0,s.Lk)("tr",null,[Fs,(0,s.Lk)("td",null,[(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":e[4]||(e[4]=e=>t.action=e),required:""},Us,512),[[n.u1,t.action]])])]),(0,s.Lk)("tr",null,[Ns,(0,s.Lk)("td",null,[(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":e[5]||(e[5]=e=>t.berth=e),required:""},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t.$store.state.berths,(t=>((0,s.uX)(),(0,s.CE)("option",{key:t.BerthId},(0,Mt.v_)(t.BerthId),1)))),128))],512),[[n.u1,t.berth]])])])])]),(0,s.Lk)("div",Ws,[(0,s.Lk)("button",{class:"grey-border-button",id:"cancel",onClick:e[6]||(e[6]=e=>t.redirect("Exit-NewTask"))},"Cancel"),Qs])],32)])}var Vs={name:"NewTask",components:{SideBar:ee},mounted(){this.$store.dispatch("fetchBerths"),this.$store.commit("setExitPath","SchedulerDashboard")},methods:{async save(){try{const t=await c.A.post("http://localhost:8000/api/save-newtask/",{containerBoatId:this.containerBoatId,time:this.time,tonnage:this.tonnage,country:this.country,requiredTugBoat:this.requiredTugBoat,action:this.action,berthId:this.berth,state:this.state},{headers:{"Content-Type":"application/json"}});t.data.success?(alert("Added successfully"),this.$router.push({name:"Save-NewTask"})):alert("Add container boat Failed.")}catch(t){console.error("Add container boat error:",t),alert("Add container boat Error.")}}}};const Ps=(0,i.A)(Vs,[["render",Os],["__scopeId","data-v-e5935b30"]]);var js=Ps;const Ks=t=>((0,s.Qi)("data-v-754c724c"),t=t(),(0,s.jt)(),t),Ms={class:"pages"},Rs=Ks((()=>(0,s.Lk)("h2",null,"Tug Boat List",-1))),Hs={class:"header-style"},Js={class:"search-form"},qs={class:"filter-group"},Ys=Ks((()=>(0,s.Lk)("label",{for:"statusFilter"},"Status: ",-1))),zs={class:"table-container"},Gs={class:"work-table"},Zs=Ks((()=>(0,s.Lk)("thead",null,[(0,s.Lk)("tr",null,[(0,s.Lk)("th",{style:{"text-align":"center"},rowspan:"2"},[(0,s.Lk)("input",{type:"checkbox"})]),(0,s.Lk)("th",{rowspan:"2"},"No."),(0,s.Lk)("th",{rowspan:"2"},"Tugboat ID"),(0,s.Lk)("th",{colspan:"2"},"Captain"),(0,s.Lk)("th",{colspan:"2"},"Working Hours"),(0,s.Lk)("th",{rowspan:"2"},"Status")]),(0,s.Lk)("tr",null,[(0,s.Lk)("th",{style:{"text-align":"center"}},"ID"),(0,s.Lk)("th",{style:{"text-align":"center"}},"Name"),(0,s.Lk)("th",{style:{"text-align":"center"}},"Start"),(0,s.Lk)("th",{style:{"text-align":"center"}},"End")])],-1))),to=Ks((()=>(0,s.Lk)("td",null,[(0,s.Lk)("input",{type:"checkbox"})],-1))),eo={class:"number"},ao=["onSubmit"],no=["onChange"],so=Ks((()=>(0,s.Lk)("input",{class:"submit-button",type:"submit"},null,-1))),oo=["onClick"],lo=["onSubmit"],io=Ks((()=>(0,s.Lk)("input",{class:"submit-button",type:"submit"},null,-1))),ro=["onClick"],uo=["onSubmit"],co=Ks((()=>(0,s.Lk)("input",{class:"submit-button",type:"submit"},null,-1))),po=["onClick"],ho=["onSubmit"],ko=["onChange"],mo=Ks((()=>(0,s.Lk)("option",null,"Maintenance",-1))),bo=[mo],go=Ks((()=>(0,s.Lk)("input",{class:"submit-button",type:"submit"},null,-1))),Lo=["onClick"];function Io(t,e,a,o,l,i){const r=(0,s.g2)("SideBar"),d=(0,s.g2)("router-view"),u=(0,s.g2)("font-awesome-icon");return(0,s.uX)(),(0,s.CE)("div",{id:"TugBoatList",onClick:e[19]||(e[19]=e=>t.toggle())},[(0,s.bF)(r),(0,s.bF)(d),(0,s.Lk)("div",Ms,[Rs,(0,s.Lk)("div",Hs,[(0,s.Lk)("form",Js,[(0,s.bo)((0,s.Lk)("input",{id:"search",type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>l.input=t),placeholder:"Search..."},null,512),[[n.Jo,l.input]]),(0,s.bF)(u,{icon:["fas","magnifying-glass"],class:"search-icon"})]),(0,s.Lk)("span",null,[(0,s.Lk)("button",{class:"grey-border-button",id:"delete",onClick:e[1]||(e[1]=e=>t.redirect(""))},[(0,s.eW)("Delete "),(0,s.bF)(u,{icon:["fas","delete-left"]})]),(0,s.eW)("   "),(0,s.Lk)("button",{class:"blue-button",id:"add",onClick:e[2]||(e[2]=e=>t.redirect("NewTugBoat"))},"Add + ")])]),(0,s.Lk)("div",qs,[Ys,(0,s.bo)((0,s.Lk)("input",{type:"checkbox",value:"","onUpdate:modelValue":e[3]||(e[3]=t=>l.allStatus=t),onChange:e[4]||(e[4]=t=>i.handleChange("")),selected:""},null,544),[[n.lH,l.allStatus]]),(0,s.eW)(" All "),(0,s.bo)((0,s.Lk)("input",{type:"checkbox",value:"Free","onUpdate:modelValue":e[5]||(e[5]=t=>l.freeStatus=t),onChange:e[6]||(e[6]=t=>i.handleChange("Free"))},null,544),[[n.lH,l.freeStatus]]),(0,s.eW)(" Free "),(0,s.bo)((0,s.Lk)("input",{type:"checkbox",value:"Busy","onUpdate:modelValue":e[7]||(e[7]=t=>l.busyStatus=t),onChange:e[8]||(e[8]=t=>i.handleChange("Busy"))},null,544),[[n.lH,l.busyStatus]]),(0,s.eW)(" Busy "),(0,s.bo)((0,s.Lk)("input",{type:"checkbox",value:"Maintenance","onUpdate:modelValue":e[9]||(e[9]=t=>l.maintenanceStatus=t),onChange:e[10]||(e[10]=t=>i.handleChange("Maintenance"))},null,544),[[n.lH,l.maintenanceStatus]]),(0,s.eW)(" Maintenance ")]),(0,s.Lk)("div",zs,[(0,s.Lk)("div",Gs,[(0,s.Lk)("table",null,[Zs,(0,s.Lk)("tbody",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.tugboatList(),((a,o)=>((0,s.uX)(),(0,s.CE)("tr",{key:o},[to,(0,s.Lk)("td",eo,(0,Mt.v_)(o+1),1),(0,s.Lk)("td",null,(0,Mt.v_)(a.TugBoatId),1),(0,s.Lk)("td",{onClick:e[12]||(e[12]=(0,n.D$)((()=>{}),["stop"]))},[l.captainInfo===a.TugBoatId?((0,s.uX)(),(0,s.CE)("form",{key:0,onSubmit:t=>i.edit(a.TugBoatId)},[(0,s.bo)((0,s.Lk)("select",{onChange:t=>i.edit(a.TugBoatId),"onUpdate:modelValue":e[11]||(e[11]=e=>t.captainId=e)},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t.$store.state.captains,(t=>((0,s.uX)(),(0,s.CE)("option",{key:t.CaptainId},(0,Mt.v_)(t.CaptainId)+" : "+(0,Mt.v_)(t.name),1)))),128))],40,no),[[n.u1,t.captainId]]),so],40,ao)):(0,s.Q3)("",!0),l.captainInfo!=a.TugBoatId?((0,s.uX)(),(0,s.CE)("span",{key:1,onClick:t=>i.selected(a.TugBoatId,"captain")},(0,Mt.v_)(i.getCaptainId(a.TugBoatId)),9,oo)):(0,s.Q3)("",!0)]),(0,s.Lk)("td",null,(0,Mt.v_)(i.getCaptainName(a.TugBoatId)),1),(0,s.Lk)("td",{onClick:e[14]||(e[14]=(0,n.D$)((()=>{}),["stop"]))},[l.startTimeInfo===a.TugBoatId?((0,s.uX)(),(0,s.CE)("form",{key:0,onSubmit:t=>i.edit(a.TugBoatId)},[(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":e[13]||(e[13]=e=>t.startTime=e),type:"time"},null,512),[[n.Jo,t.startTime]]),io],40,lo)):(0,s.Q3)("",!0),l.startTimeInfo!=a.TugBoatId?((0,s.uX)(),(0,s.CE)("span",{key:1,onClick:t=>i.selected(a.TugBoatId,"startTime")},(0,Mt.v_)(a.StartWorkingTime),9,ro)):(0,s.Q3)("",!0)]),(0,s.Lk)("td",{onClick:e[16]||(e[16]=(0,n.D$)((()=>{}),["stop"]))},[l.endTimeInfo===a.TugBoatId?((0,s.uX)(),(0,s.CE)("form",{key:0,onSubmit:t=>i.edit(a.TugBoatId)},[(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":e[15]||(e[15]=e=>t.endTime=e),type:"time"},null,512),[[n.Jo,t.endTime]]),co],40,uo)):(0,s.Q3)("",!0),l.endTimeInfo!=a.TugBoatId?((0,s.uX)(),(0,s.CE)("span",{key:1,onClick:t=>i.selected(a.TugBoatId,"endTime")},(0,Mt.v_)(a.EndWorkingTime),9,po)):(0,s.Q3)("",!0)]),(0,s.Lk)("td",{class:"work-status",onClick:e[18]||(e[18]=(0,n.D$)((()=>{}),["stop"]))},[l.statusInfo===a.TugBoatId?((0,s.uX)(),(0,s.CE)("form",{key:0,onSubmit:t=>i.edit(a.TugBoatId)},[(0,s.bo)((0,s.Lk)("select",{onChange:t=>i.edit(a.TugBoatId),"onUpdate:modelValue":e[17]||(e[17]=e=>t.status=e)},bo,40,ko),[[n.u1,t.status]]),go],40,ho)):(0,s.Q3)("",!0),l.statusInfo!=a.TugBoatId?((0,s.uX)(),(0,s.CE)("span",{key:1,onClick:t=>i.selected(a.TugBoatId,"status"),class:"status-container",style:(0,Mt.Tr)(t.getStatusStyle(a.CurrentStatus))},(0,Mt.v_)(a.CurrentStatus),13,Lo)):(0,s.Q3)("",!0)])])))),128))])])])])])])}var fo={name:"TugBoatList",components:{SideBar:ee},mounted(){this.$store.dispatch("fetchTugBoats"),this.$store.dispatch("fetchCaptains")},data(){return{tugboats:[],input:"",allStatus:!0,freeStatus:null,busyStatus:null,maintenanceStatus:null,chosenStatus:"",captainInfo:null,startTimeInfo:null,endTimeInfo:null,statusInfo:null}},methods:{handleChange(t){this.chosenStatus=t,"Free"===t?(this.allStatus=null,this.busyStatus=null,this.maintenanceStatus=null):"Busy"===t?(this.allStatus=null,this.freeStatus=null,this.maintenanceStatus=null):"Maintenance"===t?(this.allStatus=null,this.freeStatus=null,this.busyStatus=null):(this.freeStatus=null,this.busyStatus=null,this.maintenanceStatus=null)},tugboatList(){return this.tugboats=this.$store.state.tugboats,this.tugboats.filter((t=>{const e=t.TugBoatId.toLowerCase().includes(this.input.toLowerCase()),a=!t.CaptainId||t.CaptainId.name.toLowerCase().includes(this.input.toLowerCase()),n=!t.CaptainId||t.CaptainId.CaptainId.toLowerCase().includes(this.input.toLowerCase()),s=!this.chosenStatus||t.CurrentStatus.toLowerCase()===this.chosenStatus.toLowerCase();return(a||n||e)&&s}))},getCaptainId(t){const e=this.tugboats.find((e=>e.TugBoatId===t));return e&&e.CaptainId?e.CaptainId.CaptainId:"-"},getCaptainName(t){const e=this.tugboats.find((e=>e.TugBoatId===t));return e&&e.CaptainId?e.CaptainId.name:"-"},selected(t,e){this.resetNull(),"captain"===e?this.captainInfo=t:"startTime"===e?this.startTimeInfo=t:"endTime"===e?this.endTimeInfo=t:"status"===e&&(this.statusInfo=t)},resetNull(){this.captainInfo=null,this.startTimeInfo=null,this.endTimeInfo=null,this.statusInfo=null},async edit(t){try{const e=await c.A.post("http://localhost:8000/api/update-tugboat/",{tugboatId:t,captainId:this.captainId,startTime:this.startTime,endTime:this.endTime,status:this.status});e.data.success?(alert("Edited Succesfully"),window.location.reload(),this.resetNull()):alert("Edit Failed.")}catch(e){console.error("Error:",e),alert(e)}}}};const Co=(0,i.A)(fo,[["render",Io],["__scopeId","data-v-754c724c"]]);var yo=Co;const vo=t=>((0,s.Qi)("data-v-3e15e4c8"),t=t(),(0,s.jt)(),t),To={class:"backdrop"},Bo={class:"container-position"},So={class:"popup-container"},wo=vo((()=>(0,s.Lk)("br",null,null,-1))),Eo={class:"form"},_o={class:"form-group"},Xo=vo((()=>(0,s.Lk)("b",null,[(0,s.Lk)("label",{for:"tugboatId"},"Tug Boat ID")],-1))),Do={class:"form-group"},Ao=vo((()=>(0,s.Lk)("b",null,[(0,s.Lk)("label",{for:"captainId"},"Captain")],-1))),Fo=vo((()=>(0,s.Lk)("option",null,null,-1))),$o=vo((()=>(0,s.Lk)("input",{class:"submit-button",type:"submit"},null,-1))),xo={class:"form-group"},Uo=vo((()=>(0,s.Lk)("b",null,[(0,s.Lk)("label",{for:"startTime"},"Working Hours")],-1))),No=vo((()=>(0,s.Lk)("br",null,null,-1))),Wo=vo((()=>(0,s.Lk)("br",null,null,-1)));function Qo(t,e,a,o,l,i){return(0,s.uX)(),(0,s.CE)("div",To,[(0,s.Lk)("div",Bo,[(0,s.Lk)("form",So,[(0,s.Lk)("button",{onClick:e[0]||(e[0]=e=>t.redirect("TugBoatList"))},"X"),wo,(0,s.Lk)("div",Eo,[(0,s.Lk)("div",_o,[Xo,(0,s.bo)((0,s.Lk)("input",{type:"text",id:"tugboatId","onUpdate:modelValue":e[1]||(e[1]=e=>t.tugboatId=e),placeholder:"Input New Tug Boat ID",required:""},null,512),[[n.Jo,t.tugboatId]])]),(0,s.Lk)("div",Do,[Ao,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":e[2]||(e[2]=e=>t.captainId=e)},[Fo,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t.$store.state.captains,(t=>((0,s.uX)(),(0,s.CE)("option",{key:t.CaptainId},(0,Mt.v_)(t.CaptainId)+" : "+(0,Mt.v_)(t.name),1)))),128))],512),[[n.u1,t.captainId]]),$o]),(0,s.Lk)("div",xo,[Uo,(0,s.bo)((0,s.Lk)("input",{type:"time",id:"startTime","onUpdate:modelValue":e[3]||(e[3]=e=>t.startTime=e),required:""},null,512),[[n.Jo,t.startTime]]),(0,s.eW)("  to"),(0,s.bo)((0,s.Lk)("input",{type:"time",id:"endTime","onUpdate:modelValue":e[4]||(e[4]=e=>t.endTime=e),required:""},null,512),[[n.Jo,t.endTime]])])]),No,(0,s.Lk)("button",{class:"blue-button",id:"confirm",onClick:e[5]||(e[5]=t=>i.add())},"Add"),Wo])])])}var Oo={name:"NewTugBoat",mounted(){this.$store.dispatch("fetchCaptains")},methods:{async add(){try{const t=await c.A.post("http://localhost:8000/api/update-tugboat/",{tugboatId:this.tugboatId,captainId:this.captainId,startTime:this.startTime,endTime:this.endTime});t.data.success?(alert(t.data.message+"\nNew Tug Boat Added Successfully"),this.$router.back()):alert("Fail to add tug boat.")}catch(t){console.error("Error:",t),alert("New tug boat Error.")}}}};const Vo=(0,i.A)(Oo,[["render",Qo],["__scopeId","data-v-3e15e4c8"]]);var Po=Vo;const jo=t=>((0,s.Qi)("data-v-09bd663a"),t=t(),(0,s.jt)(),t),Ko={id:"CaptainDashboard"},Mo={class:"pages"},Ro={class:"header-style"},Ho={class:"header-style"},Jo=jo((()=>(0,s.Lk)("h2",null,"Today Work",-1))),qo={id:"download"};function Yo(t,e,a,n,o,l){const i=(0,s.g2)("SideBar"),r=(0,s.g2)("font-awesome-icon"),d=(0,s.g2)("MessageButton"),u=(0,s.g2)("WorkTable");return(0,s.uX)(),(0,s.CE)("div",Ko,[(0,s.bF)(i),(0,s.Lk)("div",Mo,[(0,s.Lk)("div",Ro,[(0,s.Lk)("div",Ho,[Jo,(0,s.Lk)("button",qo,[(0,s.bF)(r,{icon:["fas","download"]})])]),(0,s.bF)(d)])]),(0,s.bF)(u)])}const zo=t=>((0,s.Qi)("data-v-65865516"),t=t(),(0,s.jt)(),t),Go={id:"work-table",class:"pages"},Zo={key:0,class:"waiting"},tl={key:1},el=zo((()=>(0,s.Lk)("thead",null,[(0,s.Lk)("tr",null,[(0,s.Lk)("th",null,"No."),(0,s.Lk)("th",null,"Container Boat"),(0,s.Lk)("th",null,"Berth"),(0,s.Lk)("th",null,"Time"),(0,s.Lk)("th",null,"Captain"),(0,s.Lk)("th",null,"Work Status"),(0,s.Lk)("th",null,"Work Type")])],-1))),al={class:"number"},nl=["id"],sl={class:"container-boat"},ol={class:"berth"},ll={class:"time"},il={class:"captain"},rl={key:0},dl=["onChange","id"],ul=zo((()=>(0,s.Lk)("option",null,"Confirmed",-1))),cl=zo((()=>(0,s.Lk)("option",null,"Completed",-1))),pl=[ul,cl],hl=["onClick"],kl={class:"work-type"},ml={class:"number"},bl=["id"],gl={class:"container-boat"},Ll={class:"berth"},Il={class:"time"},fl={class:"captain"},Cl=["onClick"],yl={class:"work-type"};function vl(t,e,a,o,l,i){return(0,s.uX)(),(0,s.CE)("div",Go,[i.waiting()?((0,s.uX)(),(0,s.CE)("div",Zo,"Waiting ... ")):(0,s.Q3)("",!0),i.waiting()?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("table",tl,[el,(0,s.Lk)("tbody",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.entryList("Incompleted"),((a,o)=>((0,s.uX)(),(0,s.CE)("tr",{key:o},[(0,s.Lk)("td",al,[(0,s.Lk)("span",{id:"entryId"+a.ScheduleEntryId},(0,Mt.v_)(o+1),9,nl)]),(0,s.Lk)("td",sl,(0,Mt.v_)(a.TaskId.ContainerBoatID.ContainerBoatID),1),(0,s.Lk)("td",ol,(0,Mt.v_)(a.TaskId.BerthId),1),(0,s.Lk)("td",ll,(0,Mt.v_)(t.formatDate(a.TaskId.startTime))+"    "+(0,Mt.v_)(t.formatTime(a.TaskId.startTime)),1),(0,s.Lk)("td",il,(0,Mt.v_)(a.listOfTugBoats.map((t=>t.CaptainId?t.CaptainId.CaptainId:"waiting ")).join(",")),1),(0,s.Lk)("td",{onClick:e[1]||(e[1]=(0,n.D$)((()=>{}),["stop"]))},[l.showStateForm===a.ScheduleEntryId?((0,s.uX)(),(0,s.CE)("form",rl,[(0,s.bo)((0,s.Lk)("select",{onChange:t=>i.edit(a.ScheduleEntryId),"onUpdate:modelValue":e[0]||(e[0]=e=>t.state=e),id:"state"+a.ScheduleEntryId},pl,40,dl),[[n.u1,t.state]])])):(0,s.Q3)("",!0),l.stateInfo!=a.ScheduleEntryId?((0,s.uX)(),(0,s.CE)("span",{key:1,class:"status-container",onClick:t=>i.selected(a.ScheduleEntryId,"state"),style:(0,Mt.Tr)(t.getStatusStyle(a.Status,"Incomplete"))},(0,Mt.v_)(a.Status),13,hl)):(0,s.Q3)("",!0)]),(0,s.Lk)("td",kl,[(0,s.Lk)("span",{class:"type-container",style:(0,Mt.Tr)(t.getActionStyle(a.TaskId.Action,"Incomplete"))},(0,Mt.v_)(a.TaskId.Action),5)])])))),128)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.entryList("Completed"),((e,a)=>((0,s.uX)(),(0,s.CE)("tr",{class:"disabled-row",key:a},[(0,s.Lk)("td",ml,[(0,s.Lk)("span",{id:"taskId"+e.ScheduleEntryId},(0,Mt.v_)(a+1),9,bl)]),(0,s.Lk)("td",gl,(0,Mt.v_)(e.TaskId.ContainerBoatID.ContainerBoatID),1),(0,s.Lk)("td",Ll,(0,Mt.v_)(e.TaskId.BerthId),1),(0,s.Lk)("td",Il,(0,Mt.v_)(t.formatDate(e.TaskId.startTime))+"    "+(0,Mt.v_)(t.formatTime(e.TaskId.startTime)),1),(0,s.Lk)("td",fl,(0,Mt.v_)(e.listOfTugBoats.map((t=>t.CaptainId?t.CaptainId.CaptainId:"waiting ")).join(",")),1),(0,s.Lk)("td",null,[(0,s.Lk)("span",{class:"status-container",onClick:t=>i.selected(e.ScheduleEntryId,"state"),style:(0,Mt.Tr)(t.getStatusStyle(e.Status,"Completed"))},(0,Mt.v_)(e.Status),13,Cl)]),(0,s.Lk)("td",yl,[(0,s.Lk)("span",{class:"type-container",style:(0,Mt.Tr)(t.getActionStyle(e.TaskId.Action,"Completed"))},(0,Mt.v_)(e.TaskId.Action),5)])])))),128))])]))])}var Tl={name:"WorkTable",mounted(){this.$store.dispatch("fetchScheduleEntries"),this.$store.dispatch("fetchCaptains")},data(){return{showStateForm:null,stateInfo:null,showContainerBoatIdForm:null,containerBoatIdInfo:null,entries:[],captains:[]}},computed:{...(0,u.aH)(["username","isCaptain","isAdmin","isScheduler"]),captain(){return this.username}},methods:{waiting(){return 0===this.entryList("Incompleted").length&&0===this.entryList("Completed").length},entryList(t){this.entries=this.$store.state.scheduleEntries;const e="Completed"===t;return this.entries.filter((t=>{const a=t.listOfTugBoats.map((t=>t.CaptainId?t.CaptainId.CaptainId:"waiting ")).includes(this.captain),n="Completed"===t.Status;return a&&(e?n:!n)}))},resetNull(){this.showStateForm=null,this.stateInfo=null,this.showContainerBoatIdForm=null,this.containerBoatIdInfo=null},selected(t,e){this.resetNull(),"state"===e?(this.showStateForm=t,this.stateInfo=t):"containerBoatId"===e&&(this.showContainerBoatIdForm=t,this.containerBoatIdInfo=t)},toggle(t){t.target.closest("form")||this.resetNull()},async edit(t){const e=this.state,a=(new Date).toISOString();try{const n=await c.A.post("http://localhost:8000/api/update-schedule-entry",{entryId:t,newState:e,timeStamp:a});console.log(n.data),alert("Update Successfully")}catch(n){console.error(n),alert("Update Failed")}}}};const Bl=(0,i.A)(Tl,[["render",vl],["__scopeId","data-v-65865516"]]);var Sl=Bl;const wl={class:"message-container"};function El(t,e,a,n,o,l){const i=(0,s.g2)("font-awesome-icon");return(0,s.uX)(),(0,s.CE)("span",wl,[(0,s.Lk)("button",{id:"message",onClick:e[0]||(e[0]=t=>l.message())},[(0,s.bF)(i,{icon:["fas","bell"]})])])}var _l={name:"MessageButton",methods:{message(){this.$router.push({name:"Message"})}}};const Xl=(0,i.A)(_l,[["render",El],["__scopeId","data-v-a756a448"]]);var Dl=Xl,Al={name:"WorkSchedule",components:{SideBar:ee,WorkTable:Sl,MessageButton:Dl}};const Fl=(0,i.A)(Al,[["render",Yo],["__scopeId","data-v-09bd663a"]]);var $l=Fl;const xl=t=>((0,s.Qi)("data-v-c24c7344"),t=t(),(0,s.jt)(),t),Ul={id:"WorkSchedule"},Nl={class:"pages"},Wl=xl((()=>(0,s.Lk)("h2",null,"Work Schedules",-1))),Ql={class:"header-style"},Ol={class:"filter-group"},Vl={class:"filter"},Pl=xl((()=>(0,s.Lk)("label",{for:"containerBoatFilter"},"Container Boat: ",-1))),jl=xl((()=>(0,s.Lk)("option",{value:""},"All",-1))),Kl={class:"filter"},Ml=xl((()=>(0,s.Lk)("label",{for:"tugBoatFilter"},"Tug Boat: ",-1))),Rl=xl((()=>(0,s.Lk)("option",{value:""},"All",-1))),Hl={class:"filter"},Jl=xl((()=>(0,s.Lk)("label",{for:"berthFilter"},"Berth: ",-1))),ql=xl((()=>(0,s.Lk)("option",{value:""},"All",-1))),Yl={class:"filter"},zl=xl((()=>(0,s.Lk)("label",{for:"stateFilter"},"Status: ",-1))),Gl=xl((()=>(0,s.Lk)("option",{value:""},"All",-1))),Zl=xl((()=>(0,s.Lk)("option",null,"Scheduled",-1))),ti=xl((()=>(0,s.Lk)("option",null,"Confirmed",-1))),ei=xl((()=>(0,s.Lk)("option",null,"Completed",-1))),ai=[Gl,Zl,ti,ei],ni={key:0,class:"waiting"},si={key:1,class:"display-data"},oi={class:"work-table"},li=xl((()=>(0,s.Lk)("thead",null,[(0,s.Lk)("tr",null,[(0,s.Lk)("th",null,"No."),(0,s.Lk)("th",null,"Container Boat"),(0,s.Lk)("th",null,"Berth"),(0,s.Lk)("th",null,"Time"),(0,s.Lk)("th",null,"Tug Boat"),(0,s.Lk)("th",null,"Captain"),(0,s.Lk)("th",null,"Work Status")])],-1))),ii={class:"number"},ri={class:"container-boat"},di={class:"berth"},ui={class:"time"},ci={class:"tugboat"},pi={class:"captain"},hi={class:"work-status"},ki={class:"number"},mi={class:"container-boat"},bi={class:"berth"},gi={class:"time"},Li={class:"tugboat"},Ii={class:"captain"},fi={class:"work-status"},Ci={class:"status-container"};function yi(t,e,a,o,l,i){const r=(0,s.g2)("SideBar");return(0,s.uX)(),(0,s.CE)("div",Ul,[(0,s.bF)(r),(0,s.Lk)("div",Nl,[Wl,(0,s.Lk)("div",Ql,[(0,s.Lk)("div",Ol,[(0,s.Lk)("span",Vl,[Pl,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.containerBoatInput=t)},[jl,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t.$store.state.containerBoats,(t=>((0,s.uX)(),(0,s.CE)("option",{key:t.ContainerBoatID},(0,Mt.v_)(t.ContainerBoatID),1)))),128))],512),[[n.u1,l.containerBoatInput]])]),(0,s.Lk)("span",Kl,[Ml,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":e[1]||(e[1]=t=>l.tugBoatInput=t)},[Rl,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t.$store.state.tugboats,(t=>((0,s.uX)(),(0,s.CE)("option",{key:t.TugBoatId},(0,Mt.v_)(t.TugBoatId),1)))),128))],512),[[n.u1,l.tugBoatInput]])]),(0,s.Lk)("span",Hl,[Jl,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>l.berthInput=t)},[ql,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t.$store.state.berths,(t=>((0,s.uX)(),(0,s.CE)("option",{key:t.BerthId},(0,Mt.v_)(t.BerthId),1)))),128))],512),[[n.u1,l.berthInput]])]),(0,s.Lk)("span",Yl,[zl,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":e[3]||(e[3]=t=>l.stateInput=t)},ai,512),[[n.u1,l.stateInput]])])])]),i.waiting()?((0,s.uX)(),(0,s.CE)("div",ni,"Waiting ... ")):(0,s.Q3)("",!0),i.waiting()?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",si,[(0,s.Lk)("div",oi,[(0,s.Lk)("table",null,[li,(0,s.Lk)("tbody",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.entryList("Incomplete"),((e,a)=>((0,s.uX)(),(0,s.CE)("tr",{key:a},[(0,s.Lk)("td",ii,(0,Mt.v_)(a+1),1),(0,s.Lk)("td",ri,(0,Mt.v_)(e.TaskId.ContainerBoatID.ContainerBoatID),1),(0,s.Lk)("td",di,(0,Mt.v_)(e.TaskId.BerthId),1),(0,s.Lk)("td",ui,(0,Mt.v_)(e.listOfTugBoats.map((t=>t.EndWorkingTime)).join("/ ")),1),(0,s.Lk)("td",ci,(0,Mt.v_)(e.listOfTugBoats.map((t=>t.TugBoatId)).join("/ ")),1),(0,s.Lk)("td",pi,(0,Mt.v_)(e.listOfTugBoats.map((t=>t.CaptainId?t.CaptainId.CaptainId:"waiting ")).join("/ ")),1),(0,s.Lk)("td",hi,[(0,s.Lk)("span",{class:"status-container",style:(0,Mt.Tr)(t.getStatusStyle(e.Status))},(0,Mt.v_)(e.Status),5)])])))),128)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.entryList("Completed"),((t,e)=>((0,s.uX)(),(0,s.CE)("tr",{class:"disabled-row",key:e},[(0,s.Lk)("td",ki,(0,Mt.v_)(e+1),1),(0,s.Lk)("td",mi,(0,Mt.v_)(t.TaskId.ContainerBoatID.ContainerBoatID),1),(0,s.Lk)("td",bi,(0,Mt.v_)(t.TaskId.BerthId),1),(0,s.Lk)("td",gi,(0,Mt.v_)(t.listOfTugBoats.map((t=>t.EndWorkingTime)).join("/")),1),(0,s.Lk)("td",Li,(0,Mt.v_)(t.listOfTugBoats.map((t=>t.TugBoatId)).join("/")),1),(0,s.Lk)("td",Ii,(0,Mt.v_)(t.listOfTugBoats.map((t=>t.CaptainId?t.CaptainId.CaptainId:"waiting ")).join("/")),1),(0,s.Lk)("td",fi,[(0,s.Lk)("span",Ci,(0,Mt.v_)(t.Status),1)])])))),128))])])])]))])])}var vi={name:"WorkSchedule",components:{SideBar:ee},mounted(){this.$store.dispatch("fetchScheduleEntries"),this.$store.dispatch("fetchTasks"),this.$store.dispatch("fetchContainerBoats"),this.$store.dispatch("fetchBerths"),this.$store.dispatch("fetchTugBoats")},data(){return{entries:[],containerBoatInput:"",tugBoatInput:"",berthInput:"",stateInput:""}},methods:{waiting(){return 0===this.$store.state.scheduleEntries.length},checkAll(t){return"All"===t?"":t},entryList(t){this.entries=this.$store.state.scheduleEntries,this.containerBoatInput=this.checkAll(this.containerBoatInput),this.tugBoatInput=this.checkAll(this.tugBoatInput),this.berthInput=this.checkAll(this.berthInput),this.stateInput=this.checkAll(this.stateInput);const e="Completed"===t,a=this.entries.filter((t=>{const a=!this.containerBoatInput||t.TaskId.ContainerBoatID.ContainerBoatID.toString()===this.containerBoatInput,n=!this.tugBoatInput||t.listOfTugBoats.map((t=>t.TugBoatId)).includes(this.tugBoatInput),s=!this.berthInput||t.TaskId.BerthId.toString()===this.berthInput,o=!this.stateInput||t.State===this.stateInput,l="Completed"===t.Status;return a&&n&&s&&o&&(e?l:!l)}));return a}}};const Ti=(0,i.A)(vi,[["render",yi],["__scopeId","data-v-c24c7344"]]);var Bi=Ti;const Si=[{path:"/",name:"Login",component:Ft},{path:"/dashboard",name:"AdminDashboard",component:Re,children:[{path:"add-new-staff",name:"NewStaff",component:ba}]},{path:"/dashboard",name:"CaptainDashboard",component:$l,children:[{path:"message",name:"CaptainMessage",component:it}]},{path:"/dashboard",name:"SchedulerDashboard",component:Ts,children:[{path:"message",name:"SchedulerMessage",component:it},{path:"message-details",name:"MessageDetails",component:gt},{path:"auto-reschedule",name:"AutoReschedule",component:J}]},{path:"/tugboat-list",name:"TugBoatList",component:yo,children:[{path:"add-new-tugboat",name:"NewTugBoat",component:Po}]},{path:"/work-schedules",name:"WorkSchedule",component:Bi},{path:"/settings",name:"Settings",component:se},{path:"/settings/change-password",name:"ChangePassword",component:Ce,children:[{path:"notice",name:"Exit-ChangePassword",component:B}]},{path:"/add-new-task",name:"NewTask",component:js,children:[{path:"notice",name:"Exit-NewTask",component:B},{path:"notice",name:"Save-NewTask",component:N}]}],wi=(0,k.aE)({history:(0,k.Bt)("/"),routes:Si});wi.beforeEach(((t,e,a)=>{const n="true"===localStorage.getItem("isLoggedIn"),s=localStorage.getItem("username"),o=JSON.parse(localStorage.getItem("roles"));n&&h.state.username!==s&&(h.commit("setUser",{username:s}),h.commit("setUserRole",o)),n||"Login"===t.name?a():a({name:"Login"})}));var Ei=wi;function _i(t){this.$router.push({name:t})}function Xi(t){const e=new Date(t),a=e.getHours().toString().padStart(2,"0"),n=e.getMinutes().toString().padStart(2,"0");return`${a}:${n}`}function Di(t){const e=new Date(t),a=e.getDate().toString().padStart(2,"0"),n=(e.getMonth()+1).toString().padStart(2,"0");return`${a}/${n}`}function Ai(t,e){let a;switch(t){case"Confirmed":a="green";break;case"Free":a="green";break;case"Scheduled":a="rgb(254, 219, 46)";break;case"Busy":a="red";break;case"Completed":a="darkgrey";break;case"Maintenance":a="darkgrey";break;default:a="lightgrey"}switch(e){case"Completed":a="rgb(213, 212, 212)";break;default:}return{background:a}}function Fi(t,e){let a;switch(t){case"INBOUND":a="#72bedf";break;default:a="#020071"}switch(e){case"Completed":a="rgb(213, 212, 212)";break;default:}return{background:a}}function $i(){this.resetNull()}function xi(t){const e=this.tugboats.find((e=>e.TugBoatId===t));return e&&e.CaptainId?e.CaptainId.CaptainId:"-"}function Ui(t){const e=this.tugboats.find((e=>e.TugBoatId===t));return e&&e.CaptainId?e.CaptainId.name:"-"}var Ni=a(7107),Wi=a(6188),Qi=a(1273);Ni.Yv.add(Wi.X7I);const Oi=(0,n.Ef)(d);Oi.use(Ei),Oi.use(h),Oi.mount("#app"),Oi.component("font-awesome-icon",Qi.gc),Oi.config.globalProperties.redirect=_i,Oi.config.globalProperties.formatTime=Xi,Oi.config.globalProperties.formatDate=Di,Oi.config.globalProperties.getActionStyle=Fi,Oi.config.globalProperties.getStatusStyle=Ai,Oi.config.globalProperties.toggle=$i,Oi.config.globalProperties.getCaptainId=xi,Oi.config.globalProperties.getCaptainName=Ui;Qi.gc}},e={};function a(n){var s=e[n];if(void 0!==s)return s.exports;var o=e[n]={exports:{}};return t[n].call(o.exports,o,o.exports,a),o.exports}a.m=t,function(){var t=[];a.O=function(e,n,s,o){if(!n){var l=1/0;for(u=0;u<t.length;u++){n=t[u][0],s=t[u][1],o=t[u][2];for(var i=!0,r=0;r<n.length;r++)(!1&o||l>=o)&&Object.keys(a.O).every((function(t){return a.O[t](n[r])}))?n.splice(r--,1):(i=!1,o<l&&(l=o));if(i){t.splice(u--,1);var d=s();void 0!==d&&(e=d)}}return e}o=o||0;for(var u=t.length;u>0&&t[u-1][2]>o;u--)t[u]=t[u-1];t[u]=[n,s,o]}}(),function(){a.d=function(t,e){for(var n in e)a.o(e,n)&&!a.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={524:0};a.O.j=function(e){return 0===t[e]};var e=function(e,n){var s,o,l=n[0],i=n[1],r=n[2],d=0;if(l.some((function(e){return 0!==t[e]}))){for(s in i)a.o(i,s)&&(a.m[s]=i[s]);if(r)var u=r(a)}for(e&&e(n);d<l.length;d++)o=l[d],a.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return a.O(u)},n=self["webpackChunkmodal_project"]=self["webpackChunkmodal_project"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=a.O(void 0,[504],(function(){return a(8861)}));n=a.O(n)})();
//# sourceMappingURL=app.8c99587f.js.map