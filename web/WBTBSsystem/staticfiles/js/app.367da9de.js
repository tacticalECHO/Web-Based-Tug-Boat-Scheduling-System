(function(){"use strict";var t={7594:function(t,e,a){var n=a(3751),s=a(641);function o(t,e,a,n,o,l){const i=(0,s.g2)("router-view");return(0,s.uX)(),(0,s.Wv)(i)}var l={name:"App"},i=a(6262);const r=(0,i.A)(l,[["render",o]]);var d=r,u=a(6278),c=a(1250);const p=(0,u.y$)({state(){return{username:"",passwordPlaceholder:"******",isCaptain:!1,isAdmin:!1,isScheduler:!1,captains:[],tasks:[],schedulers:[],berths:[],containerBoats:[],scheduleEntries:[],tugboats:[],exitPath:"Settings",id:1}},mutations:{setUser(t,{username:e}){t.username=e},setUserRole(t,{isCaptain:e,isAdmin:a,isScheduler:n}){t.isCaptain=e,t.isAdmin=a,t.isScheduler=n},setCaptains(t,e){t.captains=e},setTasks(t,e){t.tasks=e},setSchedulers(t,e){t.schedulers=e},setBerths(t,e){t.berths=e},setContainerBoats(t,e){t.containerBoats=e},setScheduleEntries(t,e){t.scheduleEntries=e},setTugBoats(t,e){t.tugboats=e},setExitPath(t,e){t.exitPath=e},resetNull(t){resetNull(t)},setTugBoatInfo(t,e){t.tugBoatInfo=e},setTimeInfo(t,e){t.timeInfo=e},setContainerBoatInfo(t,e){t.containerBoatInfo=e},setBerthInfo(t,e){t.berthInfo=e},setActionInfo(t,e){t.actionInfo=e},setStateInfo(t,e){t.stateInfo=e}},actions:{fetchCaptains({commit:t}){c.A.get("/api/display_captain/").then((e=>{t("setCaptains",e.data)})).catch((t=>console.error(t)))},fetchTasks({commit:t}){c.A.get("/api/display_task/").then((e=>{t("setTasks",e.data)})).catch((t=>console.error(t)))},fetchSchedulers({commit:t}){c.A.get("/api/display_scheduler/").then((e=>{t("setSchedulers",e.data)})).catch((t=>console.error(t)))},fetchBerths({commit:t}){c.A.get("/api/display_berth/").then((e=>{t("setBerths",e.data)})).catch((t=>console.error(t)))},fetchContainerBoats({commit:t}){c.A.get("/api/display_container_boat/").then((e=>{t("setContainerBoats",e.data)})).catch((t=>console.error(t)))},fetchScheduleEntries({commit:t}){c.A.get("/api/display_schedule_entry/").then((e=>{t("setScheduleEntries",e.data)})).catch((t=>console.error(t)))},fetchTugBoats({commit:t}){c.A.get("/api/display_tugboat/").then((e=>{t("setTugBoats",e.data)})).catch((t=>console.error(t)))}}});var h=p,k=a(5220);const m={class:"backdrop"},b={class:"container-position"},g={class:"popup-container"},L=(0,s.Lk)("b",null,"Notice",-1),I=(0,s.Lk)("span",{id:"notice-info"},"The change will not be saved if u exit now.",-1),f=(0,s.Lk)("br",null,null,-1),C={class:"notice-buttons"};function y(t,e,a,n,o,l){return(0,s.uX)(),(0,s.CE)("div",m,[(0,s.Lk)("div",b,[(0,s.Lk)("div",g,[L,I,f,(0,s.Lk)("span",C,[(0,s.Lk)("button",{class:"blue-border-button",id:"exit",onClick:e[0]||(e[0]=t=>l.exit())},"Exit"),(0,s.eW)("   "),(0,s.Lk)("button",{class:"blue-button",id:"save",onClick:e[1]||(e[1]=t=>l.cancel())},"Cancel")])])])])}a(4114);var v={name:"ExitNotice",methods:{exit(){this.$router.push({name:this.$store.state.exitPath})},cancel(){this.$router.back()}}};const T=(0,i.A)(v,[["render",y]]);var S=T;const B=t=>((0,s.Qi)("data-v-1a53cabe"),t=t(),(0,s.jt)(),t),w={class:"backdrop"},E={class:"container-position"},_={class:"popup-container"},X=B((()=>(0,s.Lk)("b",null,"Notice",-1))),D=B((()=>(0,s.Lk)("span",null,"Do you need to auto change this task's schedule?",-1))),A=B((()=>(0,s.Lk)("br",null,null,-1))),F={class:"notice-buttons"};function $(t,e,a,n,o,l){return(0,s.uX)(),(0,s.CE)("div",w,[(0,s.Lk)("div",E,[(0,s.Lk)("div",_,[X,D,A,(0,s.Lk)("span",F,[(0,s.Lk)("button",{class:"blue-border-button",id:"no",onClick:e[0]||(e[0]=t=>l.no())},"No"),(0,s.eW)("   "),(0,s.Lk)("button",{class:"blue-button",id:"manualReschedule",onClick:e[1]||(e[1]=t=>l.change())},"Change")])])])])}var x={name:"RescheduleNotice",props:[],methods:{no(){this.$router.push({name:"ManualReschedule"})},change(){this.$router.push({name:"AutoReschedule"})}}};const U=(0,i.A)(x,[["render",$],["__scopeId","data-v-1a53cabe"]]);var N=U;const W={class:"backdrop"},Q={class:"container-position"},O={class:"popup-container"},V=(0,s.Lk)("b",null,"Scheduling",-1),P=(0,s.Lk)("span",null,"It needs some times to schedule the task, please wait.",-1),j=(0,s.Lk)("br",null,null,-1),R={class:"notice-buttons"};function K(t,e,a,n,o,l){return(0,s.uX)(),(0,s.CE)("div",W,[(0,s.Lk)("div",Q,[(0,s.Lk)("div",O,[V,P,j,(0,s.Lk)("span",R,[(0,s.Lk)("button",{class:"blue-button",id:"schedule",onClick:e[0]||(e[0]=t=>l.schedule())},"Schedule in backstage")])])])])}var M={name:"AutoReschedule",methods:{schedule(){this.$router.push({name:"SchedulerDashboard"})}}};const H=(0,i.A)(M,[["render",K]]);var J=H;const q=t=>((0,s.Qi)("data-v-a381cf92"),t=t(),(0,s.jt)(),t),Y={class:"backdrop"},z={class:"container-position"},G={class:"popup-container"},Z=q((()=>(0,s.Lk)("br",null,null,-1))),tt=q((()=>(0,s.Lk)("tr",null,[(0,s.Lk)("td",null,[(0,s.Lk)("button",null,"Yibai Yuan did not confirm")])],-1))),et=q((()=>(0,s.Lk)("tr",null,[(0,s.Lk)("td",null,[(0,s.Lk)("button",null,"Yibai Yuan did not confirm")])],-1))),at=q((()=>(0,s.Lk)("tr",null,[(0,s.Lk)("td",null,[(0,s.Lk)("button",null,"Yibai Yuan did not confirm")])],-1))),nt=q((()=>(0,s.Lk)("br",null,null,-1)));function st(t,e,a,n,o,l){return(0,s.uX)(),(0,s.CE)("div",Y,[(0,s.Lk)("div",z,[(0,s.Lk)("div",G,[(0,s.Lk)("button",{onClick:e[0]||(e[0]=(...t)=>l.close&&l.close(...t))},"X"),Z,(0,s.Lk)("table",null,[(0,s.Lk)("tr",null,[(0,s.Lk)("td",null,[(0,s.Lk)("button",{onClick:e[1]||(e[1]=t=>l.details())},"Yibai Yuan did not confirm")])]),tt,et,at]),nt])])])}var ot={name:"Message",props:[],methods:{close(){this.$store.state.isCaptain?this.$router.push({name:"CaptainDashboard"}):this.$store.state.isAdmin?this.$router.push({name:"AdminDashboard"}):this.$store.state.isScheduler?this.$router.push({name:"SchedulerDashboard"}):this.$router.push({name:"Settings"})},details(){this.$router.push({name:"MessageDetails"})}}};const lt=(0,i.A)(ot,[["render",st],["__scopeId","data-v-a381cf92"]]);var it=lt;const rt=t=>((0,s.Qi)("data-v-69caf44a"),t=t(),(0,s.jt)(),t),dt={class:"backdrop"},ut={class:"container-position"},ct={class:"popup-container"},pt=(0,s.Fv)("<br data-v-69caf44a><table data-v-69caf44a><tr data-v-69caf44a><th data-v-69caf44a>Captain</th><td data-v-69caf44a>Yibai Yuan</td></tr><tr data-v-69caf44a><th data-v-69caf44a>Container Boat</th><td data-v-69caf44a>JHSANG9865</td></tr><tr data-v-69caf44a><th data-v-69caf44a>Country</th><td data-v-69caf44a>Singapore</td></tr><tr data-v-69caf44a><th data-v-69caf44a>Tonnage</th><td data-v-69caf44a>109978</td></tr><tr data-v-69caf44a><th data-v-69caf44a>Berth</th><td data-v-69caf44a>NB02</td></tr><tr data-v-69caf44a><th data-v-69caf44a>Time</th><td data-v-69caf44a>08:30</td></tr><tr data-v-69caf44a><th data-v-69caf44a>Tug Boat</th><td data-v-69caf44a>ADB0078</td></tr><tr data-v-69caf44a><th data-v-69caf44a>Work Status</th><td data-v-69caf44a>Incompleted</td></tr><tr data-v-69caf44a><th data-v-69caf44a>Work Type</th><td data-v-69caf44a>In</td></tr></table>",2),ht=rt((()=>(0,s.Lk)("br",null,null,-1)));function kt(t,e,a,n,o,l){return(0,s.uX)(),(0,s.CE)("div",dt,[(0,s.Lk)("div",ut,[(0,s.Lk)("div",ct,[(0,s.Lk)("button",{onClick:e[0]||(e[0]=(...t)=>l.close&&l.close(...t))},"X"),pt,(0,s.Lk)("button",{class:"blue-button",id:"manualReschedule",onClick:e[1]||(e[1]=t=>l.edit())},"Edit Schedule"),ht])])])}var mt={name:"MessageDetails",props:[],methods:{close(){this.$router.back()},edit(){this.$router.push({name:"ManualReschedule"})}}};const bt=(0,i.A)(mt,[["render",kt],["__scopeId","data-v-69caf44a"]]);var gt=bt,Lt=a.p+"static/img/login.059324f1.png";const It=t=>((0,s.Qi)("data-v-e5f63c9c"),t=t(),(0,s.jt)(),t),ft={id:"Login"},Ct=It((()=>(0,s.Lk)("div",{class:"sidebar"},[(0,s.Lk)("img",{src:Lt,alt:"Sidebar Image"}),(0,s.Lk)("div",{class:"image-text"},[(0,s.Lk)("div",{class:"text-wrapper"},[(0,s.Lk)("p",null,"Ningbo Harbour"),(0,s.Lk)("p",null,"Tug Boat Scheduling System")])])],-1))),yt={class:"login-container"},vt=It((()=>(0,s.Lk)("h1",null,"Ningbo Harbour",-1))),Tt={key:0,class:"invalid-login"},St=It((()=>(0,s.Lk)("p",null,"Invalid username or password, please log in again",-1))),Bt=[St],wt={class:"form-group"},Et=It((()=>(0,s.Lk)("label",{for:"username"},"Username",-1))),_t={class:"form-group"},Xt=It((()=>(0,s.Lk)("label",{for:"password"},"Password",-1)));function Dt(t,e,a,o,l,i){return(0,s.uX)(),(0,s.CE)("div",ft,[Ct,(0,s.Lk)("div",yt,[vt,l.showError?((0,s.uX)(),(0,s.CE)("div",Tt,Bt)):(0,s.Q3)("",!0),(0,s.Lk)("div",wt,[Et,(0,s.bo)((0,s.Lk)("input",{type:"text",id:"username","onUpdate:modelValue":e[0]||(e[0]=t=>l.username=t),placeholder:"Input your ID"},null,512),[[n.Jo,l.username]])]),(0,s.Lk)("div",_t,[Xt,(0,s.bo)((0,s.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":e[1]||(e[1]=t=>l.password=t),placeholder:"Input your password"},null,512),[[n.Jo,l.password]])]),(0,s.Lk)("button",{class:"blue-button",onClick:e[2]||(e[2]=t=>i.login())},"Login")])])}var At={name:"Login",data(){return{username:"",password:"",showError:!1}},methods:{async login(){try{const t=await c.A.post("/api/login/",{username:this.username,password:this.password});t.data.success?(this.showError=!1,this.$store.commit("setUser",{username:this.username}),this.$store.commit("setUserRole",{isCaptain:t.data.is_captain,isAdmin:t.data.is_staff,isScheduler:t.data.is_scheduler}),localStorage.setItem("isLoggedIn","true"),localStorage.setItem("username",this.username),localStorage.setItem("roles",JSON.stringify({isCaptain:t.data.is_captain,isAdmin:t.data.is_staff,isScheduler:t.data.is_scheduler})),this.$router.push({name:"Settings"})):this.showError=!0}catch(t){console.error("Login error:",t),this.showError=!0,document.getElementById("username").style.border="1px solid red",document.getElementById("password").style.border="1px solid red"}}}};const Ft=(0,i.A)(At,[["render",Dt],["__scopeId","data-v-e5f63c9c"]]);var $t=Ft;const xt=t=>((0,s.Qi)("data-v-645402ae"),t=t(),(0,s.jt)(),t),Ut={id:"Settings"},Nt={class:"pages"},Wt=xt((()=>(0,s.Lk)("h2",null,"Settings",-1))),Qt={class:"form"},Ot=xt((()=>(0,s.Lk)("b",null,[(0,s.Lk)("label",{for:"username"},"Username ")],-1))),Vt=["placeholder"],Pt={class:"form"},jt=xt((()=>(0,s.Lk)("b",null,[(0,s.Lk)("label",{for:"password"},"Password ")],-1))),Rt=["placeholder"];function Kt(t,e,a,o,l,i){const r=(0,s.g2)("SideBar"),d=(0,s.g2)("router-view");return(0,s.uX)(),(0,s.CE)("div",Ut,[(0,s.bF)(r),(0,s.Lk)("div",Nt,[(0,s.bF)(d),Wt,(0,s.Lk)("div",Qt,[Ot,(0,s.eW)("   "),(0,s.bo)((0,s.Lk)("input",{type:"text",id:"username","onUpdate:modelValue":e[0]||(e[0]=e=>t.username=e),placeholder:t.username,readonly:""},null,8,Vt),[[n.Jo,t.username]])]),(0,s.Lk)("div",Pt,[jt,(0,s.eW)("   "),(0,s.bo)((0,s.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":e[1]||(e[1]=e=>t.password=e),placeholder:t.passwordPlaceholder,readonly:""},null,8,Rt),[[n.Jo,t.password]]),(0,s.Lk)("button",{class:"grey-border-button",onClick:e[2]||(e[2]=t=>i.change_password())},"Change")]),(0,s.Lk)("button",{class:"blue-button",onClick:e[3]||(e[3]=e=>t.redirect("Login"))},"Logout")])])}var Mt=a(33);const Ht=t=>((0,s.Qi)("data-v-693926b3"),t=t(),(0,s.jt)(),t),Jt={id:"Sidebar"},qt={key:0,id:"sidebar"},Yt=Ht((()=>(0,s.Lk)("h2",null,"Ningbo Harbour",-1))),zt={class:"sidebar-bottom-section"},Gt={class:"sidebar-item"};function Zt(t,e,a,n,o,l){const i=(0,s.g2)("font-awesome-icon"),r=(0,s.g2)("admin-panel");return(0,s.uX)(),(0,s.CE)("div",Jt,[l.screen()||o.sidebarOpened?((0,s.uX)(),(0,s.CE)("div",qt,[Yt,(0,s.Lk)("ul",null,[t.isAdmin||t.isScheduler?((0,s.uX)(),(0,s.CE)("li",{key:0,onClick:e[0]||(e[0]=e=>t.redirect("AdminDashboard")),id:"admin-dashboard",class:"sidebar-item"},[(0,s.bF)(i,{icon:["fas","display"],class:"sidebar-icon"}),(0,s.eW)(" A-Dashboard ")])):(0,s.Q3)("",!0),t.isScheduler||t.isAdmin?((0,s.uX)(),(0,s.CE)("li",{key:1,onClick:e[1]||(e[1]=e=>t.redirect("SchedulerDashboard")),id:"scheduler-dashboard",class:"sidebar-item"},[(0,s.bF)(i,{icon:["fas","display"],class:"sidebar-icon"}),(0,s.eW)(" S-Dashboard ")])):(0,s.Q3)("",!0),t.isScheduler||t.isAdmin?((0,s.uX)(),(0,s.CE)("li",{key:2,onClick:e[2]||(e[2]=e=>t.redirect("TugBoatList")),id:"scheduler-dashboard",class:"sidebar-item"},[(0,s.bF)(i,{icon:["fas","display"],class:"sidebar-icon"}),(0,s.eW)(" Tug Boats ")])):(0,s.Q3)("",!0),t.isCaptain||t.isScheduler||t.isAdmin?((0,s.uX)(),(0,s.CE)("li",{key:3,onClick:e[3]||(e[3]=e=>t.redirect("CaptainDashboard")),id:"captain-dashboard",class:"sidebar-item"},[t.isCaptain?((0,s.uX)(),(0,s.Wv)(r,{key:0})):(0,s.Q3)("",!0),(0,s.bF)(i,{icon:["fas","display"],class:"sidebar-icon"}),(0,s.eW)(" C-Dashboard ")])):(0,s.Q3)("",!0),t.isScheduler||t.isCaptain||t.isAdmin?((0,s.uX)(),(0,s.CE)("li",{key:4,onClick:e[4]||(e[4]=e=>t.redirect("WorkSchedule")),class:"sidebar-item"},[(0,s.bF)(i,{icon:["fas","calendar-days"],class:"sidebar-icon"}),(0,s.eW)(" Work Schedules ")])):(0,s.Q3)("",!0)]),(0,s.Lk)("div",zt,[(0,s.Lk)("ul",null,[(0,s.Lk)("li",{onClick:e[5]||(e[5]=e=>t.redirect("Settings")),class:"sidebar-item"},[(0,s.bF)(i,{icon:["fas","gear"],class:"sidebar-icon"}),(0,s.eW)(" Settings ")]),(0,s.Lk)("li",Gt,[(0,s.bF)(i,{icon:["fas","user"],class:"sidebar-icon"}),(0,s.eW)(" "+(0,Mt.v_)(l.profile_name),1)])])])])):(0,s.Q3)("",!0),l.screen()?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("button",{key:1,class:"blue-border-button",onClick:e[6]||(e[6]=t=>l.openSidebar()),id:"open-sidebar"},[(0,s.bF)(i,{icon:["fas","forward"]})])),o.sidebarOpened&&l.closeButton()?((0,s.uX)(),(0,s.CE)("button",{key:2,class:"blue-border-button",onClick:e[7]||(e[7]=t=>l.closeSidebar()),id:"close-sidebar"},[(0,s.bF)(i,{icon:["fas","backward"]})])):(0,s.Q3)("",!0)])}var te={name:"SideBar",computed:{...(0,u.aH)(["username","isCaptain","isAdmin","isScheduler"]),profile_name(){return this.username||"Guest"}},data(){return{screenWidth:window.innerWidth,screenHeight:window.innerHeight,screenResized:null,sidebarOpened:null}},created(){window.addEventListener("resize",this.handleResize)},destroyed(){window.removeEventListener("resize",this.handleResize)},methods:{screen(){return this.screenHeight>380&&this.screenWidth>820&&(this.sidebarOpened=!0,!0)},closeButton(){if(this.screenHeight<=380||this.screenWidth<=820)return!0},handleResize(){this.screenWidth=window.innerWidth,this.screenHeight=window.innerHeight,this.screenHeight<=380||this.screenWidth<=820?(this.screenResized=!0,this.sidebarOpened=!1):this.screenResized=!1},openSidebar(){this.sidebarOpened=!0},closeSidebar(){this.sidebarOpened=!1}}};const ee=(0,i.A)(te,[["render",Zt],["__scopeId","data-v-693926b3"]]);var ae=ee,ne={name:"Settings",components:{SideBar:ae},computed:{...(0,u.aH)(["username","passwordPlaceholder"])},methods:{change_password(){this.$router.push({name:"ChangePassword"})},logout(){this.$router.push({name:"Login"})}}};const se=(0,i.A)(ne,[["render",Kt],["__scopeId","data-v-645402ae"]]);var oe=se;const le=t=>((0,s.Qi)("data-v-68a4a7d5"),t=t(),(0,s.jt)(),t),ie={id:"Settings"},re={class:"pages"},de=le((()=>(0,s.Lk)("h3",null,"Settings",-1))),ue={class:"form"},ce=le((()=>(0,s.Lk)("b",null,[(0,s.Lk)("label",{for:"username"},"Username ")],-1))),pe=["placeholder"],he=le((()=>(0,s.Lk)("br",null,null,-1))),ke={class:"form"},me=le((()=>(0,s.Lk)("b",null,[(0,s.Lk)("label",{for:"password"},"Password ")],-1))),be=le((()=>(0,s.Lk)("br",null,null,-1))),ge=le((()=>(0,s.Lk)("div",{class:"form"},[(0,s.Lk)("b",null,[(0,s.Lk)("label",{for:"passwordReEntered"},"Re-Enter")]),(0,s.eW)("     "),(0,s.Lk)("input",{type:"password",id:"passwordReEntered",placeholder:"Re-enter new password"})],-1))),Le={class:"cancel-save-buttons"};function Ie(t,e,a,o,l,i){const r=(0,s.g2)("SideBar"),d=(0,s.g2)("router-view");return(0,s.uX)(),(0,s.CE)("div",ie,[(0,s.bF)(r),(0,s.Lk)("div",re,[(0,s.bF)(d),de,(0,s.Lk)("div",ue,[ce,(0,s.eW)("   "),(0,s.bo)((0,s.Lk)("input",{type:"text",id:"username","onUpdate:modelValue":e[0]||(e[0]=e=>t.username=e),placeholder:t.username,readonly:""},null,8,pe),[[n.Jo,t.username]])]),he,(0,s.Lk)("div",ke,[me,(0,s.eW)("   "),(0,s.bo)((0,s.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":e[1]||(e[1]=t=>l.password=t),placeholder:"Enter new password"},null,512),[[n.Jo,l.password]])]),be,ge]),(0,s.Lk)("div",Le,[(0,s.Lk)("button",{class:"grey-border-button",id:"cancel",onClick:e[2]||(e[2]=e=>t.redirect("Exit-ChangePassword"))},"Cancel"),(0,s.Lk)("button",{class:"blue-button",id:"save",onClick:e[3]||(e[3]=t=>i.save())},"Save")])])}var fe={name:"ChangePassword",components:{SideBar:ae},data(){return{password:"",reenter:""}},computed:{...(0,u.aH)(["username","passwordPlaceholder"])},mounted(){this.$store.commit("setExitPath","Settings")},methods:{cancel(){this.$router.push({name:"Exit-ChangePassword"})},async save(){if(this.password=document.getElementById("password").value,this.reenter=document.getElementById("passwordReEntered").value,this.password===this.reenter)try{const t=await c.A.post("/api/change-password/",{username:this.username,password:this.password});t.data.success?this.$router.push({name:"Login"}):alert("Password change failed.")}catch(t){console.error("Change password error:",t),alert("Password change error.")}else alert("Passwords are not similar."),document.getElementById("passwordReEntered").style.border="1px solid red"}}};const Ce=(0,i.A)(fe,[["render",Ie],["__scopeId","data-v-68a4a7d5"]]);var ye=Ce;const ve=t=>((0,s.Qi)("data-v-71ba61f8"),t=t(),(0,s.jt)(),t),Te={id:"AdminDashboard"},Se={class:"pages"},Be={class:"header-style"},we=ve((()=>(0,s.Lk)("h2",null,"Your Dashboard",-1))),Ee=ve((()=>(0,s.Lk)("span",null,"+",-1))),_e={id:"captain-info"},Xe=ve((()=>(0,s.Lk)("caption",null,[(0,s.Lk)("b",null,"Captain")],-1))),De=ve((()=>(0,s.Lk)("thead",null,[(0,s.Lk)("tr",null,[(0,s.Lk)("th",null,[(0,s.Lk)("input",{type:"checkbox",disabled:""})]),(0,s.Lk)("th",null,"Captain Name"),(0,s.Lk)("th",null,"Captain ID"),(0,s.Lk)("th",null,"Tug Boat"),(0,s.Lk)("th",null,"Tug Boat Status")])],-1))),Ae=["id","name","value"],Fe={id:"captain-name"},$e={id:"captain-id"},xe={id:"tugboat"},Ue={id:"captain-status"},Ne={class:"status-container"},We={id:"scheduler-info"},Qe=ve((()=>(0,s.Lk)("caption",null,[(0,s.Lk)("b",null,"Scheduler")],-1))),Oe=ve((()=>(0,s.Lk)("thead",null,[(0,s.Lk)("tr",null,[(0,s.Lk)("th",null,[(0,s.Lk)("input",{type:"checkbox",disabled:""})]),(0,s.Lk)("th",null,"Scheduler Name"),(0,s.Lk)("th",null,"Scheduler ID")])],-1))),Ve=["id","name","value"],Pe={id:"scheduler-name"},je={id:"scheduler-id"};function Re(t,e,a,o,l,i){const r=(0,s.g2)("SideBar"),d=(0,s.g2)("router-view"),u=(0,s.g2)("font-awesome-icon");return(0,s.uX)(),(0,s.CE)("div",Te,[(0,s.bF)(r),(0,s.Lk)("div",Se,[(0,s.bF)(d),(0,s.Lk)("div",Be,[we,(0,s.Lk)("span",null,[(0,s.Lk)("button",{class:"grey-border-button",id:"delete",onClick:e[0]||(e[0]=(...t)=>i.deleteSelected&&i.deleteSelected(...t))},[(0,s.eW)("Delete "),(0,s.bF)(u,{icon:["fas","delete-left"]})]),(0,s.eW)("   "),(0,s.Lk)("button",{class:"blue-button",id:"new-staff",onClick:e[1]||(e[1]=e=>t.redirect("NewStaff"))},[(0,s.eW)("New Staff "),Ee])])]),(0,s.Lk)("table",_e,[Xe,De,(0,s.Lk)("tbody",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t.$store.state.captains,(t=>((0,s.uX)(),(0,s.CE)("tr",{key:t.CaptainId},[(0,s.Lk)("td",null,[(0,s.bo)((0,s.Lk)("input",{type:"checkbox",id:"checkbox"+t.CaptainId,name:"checkbox"+t.name,"onUpdate:modelValue":e[2]||(e[2]=t=>l.selectedCaptains=t),value:t.CaptainId},null,8,Ae),[[n.lH,l.selectedCaptains]])]),(0,s.Lk)("td",Fe,(0,Mt.v_)(t.name),1),(0,s.Lk)("td",$e,(0,Mt.v_)(t.CaptainId),1),(0,s.Lk)("td",xe,(0,Mt.v_)(t.tugboat?t.tugboat.TugBoatId:"waiting"),1),(0,s.Lk)("td",Ue,[(0,s.Lk)("span",Ne,(0,Mt.v_)(t.tugboat?t.tugboat.CurrentStatus:"waiting"),1)])])))),128))])]),(0,s.Lk)("table",We,[Qe,Oe,(0,s.Lk)("tbody",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t.$store.state.schedulers,(t=>((0,s.uX)(),(0,s.CE)("tr",{key:t.SchedulerId},[(0,s.Lk)("td",null,[(0,s.bo)((0,s.Lk)("input",{type:"checkbox",id:"checkbox"+t.SchedulerId,name:"checkbox"+t.name,"onUpdate:modelValue":e[3]||(e[3]=t=>l.selectedSchedulers=t),value:t.SchedulerId},null,8,Ve),[[n.lH,l.selectedSchedulers]])]),(0,s.Lk)("td",Pe,(0,Mt.v_)(t.name),1),(0,s.Lk)("td",je,(0,Mt.v_)(t.SchedulerId),1)])))),128))])])])])}var Ke={name:"AdminDashboard",components:{SideBar:ae},data(){return{selectedCaptains:[],selectedSchedulers:[]}},mounted(){this.$store.dispatch("fetchCaptains"),this.$store.dispatch("fetchSchedulers")},methods:{async deleteSelected(){this.selectedCaptains.length>0&&await fetch("http://127.0.0.1:8000/api/captains-delete/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ids:this.selectedCaptains})}),this.selectedSchedulers.length>0&&await fetch("http://127.0.0.1:8000/api/schedulers-delete/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ids:this.selectedSchedulers})}),this.$store.dispatch("fetchCaptains"),this.$store.dispatch("fetchSchedulers"),this.selectedCaptains=[],this.selectedSchedulers=[]}}};const Me=(0,i.A)(Ke,[["render",Re],["__scopeId","data-v-71ba61f8"]]);var He=Me;const Je=t=>((0,s.Qi)("data-v-3c061df0"),t=t(),(0,s.jt)(),t),qe={class:"backdrop"},Ye={class:"container-position"},ze={class:"popup-container"},Ge=Je((()=>(0,s.Lk)("br",null,null,-1))),Ze=Je((()=>(0,s.Lk)("br",null,null,-1))),ta={class:"form"},ea={class:"form-group"},aa=Je((()=>(0,s.Lk)("b",null,[(0,s.Lk)("label",{for:"username"},"ID")],-1))),na={class:"form-group"},sa=Je((()=>(0,s.Lk)("b",null,[(0,s.Lk)("label",{for:"name"},"Name")],-1))),oa={class:"form-group"},la=Je((()=>(0,s.Lk)("b",null,[(0,s.Lk)("label",{for:"position"},"Position")],-1))),ia=Je((()=>(0,s.Lk)("option",{disabled:"",value:"",selected:""},"Choose the position",-1))),ra=Je((()=>(0,s.Lk)("option",null,"Administrator",-1))),da=Je((()=>(0,s.Lk)("option",null,"Scheduler",-1))),ua=Je((()=>(0,s.Lk)("option",null,"Captain",-1))),ca=[ia,ra,da,ua],pa=Je((()=>(0,s.Lk)("br",null,null,-1))),ha=Je((()=>(0,s.Lk)("br",null,null,-1)));function ka(t,e,a,o,l,i){const r=(0,s.g2)("font-awesome-icon");return(0,s.uX)(),(0,s.CE)("div",qe,[(0,s.Lk)("div",Ye,[(0,s.Lk)("div",ze,[(0,s.Lk)("button",{onClick:e[0]||(e[0]=(...t)=>i.close&&i.close(...t))},"X"),Ge,(0,s.bF)(r,{icon:["fas","user-plus"],size:["2x"]}),Ze,(0,s.Lk)("div",ta,[(0,s.Lk)("div",ea,[aa,(0,s.bo)((0,s.Lk)("input",{type:"text",id:"username","onUpdate:modelValue":e[1]||(e[1]=t=>l.username=t),placeholder:"Input staff ID"},null,512),[[n.Jo,l.username]])]),(0,s.Lk)("div",na,[sa,(0,s.bo)((0,s.Lk)("input",{type:"text",id:"name","onUpdate:modelValue":e[2]||(e[2]=t=>l.name=t),placeholder:"Input staff name"},null,512),[[n.Jo,l.name]])]),(0,s.Lk)("div",oa,[la,(0,s.eW)("   "),(0,s.bo)((0,s.Lk)("select",{id:"position","onUpdate:modelValue":e[3]||(e[3]=t=>l.selectedPosition=t)},ca,512),[[n.u1,l.selectedPosition]])])]),pa,(0,s.Lk)("button",{class:"blue-button",id:"confirm",onClick:e[4]||(e[4]=t=>i.confirm())},"Confirm"),ha])])])}var ma={name:"MessageDetails",data(){return{username:"",name:"",selectedPosition:""}},methods:{close(){this.$router.back()},async confirm(){const t="/api/create-user/";try{await c.A.post(t,{username:this.username,name:this.name,position:this.selectedPosition,password:"12345678"},{headers:{"Content-Type":"application/json"}});alert("User created successfully"),this.close()}catch(e){console.error("Failed to create user:",e),alert("Failed to create user")}}}};const ba=(0,i.A)(ma,[["render",ka],["__scopeId","data-v-3c061df0"]]);var ga=ba;const La=t=>((0,s.Qi)("data-v-b8fd6ce8"),t=t(),(0,s.jt)(),t),Ia={id:"TaskManager"},fa={class:"header-style"},Ca=La((()=>(0,s.Lk)("h2",null,"My Dashboard",-1))),ya={class:"message-container"},va={class:"job buttons-container"},Ta=La((()=>(0,s.Lk)("br",null,null,-1))),Sa=La((()=>(0,s.Lk)("br",null,null,-1))),Ba=La((()=>(0,s.Lk)("br",null,null,-1))),wa=La((()=>(0,s.Lk)("input",{type:"file",id:"import-task-data"},null,-1))),Ea={for:"import-task-data"},_a=La((()=>(0,s.Lk)("br",null,null,-1))),Xa=La((()=>(0,s.Lk)("br",null,null,-1))),Da=La((()=>(0,s.Lk)("br",null,null,-1))),Aa=La((()=>(0,s.Lk)("input",{type:"file",id:"import-tugboat-data"},null,-1))),Fa={for:"import-tugboat-data"},$a=La((()=>(0,s.Lk)("br",null,null,-1))),xa=La((()=>(0,s.Lk)("br",null,null,-1))),Ua=La((()=>(0,s.Lk)("br",null,null,-1))),Na=La((()=>(0,s.Lk)("br",null,null,-1))),Wa=La((()=>(0,s.Lk)("br",null,null,-1))),Qa=La((()=>(0,s.Lk)("br",null,null,-1))),Oa={class:"header-style"},Va={class:"filter-group"},Pa={class:"filter"},ja=La((()=>(0,s.Lk)("label",{for:"containerBoatFilter"},"Container Boat: ",-1))),Ra=La((()=>(0,s.Lk)("option",{value:""},"All",-1))),Ka={class:"filter"},Ma=La((()=>(0,s.Lk)("label",{for:"countryFilter"},"Country: ",-1))),Ha=La((()=>(0,s.Lk)("option",{value:""},"All",-1))),Ja={class:"filter"},qa=La((()=>(0,s.Lk)("label",{for:"tugBoatFilter"},"Tug Boat: ",-1))),Ya=La((()=>(0,s.Lk)("option",{value:""},"All",-1))),za={class:"filter"},Ga=La((()=>(0,s.Lk)("label",{for:"berthFilter"},"Berth: ",-1))),Za=La((()=>(0,s.Lk)("option",{value:""},"All",-1))),tn={class:"filter"},en=La((()=>(0,s.Lk)("label",{for:"workTypeFilter"},"Work Type: ",-1))),an=La((()=>(0,s.Lk)("option",{value:""},"All",-1))),nn=La((()=>(0,s.Lk)("option",null,"INBOUND",-1))),sn=La((()=>(0,s.Lk)("option",null,"OUTBOUND",-1))),on=[an,nn,sn],ln={class:"filter"},rn=La((()=>(0,s.Lk)("label",{for:"statusFilter"},"Status: ",-1))),dn=La((()=>(0,s.Lk)("option",{value:""},"All",-1))),un=La((()=>(0,s.Lk)("option",null,"Completed",-1))),cn=La((()=>(0,s.Lk)("option",null,"Confirmed",-1))),pn=La((()=>(0,s.Lk)("option",null,"Scheduled",-1))),hn=La((()=>(0,s.Lk)("option",null,"Unscheduled",-1))),kn=[dn,un,cn,pn,hn],mn={key:0,class:"waiting"},bn={key:1,class:"table-container"},gn=La((()=>(0,s.Lk)("thead",null,[(0,s.Lk)("tr",null,[(0,s.Lk)("th",{rowspan:"2"},[(0,s.Lk)("input",{type:"checkbox"})]),(0,s.Lk)("th",{rowspan:"2"},"No."),(0,s.Lk)("th",{rowspan:"2"},"Planned Time"),(0,s.Lk)("th",{rowspan:"2"},"Container Boat"),(0,s.Lk)("th",{rowspan:"2"},"Country"),(0,s.Lk)("th",{style:{"text-align":"center"},colspan:"2"},"Tug Boat"),(0,s.Lk)("th",{rowspan:"2"},"Berth"),(0,s.Lk)("th",{rowspan:"2"},"Work Type"),(0,s.Lk)("th",{style:{"text-align":"center"},colspan:"2"},"Actual Time"),(0,s.Lk)("th",{rowspan:"2"},"Status"),(0,s.Lk)("th",{rowspan:"2"},"Publish Time")]),(0,s.Lk)("tr",null,[(0,s.Lk)("th",null,"Need"),(0,s.Lk)("th",null,"IDs"),(0,s.Lk)("th",null,"Start"),(0,s.Lk)("th",null,"End")])],-1))),Ln=["id","name","value"],In={class:"number"},fn=["onSubmit"],Cn=La((()=>(0,s.Lk)("input",{class:"submit-button",type:"submit"},null,-1))),yn=["onClick"],vn=["onSubmit"],Tn=["onChange"],Sn=["onClick"],Bn=["onClick"],wn={key:1},En=["onChange"],_n=La((()=>(0,s.Lk)("option",{value:""},null,-1))),Xn=["onClick"],Dn={key:1},An=["onChange"],Fn={key:0},$n=["onChange"],xn=["onClick"],Un={class:"work-type"},Nn={class:"start-time"},Wn={class:"end-time"},Qn={class:"work-status"},On={class:"publish-time"},Vn=["id","name","value"],Pn={class:"number"},jn=["onSubmit"],Rn=La((()=>(0,s.Lk)("input",{class:"submit-button",type:"submit"},null,-1))),Kn=["onClick"],Mn=["onSubmit"],Hn=["onChange"],Jn=["onClick"],qn={class:"country"},Yn=["onClick"],zn=["onSubmit"],Gn=La((()=>(0,s.Lk)("button",{class:"submit-button",type:"submit"},null,-1))),Zn={key:0},ts=["onChange"],es=["onClick"],as={key:0},ns=["onChange"],ss=La((()=>(0,s.Lk)("option",null,"INBOUND",-1))),os=La((()=>(0,s.Lk)("option",null,"OUTBOUND",-1))),ls=[ss,os],is=["onClick"],rs={class:"disabled-column"},ds={class:"disabled-column"},us={class:"work-status"},cs={class:"disabled-column"},ps=["id","name","value"],hs={class:"number"},ks={class:"country"},ms={class:"work-type"},bs={class:"status-container"},gs={class:"start-time"},Ls={class:"end-time"},Is={class:"work-status"},fs={class:"status-container"},Cs={class:"publish-time"};function ys(t,e,a,o,l,i){const r=(0,s.g2)("SideBar"),d=(0,s.g2)("router-view"),u=(0,s.g2)("font-awesome-icon");return(0,s.uX)(),(0,s.CE)("div",Ia,[(0,s.Lk)("div",{class:(0,Mt.C4)(["progress-bar",{"progress-bar-active":l.showProgressBar}])},null,2),(0,s.bF)(r),(0,s.Lk)("div",{class:"pages",onClick:e[40]||(e[40]=(...e)=>t.toggle&&t.toggle(...e))},[(0,s.bF)(d),(0,s.Lk)("div",fa,[Ca,(0,s.Lk)("span",ya,[(0,s.Lk)("button",{id:"message",onClick:e[0]||(e[0]=e=>t.message())},[(0,s.bF)(u,{icon:["fas","bell"]})])])]),(0,s.Lk)("div",va,[(0,s.Lk)("button",{id:"schedule",onClick:e[1]||(e[1]=t=>i.schedule())},[(0,s.eW)("Schedule "),(0,s.bF)(u,{icon:["fas","calendar-day"]})]),Ta,Sa,Ba,wa,(0,s.Lk)("label",Ea,[(0,s.Lk)("button",{onClick:e[2]||(e[2]=t=>i.importTaskData())},[(0,s.eW)("Import Task Data "),(0,s.bF)(u,{icon:["fas","file-import"]})])]),_a,Xa,Da,Aa,(0,s.Lk)("label",Fa,[(0,s.Lk)("button",{onClick:e[3]||(e[3]=t=>i.importTugboatData())},[(0,s.eW)("Import Tug Boat Data "),(0,s.bF)(u,{icon:["fas","file-import"]})])]),$a,xa,Ua,(0,s.Lk)("button",{id:"download",onClick:e[4]||(e[4]=t=>i.download())},[(0,s.eW)("Download "),(0,s.bF)(u,{icon:["fas","download"]})]),Na,Wa,Qa,(0,s.Lk)("button",{class:"blue-button",id:"publish",onClick:e[5]||(e[5]=t=>i.publish())},[(0,s.eW)("Publish "),(0,s.bF)(u,{icon:["fas","upload"]})])]),(0,s.Lk)("div",Oa,[(0,s.Lk)("div",Va,[(0,s.Lk)("span",Pa,[ja,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":e[6]||(e[6]=t=>l.containerBoatInput=t)},[Ra,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t.$store.state.containerBoats,(t=>((0,s.uX)(),(0,s.CE)("option",{key:t.ContainerBoatID},(0,Mt.v_)(t.ContainerBoatID),1)))),128))],512),[[n.u1,l.containerBoatInput]])]),(0,s.Lk)("span",Ka,[Ma,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":e[7]||(e[7]=t=>l.countryInput=t)},[Ha,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.countryList(),((t,e)=>((0,s.uX)(),(0,s.CE)("option",{key:e},(0,Mt.v_)(t),1)))),128))],512),[[n.u1,l.countryInput]])]),(0,s.Lk)("span",Ja,[qa,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>l.tugBoatInput=t)},[Ya,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t.$store.state.tugboats,(t=>((0,s.uX)(),(0,s.CE)("option",{key:t.TugBoatId},(0,Mt.v_)(t.TugBoatId),1)))),128))],512),[[n.u1,l.tugBoatInput]])]),(0,s.Lk)("span",za,[Ga,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":e[9]||(e[9]=t=>l.berthInput=t)},[Za,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t.$store.state.berths,(t=>((0,s.uX)(),(0,s.CE)("option",{key:t.BerthId},(0,Mt.v_)(t.BerthId),1)))),128))],512),[[n.u1,l.berthInput]])]),(0,s.Lk)("span",tn,[en,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":e[10]||(e[10]=t=>l.workTypeInput=t)},on,512),[[n.u1,l.workTypeInput]])]),(0,s.Lk)("span",ln,[rn,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":e[11]||(e[11]=t=>l.statusInput=t)},kn,512),[[n.u1,l.statusInput]])])]),(0,s.Lk)("span",null,[(0,s.Lk)("button",{class:"blue-border-button",id:"delete",onClick:e[12]||(e[12]=(...t)=>i.deleteSelected&&i.deleteSelected(...t))},[(0,s.eW)("Delete "),(0,s.bF)(u,{icon:["fas","delete-left"]})]),(0,s.eW)("   "),(0,s.Lk)("button",{class:"blue-border-button",id:"add",onClick:e[13]||(e[13]=e=>t.redirect("NewTask"))},"Add + ")])]),i.waiting()?((0,s.uX)(),(0,s.CE)("div",mn,"No Task Available")):(0,s.Q3)("",!0),i.waiting()?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",bn,[(0,s.Lk)("table",null,[gn,(0,s.Lk)("tbody",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.entryList("Incomplete"),((a,o)=>((0,s.uX)(),(0,s.CE)("tr",{key:o},[(0,s.Lk)("td",null,[(0,s.bo)((0,s.Lk)("input",{type:"checkbox",id:"mycheckbox"+a.ScheduleEntryId,name:t.myCheckbox,"onUpdate:modelValue":e[14]||(e[14]=t=>l.selectedScheduleEntries=t),value:a.TaskId.TaskId},null,8,Ln),[[n.lH,l.selectedScheduleEntries]])]),(0,s.Lk)("td",In,(0,Mt.v_)(a.ScheduleEntryId),1),(0,s.Lk)("td",{onClick:e[16]||(e[16]=(0,n.D$)((()=>{}),["stop"]))},[l.timeInfo===a.ScheduleEntryId?((0,s.uX)(),(0,s.CE)("form",{key:0,onSubmit:t=>i.edit(a.TaskId.TaskId,a.ScheduleEntryId)},[(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":e[15]||(e[15]=e=>t.plannedTime=e),type:"datetime-local"},null,512),[[n.Jo,t.plannedTime]]),Cn],40,fn)):(0,s.Q3)("",!0),l.timeInfo!=a.ScheduleEntryId?((0,s.uX)(),(0,s.CE)("span",{key:1,onClick:t=>i.selected(a.ScheduleEntryId,"time")},(0,Mt.v_)(t.formatDate(a.TaskId.startTime))+"  "+(0,Mt.v_)(t.formatTime(a.TaskId.startTime)),9,yn)):(0,s.Q3)("",!0)]),(0,s.Lk)("td",{onClick:e[18]||(e[18]=(0,n.D$)((()=>{}),["stop"]))},[l.containerBoatInfo===a.ScheduleEntryId?((0,s.uX)(),(0,s.CE)("form",{key:0,onSubmit:t=>i.edit(a.TaskId.TaskId,a.ScheduleEntryId)},[(0,s.bo)((0,s.Lk)("select",{onChange:t=>i.edit(a.TaskId.TaskId,a.ScheduleEntryId),"onUpdate:modelValue":e[17]||(e[17]=e=>t.containerBoatId=e)},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t.$store.state.containerBoats,(t=>((0,s.uX)(),(0,s.CE)("option",{key:t.ContainerBoatID},(0,Mt.v_)(t.ContainerBoatID),1)))),128))],40,Tn),[[n.u1,t.containerBoatId]])],40,vn)):(0,s.Q3)("",!0),l.containerBoatInfo!=a.ScheduleEntryId?((0,s.uX)(),(0,s.CE)("span",{key:1,onClick:t=>i.selected(a.ScheduleEntryId,"containerBoatId")},(0,Mt.v_)(a.TaskId.ContainerBoatID.ContainerBoatID),9,Sn)):(0,s.Q3)("",!0)]),(0,s.Lk)("td",{onClick:e[19]||(e[19]=(0,n.D$)((()=>{}),["stop"])),class:"country"},(0,Mt.v_)(a.TaskId.ContainerBoatID.Country),1),(0,s.Lk)("td",{onClick:e[20]||(e[20]=(0,n.D$)((()=>{}),["stop"]))},[(0,s.Lk)("span",null,(0,Mt.v_)(a.TaskId.RequiredTugBoat),1)]),(0,s.Lk)("td",{onClick:e[23]||(e[23]=(0,n.D$)((()=>{}),["stop"]))},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(a.listOfTugBoats.map((t=>t.TugBoatId)),(o=>((0,s.uX)(),(0,s.CE)("span",{key:o},[l.tugBoatInfo!=a.ScheduleEntryId||l.tugBoatIndex!=o?((0,s.uX)(),(0,s.CE)("span",{key:0,onClick:t=>i.tugBoatSelected(a.ScheduleEntryId,o)},[(0,s.Lk)("span",null,(0,Mt.v_)(o)+" / ",1)],8,Bn)):(0,s.Q3)("",!0),l.tugBoatInfo===a.ScheduleEntryId&&l.tugBoatIndex===o?((0,s.uX)(),(0,s.CE)("form",wn,[(0,s.bo)((0,s.Lk)("select",{onChange:t=>i.edit(a.TaskId.TaskId,a.ScheduleEntryId,o),"onUpdate:modelValue":e[21]||(e[21]=e=>t.tugBoat=e)},[_n,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.changeTugboatList(),(t=>((0,s.uX)(),(0,s.CE)("option",{key:t.TugBoatId},(0,Mt.v_)(t.TugBoatId),1)))),128))],40,En),[[n.u1,t.tugBoat]])])):(0,s.Q3)("",!0)])))),128)),l.tugBoatInfo!=a.ScheduleEntryId||"add"!=l.tugBoatIndex?((0,s.uX)(),(0,s.CE)("span",{key:0,onClick:t=>i.tugBoatSelected(a.ScheduleEntryId,"add")},[(0,s.bF)(u,{icon:["fas","circle-plus"],id:"add-tugboat"})],8,Xn)):(0,s.Q3)("",!0),l.tugBoatInfo===a.ScheduleEntryId&&"add"===l.tugBoatIndex?((0,s.uX)(),(0,s.CE)("form",Dn,[(0,s.bo)((0,s.Lk)("select",{onChange:t=>i.edit(a.TaskId.TaskId,a.ScheduleEntryId),"onUpdate:modelValue":e[22]||(e[22]=e=>t.tugBoat=e)},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t.$store.state.tugboats,(t=>((0,s.uX)(),(0,s.CE)("option",{key:t.TugBoatId},(0,Mt.v_)(t.TugBoatId),1)))),128))],40,An),[[n.u1,t.tugBoat]])])):(0,s.Q3)("",!0)]),(0,s.Lk)("td",{onClick:e[25]||(e[25]=(0,n.D$)((()=>{}),["stop"]))},[l.berthInfo===a.ScheduleEntryId?((0,s.uX)(),(0,s.CE)("form",Fn,[(0,s.bo)((0,s.Lk)("select",{onChange:t=>i.edit(a.TaskId.TaskId,a.ScheduleEntryId),"onUpdate:modelValue":e[24]||(e[24]=e=>t.berthId=e)},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t.$store.state.berths,(t=>((0,s.uX)(),(0,s.CE)("option",{key:t.BerthID},(0,Mt.v_)(t.BerthId),1)))),128))],40,$n),[[n.u1,t.berthId]])])):(0,s.Q3)("",!0),l.berthInfo!=a.ScheduleEntryId?((0,s.uX)(),(0,s.CE)("span",{key:1,onClick:t=>i.selected(a.ScheduleEntryId,"berthId")},(0,Mt.v_)(a.TaskId.BerthId),9,xn)):(0,s.Q3)("",!0)]),(0,s.Lk)("td",Un,[(0,s.Lk)("span",{class:"status-container",style:(0,Mt.Tr)(t.getActionStyle(a.TaskId.Action))},(0,Mt.v_)(a.TaskId.Action),5)]),(0,s.Lk)("td",Nn,(0,Mt.v_)(t.formatTime(a.StartTime)),1),(0,s.Lk)("td",Wn,(0,Mt.v_)(t.formatTime(a.EndTime)),1),(0,s.Lk)("td",Qn,[(0,s.Lk)("span",{class:"status-container",style:(0,Mt.Tr)(t.getStatusStyle(a.Status))},(0,Mt.v_)(a.Status),5)]),(0,s.Lk)("td",On,(0,Mt.v_)(t.formatTime(a.PublishTime)),1)])))),128)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.taskList(),((a,o)=>((0,s.uX)(),(0,s.CE)("tr",{key:o},[(0,s.Lk)("td",null,[(0,s.bo)((0,s.Lk)("input",{type:"checkbox",id:"myCheckbox"+a.TaskId,name:t.myCheckbox,"onUpdate:modelValue":e[26]||(e[26]=t=>l.selectedTasks=t),value:a.TaskId},null,8,Vn),[[n.lH,l.selectedTasks]])]),(0,s.Lk)("td",Pn,(0,Mt.v_)(o+1),1),(0,s.Lk)("td",{onClick:e[28]||(e[28]=(0,n.D$)((()=>{}),["stop"]))},[l.timeInfo===a.TaskId?((0,s.uX)(),(0,s.CE)("form",{key:0,onSubmit:t=>i.edit(a.TaskId)},[(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":e[27]||(e[27]=e=>t.plannedTime=e),type:"datetime-local"},null,512),[[n.Jo,t.plannedTime]]),Rn],40,jn)):(0,s.Q3)("",!0),l.timeInfo!=a.TaskId?((0,s.uX)(),(0,s.CE)("span",{key:1,onClick:t=>i.selected(a.TaskId,"time")},(0,Mt.v_)(t.formatDate(a.startTime))+"  "+(0,Mt.v_)(t.formatTime(a.startTime)),9,Kn)):(0,s.Q3)("",!0)]),(0,s.Lk)("td",{onClick:e[30]||(e[30]=(0,n.D$)((()=>{}),["stop"]))},[l.containerBoatInfo===a.TaskId?((0,s.uX)(),(0,s.CE)("form",{key:0,onSubmit:t=>i.edit(a.TaskId)},[(0,s.bo)((0,s.Lk)("select",{onChange:t=>i.edit(a.TaskId),"onUpdate:modelValue":e[29]||(e[29]=e=>t.containerBoatId=e)},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t.$store.state.containerBoats,(t=>((0,s.uX)(),(0,s.CE)("option",{key:t.ContainerBoatID},(0,Mt.v_)(t.ContainerBoatID),1)))),128))],40,Hn),[[n.u1,t.containerBoatId]])],40,Mn)):(0,s.Q3)("",!0),l.containerBoatInfo!=a.TaskId?((0,s.uX)(),(0,s.CE)("span",{key:1,onClick:t=>i.selected(a.TaskId,"containerBoatId")},(0,Mt.v_)(a.ContainerBoatID.ContainerBoatID),9,Jn)):(0,s.Q3)("",!0)]),(0,s.Lk)("td",qn,(0,Mt.v_)(a.ContainerBoatID.Country),1),(0,s.Lk)("td",{onClick:e[31]||(e[31]=(0,n.D$)((()=>{}),["stop"]))},[(0,s.Lk)("span",null,(0,Mt.v_)(a.RequiredTugBoat),1)]),(0,s.Lk)("td",{onClick:e[33]||(e[33]=(0,n.D$)((()=>{}),["stop"])),class:"disabled-column"},[l.tugBoatInfo!="task"+a.TaskId?((0,s.uX)(),(0,s.CE)("span",{key:0,onClick:t=>i.selected("task"+a.TaskId,"tugBoat")},[(0,s.bF)(u,{icon:["fas","circle-plus"],id:"add-tugboat"})],8,Yn)):(0,s.Q3)("",!0),l.tugBoatInfo==="task"+a.TaskId?((0,s.uX)(),(0,s.CE)("form",{key:1,onSubmit:(0,n.D$)((t=>i.manualSchedule(a.TaskId)),["prevent"])},[(0,s.bo)((0,s.Lk)("select",{multiple:"","onUpdate:modelValue":e[32]||(e[32]=e=>t.listOfTugBoat=e)},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.changeTugboatList(),(t=>((0,s.uX)(),(0,s.CE)("option",{key:t.TugBoatId},(0,Mt.v_)(t.TugBoatId),1)))),128))],512),[[n.u1,t.listOfTugBoat]]),Gn],40,zn)):(0,s.Q3)("",!0)]),(0,s.Lk)("td",{onClick:e[35]||(e[35]=(0,n.D$)((()=>{}),["stop"]))},[l.berthInfo===a.TaskId?((0,s.uX)(),(0,s.CE)("form",Zn,[(0,s.bo)((0,s.Lk)("select",{onChange:t=>i.edit(a.TaskId),"onUpdate:modelValue":e[34]||(e[34]=e=>t.berthId=e)},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t.$store.state.berths,(t=>((0,s.uX)(),(0,s.CE)("option",{key:t.BerthID},(0,Mt.v_)(t.BerthId),1)))),128))],40,ts),[[n.u1,t.berthId]])])):(0,s.Q3)("",!0),l.berthInfo!=a.TaskId?((0,s.uX)(),(0,s.CE)("span",{key:1,onClick:t=>i.selected(a.TaskId,"berthId")},(0,Mt.v_)(a.BerthId),9,es)):(0,s.Q3)("",!0)]),(0,s.Lk)("td",{onClick:e[37]||(e[37]=(0,n.D$)((()=>{}),["stop"])),class:"work-type"},[l.actionInfo===a.TaskId?((0,s.uX)(),(0,s.CE)("form",as,[(0,s.bo)((0,s.Lk)("select",{onChange:t=>i.edit(a.TaskId),"onUpdate:modelValue":e[36]||(e[36]=e=>t.action=e)},ls,40,ns),[[n.u1,t.action]])])):(0,s.Q3)("",!0),l.actionInfo!=a.TaskId?((0,s.uX)(),(0,s.CE)("span",{key:1,onClick:t=>i.selected(a.TaskId,"action"),class:"status-container",style:(0,Mt.Tr)(t.getActionStyle(a.Action))},(0,Mt.v_)(a.Action),13,is)):(0,s.Q3)("",!0)]),(0,s.Lk)("td",rs,(0,Mt.v_)(),1),(0,s.Lk)("td",ds,(0,Mt.v_)(),1),(0,s.Lk)("td",us,[(0,s.Lk)("span",{class:"status-container",style:(0,Mt.Tr)(t.getStatusStyle(a.State))},(0,Mt.v_)(a.State),5)]),(0,s.Lk)("td",cs,(0,Mt.v_)(),1)])))),128)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.entryList("Completed"),((a,o)=>((0,s.uX)(),(0,s.CE)("tr",{class:"disabled-row",key:o},[(0,s.Lk)("td",null,[(0,s.bo)((0,s.Lk)("input",{type:"checkbox",id:"myCheckbox"+a.TaskId,name:t.myCheckbox,"onUpdate:modelValue":e[38]||(e[38]=t=>l.selectedTasks=t),value:a.TaskId.TaskId},null,8,ps),[[n.lH,l.selectedTasks]])]),(0,s.Lk)("td",hs,(0,Mt.v_)(o+1),1),(0,s.Lk)("td",null,(0,Mt.v_)(t.formatDate(a.TaskId.startTime))+"  "+(0,Mt.v_)(t.formatTime(a.TaskId.startTime)),1),(0,s.Lk)("td",null,(0,Mt.v_)(a.TaskId.ContainerBoatID.ContainerBoatID),1),(0,s.Lk)("td",ks,(0,Mt.v_)(a.TaskId.ContainerBoatID.Country),1),(0,s.Lk)("td",{onClick:e[39]||(e[39]=(0,n.D$)((()=>{}),["stop"]))},[(0,s.Lk)("span",null,(0,Mt.v_)(a.TaskId.RequiredTugBoat),1)]),(0,s.Lk)("td",null,(0,Mt.v_)(a.listOfTugBoats.map((t=>t.TugBoatId)).join("/ ")),1),(0,s.Lk)("td",null,(0,Mt.v_)(a.TaskId.BerthId),1),(0,s.Lk)("td",ms,[(0,s.Lk)("span",bs,(0,Mt.v_)(a.TaskId.Action),1)]),(0,s.Lk)("td",gs,(0,Mt.v_)(a.startTime),1),(0,s.Lk)("td",Ls,(0,Mt.v_)(a.endTime),1),(0,s.Lk)("td",Is,[(0,s.Lk)("span",fs,(0,Mt.v_)(a.Status),1)]),(0,s.Lk)("td",Cs,(0,Mt.v_)(a.publishTime),1)])))),128))])])]))])])}var vs={name:"WorkSchedule",components:{SideBar:ae},mounted(){this.$store.dispatch("fetchScheduleEntries"),this.$store.dispatch("fetchTasks"),this.$store.dispatch("fetchContainerBoats"),this.$store.dispatch("fetchBerths"),this.$store.dispatch("fetchTugBoats")},data(){return{tugBoatIndex:null,tugBoatInfo:null,timeInfo:null,containerBoatInfo:null,berthInfo:null,actionInfo:null,searchValue:null,entries:[],tasks:[],containerBoats:[],containerBoatInput:"",countryInput:"",tugBoatInput:"",berthInput:"",workTypeInput:"",statusInput:"",selectedTasks:[],selectedScheduleEntries:[],showProgressBar:!1}},methods:{async deleteSelected(){this.selectedTasks.length>0&&await fetch("/api/tasks-delete/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ids:this.selectedTasks})}),this.selectedScheduleEntries.length>0&&await fetch("/api/scheduleentries-delete/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ids:this.selectedScheduleEntries})}),this.$store.dispatch("fetchTasks"),this.$store.dispatch("fetchScheduleEntries"),this.selectedTasks=[],this.selectedScheduleEntries=[]},waiting(){return 0===this.$store.state.tasks.length},async schedule(){this.showProgressBar=!0;try{const t=await c.A.post("/api/auto-schedule",{});console.log(t.data)}catch(t){console.error("Error during schedule operation: ",t),alert("Schedule operation failed, check logs for details.")}setTimeout((()=>{this.showProgressBar=!1,alert("Schedule operation successful!")}),2e3)},importTaskData(){let t=document.getElementById("import-task-data");t.onchange=t=>{const e=t.target.files[0];if(!e)return;let a=new FormData;a.append("task_data",e),c.A.post("/api/upload-task-data",a,{headers:{"Content-Type":"multipart/form-data"}}).then((t=>{console.log(t.data),alert("Imported success!")})).catch((t=>{console.error("Error uploading file: ",t),alert("Failed to import, check logs for details.")}))},t.click()},importTugboatData(){let t=document.getElementById("import-tugboat-data");t.onchange=t=>{const e=t.target.files[0];if(!e)return;let a=new FormData;a.append("tugboat_data",e),c.A.post("/api/upload-tug-boat-data",a,{headers:{"Content-Type":"multipart/form-data"}}).then((t=>{console.log(t.data),alert("Imported success!")})).catch((t=>{console.error("Error uploading file: ",t),alert("Failed to import, check logs for details.")}))},t.click()},download(){c.A.post("/api/publish-data").then((t=>{console.log(t.data.message),alert("Published success!")})).catch((t=>{console.error("error: ",t),alert("Failed to publish data, check logs for details.")}))},async publish(){const t=(new Date).toISOString();try{const e=await c.A.post("/api/update-publish-time",{timeStamp:t});console.log(e.data),alert("Publish Successfully")}catch(e){console.error(e),alert("Publish Successfully")}},countryList(){const t=[...new Set(this.$store.state.containerBoats.map((t=>t.Country)))];return t},entryList(t){this.entries=this.$store.state.scheduleEntries;const e="Completed"===t;return this.entries.filter((t=>{const a=!this.countryInput||t.TaskId.ContainerBoatID.Country.toString()===this.countryInput,n=!this.containerBoatInput||t.TaskId.ContainerBoatID.ContainerBoatID.toString()===this.containerBoatInput,s=!this.tugBoatInput||t.listOfTugBoats.map((t=>t.TugBoatId)).includes(this.tugBoatInput),o=!this.berthInput||t.TaskId.BerthId.toString()===this.berthInput,l=!this.workTypeInput||t.TaskId.Action===this.workTypeInput,i=!this.statusInput||t.Status===this.statusInput,r="Completed"===t.Status;return a&&n&&s&&o&&l&&i&&(e?r:!r)}))},taskList(){return this.tasks=this.$store.state.tasks,this.tasks.filter((t=>{const e=!this.countryInput||t.ContainerBoatID.Country.toString()===this.countryInput,a=!this.containerBoatInput||t.ContainerBoatID.ContainerBoatID.toString()===this.containerBoatInput,n=""===this.tugBoatInput,s=!this.berthInput||t.BerthId.toString()===this.berthInput,o=!this.workTypeInput||t.Action===this.workTypeInput,l=!this.statusInput||t.State===this.statusInput,i="Unscheduled"===t.State;return e&&a&&n&&s&&o&&l&&i}))},changeTugboatList(){return this.$store.state.tugboats},resetNull(){this.tugBoatInfo=null,this.tugBoatIndex=null,this.timeInfo=null,this.containerBoatInfo=null,this.berthInfo=null,this.actionInfo=null},tugBoatSelected(t,e){this.resetNull,this.tugBoatInfo=t,this.tugBoatIndex=e},selected(t,e){this.resetNull(),"tugBoat"===e?this.tugBoatInfo=t:"time"===e?this.timeInfo=t:"containerBoatId"===e?this.containerBoatInfo=t:"berthId"===e?this.berthInfo=t:"action"===e&&(this.actionInfo=t)},async edit(t,e,a){try{const n=await c.A.post("/api/update-entry-task/",{entryId:e,taskId:t,plannedTime:this.plannedTime,containerBoatId:this.containerBoatId,removeTugBoatId:a,newTugBoatId:this.tugBoat,berthId:this.berthId,action:this.action});n.data.success?(n.data.conflict?alert("There are conflicted entries. Rescheduling..."):alert("Edit Successfully"),window.location.reload(),this.resetNull()):alert("Edit Task Failed.")}catch(n){console.error("Edit task error:",n),alert("Edit Task Error.")}},async manualSchedule(t){try{const e=await c.A.post("/api/manual-schedule/",{taskId:t,tugBoatList:this.listOfTugBoat});e.data.success?(e.data.conflict?alert("There are conflicted entries. Rescheduling..."):alert("Manual Scheduling Successful"),window.location.reload(),this.resetNull()):alert("Manual Schedulling Failed.")}catch(e){console.error("Error during manual schedulling:",e),alert("Manual Schedulling Error.")}},async getTugBoatStyle(t){try{const e=await c.A.post("/api/tugboat-availability",{tugboatId:t});if(e.data.success){let t;switch(console.log("get tugboat availability success"),e.data.message){case!0:t="green";break;default:t="red"}return{backgroundColor:t,color:"white",padding:"5px","border-radius":"10px"}}console.log("failed")}catch(e){console.error("Get tugboat availability error: ",e)}}}};const Ts=(0,i.A)(vs,[["render",ys],["__scopeId","data-v-b8fd6ce8"]]);var Ss=Ts;const Bs=t=>((0,s.Qi)("data-v-d30e41a6"),t=t(),(0,s.jt)(),t),ws={id:"NewTask"},Es={class:"pages"},_s=Bs((()=>(0,s.Lk)("h2",null,"New Task",-1))),Xs=Bs((()=>(0,s.Lk)("th",null,[(0,s.Lk)("label",{for:"containerBoatId"},"Container Boat")],-1))),Ds=Bs((()=>(0,s.Lk)("th",null,[(0,s.Lk)("label",{for:"country"},"Country")],-1))),As=Bs((()=>(0,s.Lk)("th",null,[(0,s.Lk)("label",{for:"tonnage"},"Tonnage")],-1))),Fs=Bs((()=>(0,s.Lk)("th",null,[(0,s.Lk)("label",{for:"time"},"Time")],-1))),$s=Bs((()=>(0,s.Lk)("th",null,[(0,s.Lk)("label",{for:"action"},"Action")],-1))),xs=Bs((()=>(0,s.Lk)("option",null,"INBOUND",-1))),Us=Bs((()=>(0,s.Lk)("option",null,"OUTBOUND",-1))),Ns=[xs,Us],Ws=Bs((()=>(0,s.Lk)("th",null,[(0,s.Lk)("label",{for:"berth"},"Berth")],-1))),Qs={class:"cancel-save-buttons"},Os=Bs((()=>(0,s.Lk)("input",{class:"save",type:"submit",value:"Save"},null,-1)));function Vs(t,e,a,o,l,i){const r=(0,s.g2)("SideBar"),d=(0,s.g2)("router-view");return(0,s.uX)(),(0,s.CE)("div",ws,[(0,s.bF)(r),(0,s.Lk)("form",{onSubmit:e[7]||(e[7]=(0,n.D$)((t=>i.save()),["prevent"]))},[(0,s.Lk)("div",Es,[(0,s.bF)(d),_s,(0,s.Lk)("table",null,[(0,s.Lk)("tr",null,[Xs,(0,s.Lk)("td",null,[(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=e=>t.containerBoatId=e),placeholder:"Input the ID of Container Boat",required:""},null,512),[[n.Jo,t.containerBoatId]])])]),(0,s.Lk)("tr",null,[Ds,(0,s.Lk)("td",null,[(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=e=>t.country=e),placeholder:"Input the Country",required:""},null,512),[[n.Jo,t.country]])])]),(0,s.Lk)("tr",null,[As,(0,s.Lk)("td",null,[(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=e=>t.tonnage=e),placeholder:"Input Tonnage of Ship",required:""},null,512),[[n.Jo,t.tonnage]])])]),(0,s.Lk)("tr",null,[Fs,(0,s.Lk)("td",null,[(0,s.bo)((0,s.Lk)("input",{type:"datetime-local","onUpdate:modelValue":e[3]||(e[3]=e=>t.time=e),placeholder:"Set time",required:""},null,512),[[n.Jo,t.time]])])]),(0,s.Lk)("tr",null,[$s,(0,s.Lk)("td",null,[(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":e[4]||(e[4]=e=>t.action=e),required:""},Ns,512),[[n.u1,t.action]])])]),(0,s.Lk)("tr",null,[Ws,(0,s.Lk)("td",null,[(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":e[5]||(e[5]=e=>t.berth=e),required:""},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t.$store.state.berths,(t=>((0,s.uX)(),(0,s.CE)("option",{key:t.BerthId},(0,Mt.v_)(t.BerthId),1)))),128))],512),[[n.u1,t.berth]])])])])]),(0,s.Lk)("div",Qs,[(0,s.Lk)("button",{class:"grey-border-button",id:"cancel",onClick:e[6]||(e[6]=e=>t.redirect("Exit-NewTask"))},"Cancel"),Os])],32)])}var Ps={name:"NewTask",components:{SideBar:ae},mounted(){this.$store.dispatch("fetchBerths"),this.$store.commit("setExitPath","SchedulerDashboard")},methods:{async save(){try{const t=await c.A.post("/api/save-newtask/",{containerBoatId:this.containerBoatId,time:this.time,tonnage:this.tonnage,country:this.country,requiredTugBoat:this.requiredTugBoat,action:this.action,berthId:this.berth,state:this.state},{headers:{"Content-Type":"application/json"}});t.data.success?(alert("Added successfully"),this.$router.push({name:"Save-NewTask"})):alert("Add container boat Failed.")}catch(t){console.error("Add container boat error:",t),alert("Add container boat Error.")}}}};const js=(0,i.A)(Ps,[["render",Vs],["__scopeId","data-v-d30e41a6"]]);var Rs=js;const Ks=t=>((0,s.Qi)("data-v-7ad8c81d"),t=t(),(0,s.jt)(),t),Ms={class:"pages"},Hs=Ks((()=>(0,s.Lk)("h2",null,"Tug Boat List",-1))),Js={class:"header-style"},qs={class:"search-form"},Ys={class:"filter-group"},zs=Ks((()=>(0,s.Lk)("label",{for:"statusFilter"},"Status: ",-1))),Gs={class:"table-container"},Zs={class:"work-table"},to=Ks((()=>(0,s.Lk)("thead",null,[(0,s.Lk)("tr",null,[(0,s.Lk)("th",{style:{"text-align":"center"},rowspan:"2"},[(0,s.Lk)("input",{type:"checkbox"})]),(0,s.Lk)("th",{rowspan:"2"},"No."),(0,s.Lk)("th",{rowspan:"2"},"Tugboat ID"),(0,s.Lk)("th",{colspan:"2"},"Captain"),(0,s.Lk)("th",{colspan:"2"},"Working Hours"),(0,s.Lk)("th",{rowspan:"2"},"Status")]),(0,s.Lk)("tr",null,[(0,s.Lk)("th",{style:{"text-align":"center"}},"ID"),(0,s.Lk)("th",{style:{"text-align":"center"}},"Name"),(0,s.Lk)("th",{style:{"text-align":"center"}},"Start"),(0,s.Lk)("th",{style:{"text-align":"center"}},"End")])],-1))),eo=Ks((()=>(0,s.Lk)("td",null,[(0,s.Lk)("input",{type:"checkbox"})],-1))),ao={class:"number"},no=["onSubmit"],so=["onChange"],oo=Ks((()=>(0,s.Lk)("input",{class:"submit-button",type:"submit"},null,-1))),lo=["onClick"],io=["onSubmit"],ro=Ks((()=>(0,s.Lk)("input",{class:"submit-button",type:"submit"},null,-1))),uo=["onClick"],co=["onSubmit"],po=Ks((()=>(0,s.Lk)("input",{class:"submit-button",type:"submit"},null,-1))),ho=["onClick"],ko=["onSubmit"],mo=["onChange"],bo=Ks((()=>(0,s.Lk)("option",null,"Maintenance",-1))),go=[bo],Lo=Ks((()=>(0,s.Lk)("input",{class:"submit-button",type:"submit"},null,-1))),Io=["onClick"];function fo(t,e,a,o,l,i){const r=(0,s.g2)("SideBar"),d=(0,s.g2)("router-view"),u=(0,s.g2)("font-awesome-icon");return(0,s.uX)(),(0,s.CE)("div",{id:"TugBoatList",onClick:e[19]||(e[19]=e=>t.toggle())},[(0,s.bF)(r),(0,s.bF)(d),(0,s.Lk)("div",Ms,[Hs,(0,s.Lk)("div",Js,[(0,s.Lk)("form",qs,[(0,s.bo)((0,s.Lk)("input",{id:"search",type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>l.input=t),placeholder:"Search..."},null,512),[[n.Jo,l.input]]),(0,s.bF)(u,{icon:["fas","magnifying-glass"],class:"search-icon"})]),(0,s.Lk)("span",null,[(0,s.Lk)("button",{class:"grey-border-button",id:"delete",onClick:e[1]||(e[1]=e=>t.redirect(""))},[(0,s.eW)("Delete "),(0,s.bF)(u,{icon:["fas","delete-left"]})]),(0,s.eW)("   "),(0,s.Lk)("button",{class:"blue-button",id:"add",onClick:e[2]||(e[2]=e=>t.redirect("NewTugBoat"))},"Add + ")])]),(0,s.Lk)("div",Ys,[zs,(0,s.bo)((0,s.Lk)("input",{type:"checkbox",value:"","onUpdate:modelValue":e[3]||(e[3]=t=>l.allStatus=t),onChange:e[4]||(e[4]=t=>i.handleChange("")),selected:""},null,544),[[n.lH,l.allStatus]]),(0,s.eW)(" All "),(0,s.bo)((0,s.Lk)("input",{type:"checkbox",value:"Free","onUpdate:modelValue":e[5]||(e[5]=t=>l.freeStatus=t),onChange:e[6]||(e[6]=t=>i.handleChange("Free"))},null,544),[[n.lH,l.freeStatus]]),(0,s.eW)(" Free "),(0,s.bo)((0,s.Lk)("input",{type:"checkbox",value:"Busy","onUpdate:modelValue":e[7]||(e[7]=t=>l.busyStatus=t),onChange:e[8]||(e[8]=t=>i.handleChange("Busy"))},null,544),[[n.lH,l.busyStatus]]),(0,s.eW)(" Busy "),(0,s.bo)((0,s.Lk)("input",{type:"checkbox",value:"Maintenance","onUpdate:modelValue":e[9]||(e[9]=t=>l.maintenanceStatus=t),onChange:e[10]||(e[10]=t=>i.handleChange("Maintenance"))},null,544),[[n.lH,l.maintenanceStatus]]),(0,s.eW)(" Maintenance ")]),(0,s.Lk)("div",Gs,[(0,s.Lk)("div",Zs,[(0,s.Lk)("table",null,[to,(0,s.Lk)("tbody",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.tugboatList(),((a,o)=>((0,s.uX)(),(0,s.CE)("tr",{key:o},[eo,(0,s.Lk)("td",ao,(0,Mt.v_)(o+1),1),(0,s.Lk)("td",null,(0,Mt.v_)(a.TugBoatId),1),(0,s.Lk)("td",{onClick:e[12]||(e[12]=(0,n.D$)((()=>{}),["stop"]))},[l.captainInfo===a.TugBoatId?((0,s.uX)(),(0,s.CE)("form",{key:0,onSubmit:t=>i.edit(a.TugBoatId)},[(0,s.bo)((0,s.Lk)("select",{onChange:t=>i.edit(a.TugBoatId),"onUpdate:modelValue":e[11]||(e[11]=e=>t.captainId=e)},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t.$store.state.captains,(t=>((0,s.uX)(),(0,s.CE)("option",{key:t.CaptainId},(0,Mt.v_)(t.CaptainId)+" : "+(0,Mt.v_)(t.name),1)))),128))],40,so),[[n.u1,t.captainId]]),oo],40,no)):(0,s.Q3)("",!0),l.captainInfo!=a.TugBoatId?((0,s.uX)(),(0,s.CE)("span",{key:1,onClick:t=>i.selected(a.TugBoatId,"captain")},(0,Mt.v_)(i.getCaptainId(a.TugBoatId)),9,lo)):(0,s.Q3)("",!0)]),(0,s.Lk)("td",null,(0,Mt.v_)(i.getCaptainName(a.TugBoatId)),1),(0,s.Lk)("td",{onClick:e[14]||(e[14]=(0,n.D$)((()=>{}),["stop"]))},[l.startTimeInfo===a.TugBoatId?((0,s.uX)(),(0,s.CE)("form",{key:0,onSubmit:t=>i.edit(a.TugBoatId)},[(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":e[13]||(e[13]=e=>t.startTime=e),type:"time"},null,512),[[n.Jo,t.startTime]]),ro],40,io)):(0,s.Q3)("",!0),l.startTimeInfo!=a.TugBoatId?((0,s.uX)(),(0,s.CE)("span",{key:1,onClick:t=>i.selected(a.TugBoatId,"startTime")},(0,Mt.v_)(a.StartWorkingTime),9,uo)):(0,s.Q3)("",!0)]),(0,s.Lk)("td",{onClick:e[16]||(e[16]=(0,n.D$)((()=>{}),["stop"]))},[l.endTimeInfo===a.TugBoatId?((0,s.uX)(),(0,s.CE)("form",{key:0,onSubmit:t=>i.edit(a.TugBoatId)},[(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":e[15]||(e[15]=e=>t.endTime=e),type:"time"},null,512),[[n.Jo,t.endTime]]),po],40,co)):(0,s.Q3)("",!0),l.endTimeInfo!=a.TugBoatId?((0,s.uX)(),(0,s.CE)("span",{key:1,onClick:t=>i.selected(a.TugBoatId,"endTime")},(0,Mt.v_)(a.EndWorkingTime),9,ho)):(0,s.Q3)("",!0)]),(0,s.Lk)("td",{class:"work-status",onClick:e[18]||(e[18]=(0,n.D$)((()=>{}),["stop"]))},[l.statusInfo===a.TugBoatId?((0,s.uX)(),(0,s.CE)("form",{key:0,onSubmit:t=>i.edit(a.TugBoatId)},[(0,s.bo)((0,s.Lk)("select",{onChange:t=>i.edit(a.TugBoatId),"onUpdate:modelValue":e[17]||(e[17]=e=>t.status=e)},go,40,mo),[[n.u1,t.status]]),Lo],40,ko)):(0,s.Q3)("",!0),l.statusInfo!=a.TugBoatId?((0,s.uX)(),(0,s.CE)("span",{key:1,onClick:t=>i.selected(a.TugBoatId,"status"),class:"status-container",style:(0,Mt.Tr)(t.getStatusStyle(a.CurrentStatus))},(0,Mt.v_)(a.CurrentStatus),13,Io)):(0,s.Q3)("",!0)])])))),128))])])])])])])}var Co={name:"TugBoatList",components:{SideBar:ae},mounted(){this.$store.dispatch("fetchTugBoats"),this.$store.dispatch("fetchCaptains")},data(){return{tugboats:[],input:"",allStatus:!0,freeStatus:null,busyStatus:null,maintenanceStatus:null,chosenStatus:"",captainInfo:null,startTimeInfo:null,endTimeInfo:null,statusInfo:null}},methods:{handleChange(t){this.chosenStatus=t,"Free"===t?(this.allStatus=null,this.busyStatus=null,this.maintenanceStatus=null):"Busy"===t?(this.allStatus=null,this.freeStatus=null,this.maintenanceStatus=null):"Maintenance"===t?(this.allStatus=null,this.freeStatus=null,this.busyStatus=null):(this.freeStatus=null,this.busyStatus=null,this.maintenanceStatus=null)},tugboatList(){return this.tugboats=this.$store.state.tugboats,this.tugboats.filter((t=>{const e=t.TugBoatId.toLowerCase().includes(this.input.toLowerCase()),a=!t.CaptainId||t.CaptainId.name.toLowerCase().includes(this.input.toLowerCase()),n=!t.CaptainId||t.CaptainId.CaptainId.toLowerCase().includes(this.input.toLowerCase()),s=!this.chosenStatus||t.CurrentStatus.toLowerCase()===this.chosenStatus.toLowerCase();return(a||n||e)&&s}))},getCaptainId(t){const e=this.tugboats.find((e=>e.TugBoatId===t));return e&&e.CaptainId?e.CaptainId.CaptainId:"-"},getCaptainName(t){const e=this.tugboats.find((e=>e.TugBoatId===t));return e&&e.CaptainId?e.CaptainId.name:"-"},selected(t,e){this.resetNull(),"captain"===e?this.captainInfo=t:"startTime"===e?this.startTimeInfo=t:"endTime"===e?this.endTimeInfo=t:"status"===e&&(this.statusInfo=t)},resetNull(){this.captainInfo=null,this.startTimeInfo=null,this.endTimeInfo=null,this.statusInfo=null},async edit(t){try{const e=await c.A.post("/api/update-tugboat/",{tugboatId:t,captainId:this.captainId,startTime:this.startTime,endTime:this.endTime,status:this.status});e.data.success?(alert("Edited Succesfully"),window.location.reload(),this.resetNull()):alert("Edit Failed.")}catch(e){console.error("Error:",e),alert(e)}}}};const yo=(0,i.A)(Co,[["render",fo],["__scopeId","data-v-7ad8c81d"]]);var vo=yo;const To=t=>((0,s.Qi)("data-v-b739ff7e"),t=t(),(0,s.jt)(),t),So={class:"backdrop"},Bo={class:"container-position"},wo={class:"popup-container"},Eo=To((()=>(0,s.Lk)("br",null,null,-1))),_o={class:"form"},Xo={class:"form-group"},Do=To((()=>(0,s.Lk)("b",null,[(0,s.Lk)("label",{for:"tugboatId"},"Tug Boat ID")],-1))),Ao={class:"form-group"},Fo=To((()=>(0,s.Lk)("b",null,[(0,s.Lk)("label",{for:"captainId"},"Captain")],-1))),$o=To((()=>(0,s.Lk)("option",null,null,-1))),xo=To((()=>(0,s.Lk)("input",{class:"submit-button",type:"submit"},null,-1))),Uo={class:"form-group"},No=To((()=>(0,s.Lk)("b",null,[(0,s.Lk)("label",{for:"startTime"},"Working Hours")],-1))),Wo=To((()=>(0,s.Lk)("br",null,null,-1))),Qo=To((()=>(0,s.Lk)("br",null,null,-1)));function Oo(t,e,a,o,l,i){return(0,s.uX)(),(0,s.CE)("div",So,[(0,s.Lk)("div",Bo,[(0,s.Lk)("form",wo,[(0,s.Lk)("button",{onClick:e[0]||(e[0]=e=>t.redirect("TugBoatList"))},"X"),Eo,(0,s.Lk)("div",_o,[(0,s.Lk)("div",Xo,[Do,(0,s.bo)((0,s.Lk)("input",{type:"text",id:"tugboatId","onUpdate:modelValue":e[1]||(e[1]=e=>t.tugboatId=e),placeholder:"Input New Tug Boat ID",required:""},null,512),[[n.Jo,t.tugboatId]])]),(0,s.Lk)("div",Ao,[Fo,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":e[2]||(e[2]=e=>t.captainId=e)},[$o,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t.$store.state.captains,(t=>((0,s.uX)(),(0,s.CE)("option",{key:t.CaptainId},(0,Mt.v_)(t.CaptainId)+" : "+(0,Mt.v_)(t.name),1)))),128))],512),[[n.u1,t.captainId]]),xo]),(0,s.Lk)("div",Uo,[No,(0,s.bo)((0,s.Lk)("input",{type:"time",id:"startTime","onUpdate:modelValue":e[3]||(e[3]=e=>t.startTime=e),required:""},null,512),[[n.Jo,t.startTime]]),(0,s.eW)("  to"),(0,s.bo)((0,s.Lk)("input",{type:"time",id:"endTime","onUpdate:modelValue":e[4]||(e[4]=e=>t.endTime=e),required:""},null,512),[[n.Jo,t.endTime]])])]),Wo,(0,s.Lk)("button",{class:"blue-button",id:"confirm",onClick:e[5]||(e[5]=t=>i.add())},"Add"),Qo])])])}var Vo={name:"NewTugBoat",mounted(){this.$store.dispatch("fetchCaptains")},methods:{async add(){try{const t=await c.A.post("/api/update-tugboat/",{tugboatId:this.tugboatId,captainId:this.captainId,startTime:this.startTime,endTime:this.endTime});t.data.success?(alert(t.data.message+"\nNew Tug Boat Added Successfully"),this.$router.back()):alert("Fail to add tug boat.")}catch(t){console.error("Error:",t),alert("New tug boat Error.")}}}};const Po=(0,i.A)(Vo,[["render",Oo],["__scopeId","data-v-b739ff7e"]]);var jo=Po;const Ro=t=>((0,s.Qi)("data-v-09bd663a"),t=t(),(0,s.jt)(),t),Ko={id:"CaptainDashboard"},Mo={class:"pages"},Ho={class:"header-style"},Jo={class:"header-style"},qo=Ro((()=>(0,s.Lk)("h2",null,"Today Work",-1))),Yo={id:"download"};function zo(t,e,a,n,o,l){const i=(0,s.g2)("SideBar"),r=(0,s.g2)("font-awesome-icon"),d=(0,s.g2)("MessageButton"),u=(0,s.g2)("WorkTable");return(0,s.uX)(),(0,s.CE)("div",Ko,[(0,s.bF)(i),(0,s.Lk)("div",Mo,[(0,s.Lk)("div",Ho,[(0,s.Lk)("div",Jo,[qo,(0,s.Lk)("button",Yo,[(0,s.bF)(r,{icon:["fas","download"]})])]),(0,s.bF)(d)])]),(0,s.bF)(u)])}const Go=t=>((0,s.Qi)("data-v-2662cc4d"),t=t(),(0,s.jt)(),t),Zo={id:"work-table",class:"pages"},tl={key:0,class:"waiting"},el={key:1},al=Go((()=>(0,s.Lk)("thead",null,[(0,s.Lk)("tr",null,[(0,s.Lk)("th",null,"No."),(0,s.Lk)("th",null,"Container Boat"),(0,s.Lk)("th",null,"Berth"),(0,s.Lk)("th",null,"Time"),(0,s.Lk)("th",null,"Captain"),(0,s.Lk)("th",null,"Work Status"),(0,s.Lk)("th",null,"Work Type")])],-1))),nl={class:"number"},sl=["id"],ol={class:"container-boat"},ll={class:"berth"},il={class:"time"},rl={class:"captain"},dl={key:0},ul=["onChange","id"],cl=Go((()=>(0,s.Lk)("option",null,"Confirmed",-1))),pl=Go((()=>(0,s.Lk)("option",null,"Completed",-1))),hl=[cl,pl],kl=["onClick"],ml={class:"work-type"},bl={class:"number"},gl=["id"],Ll={class:"container-boat"},Il={class:"berth"},fl={class:"time"},Cl={class:"captain"},yl=["onClick"],vl={class:"work-type"};function Tl(t,e,a,o,l,i){return(0,s.uX)(),(0,s.CE)("div",Zo,[i.waiting()?((0,s.uX)(),(0,s.CE)("div",tl,"Waiting ... ")):(0,s.Q3)("",!0),i.waiting()?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("table",el,[al,(0,s.Lk)("tbody",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.entryList("Incompleted"),((a,o)=>((0,s.uX)(),(0,s.CE)("tr",{key:o},[(0,s.Lk)("td",nl,[(0,s.Lk)("span",{id:"entryId"+a.ScheduleEntryId},(0,Mt.v_)(o+1),9,sl)]),(0,s.Lk)("td",ol,(0,Mt.v_)(a.TaskId.ContainerBoatID.ContainerBoatID),1),(0,s.Lk)("td",ll,(0,Mt.v_)(a.TaskId.BerthId),1),(0,s.Lk)("td",il,(0,Mt.v_)(t.formatDate(a.TaskId.startTime))+"    "+(0,Mt.v_)(t.formatTime(a.TaskId.startTime)),1),(0,s.Lk)("td",rl,(0,Mt.v_)(a.listOfTugBoats.map((t=>t.CaptainId?t.CaptainId.CaptainId:"waiting ")).join(",")),1),(0,s.Lk)("td",{onClick:e[1]||(e[1]=(0,n.D$)((()=>{}),["stop"]))},[l.showStateForm===a.ScheduleEntryId?((0,s.uX)(),(0,s.CE)("form",dl,[(0,s.bo)((0,s.Lk)("select",{onChange:t=>i.edit(a.ScheduleEntryId),"onUpdate:modelValue":e[0]||(e[0]=e=>t.state=e),id:"state"+a.ScheduleEntryId},hl,40,ul),[[n.u1,t.state]])])):(0,s.Q3)("",!0),l.stateInfo!=a.ScheduleEntryId?((0,s.uX)(),(0,s.CE)("span",{key:1,class:"status-container",onClick:t=>i.selected(a.ScheduleEntryId,"state"),style:(0,Mt.Tr)(t.getStatusStyle(a.Status,"Incomplete"))},(0,Mt.v_)(a.Status),13,kl)):(0,s.Q3)("",!0)]),(0,s.Lk)("td",ml,[(0,s.Lk)("span",{class:"type-container",style:(0,Mt.Tr)(t.getActionStyle(a.TaskId.Action,"Incomplete"))},(0,Mt.v_)(a.TaskId.Action),5)])])))),128)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.entryList("Completed"),((e,a)=>((0,s.uX)(),(0,s.CE)("tr",{class:"disabled-row",key:a},[(0,s.Lk)("td",bl,[(0,s.Lk)("span",{id:"taskId"+e.ScheduleEntryId},(0,Mt.v_)(a+1),9,gl)]),(0,s.Lk)("td",Ll,(0,Mt.v_)(e.TaskId.ContainerBoatID.ContainerBoatID),1),(0,s.Lk)("td",Il,(0,Mt.v_)(e.TaskId.BerthId),1),(0,s.Lk)("td",fl,(0,Mt.v_)(t.formatDate(e.TaskId.startTime))+"    "+(0,Mt.v_)(t.formatTime(e.TaskId.startTime)),1),(0,s.Lk)("td",Cl,(0,Mt.v_)(e.listOfTugBoats.map((t=>t.CaptainId?t.CaptainId.CaptainId:"waiting ")).join(",")),1),(0,s.Lk)("td",null,[(0,s.Lk)("span",{class:"status-container",onClick:t=>i.selected(e.ScheduleEntryId,"state"),style:(0,Mt.Tr)(t.getStatusStyle(e.Status,"Completed"))},(0,Mt.v_)(e.Status),13,yl)]),(0,s.Lk)("td",vl,[(0,s.Lk)("span",{class:"type-container",style:(0,Mt.Tr)(t.getActionStyle(e.TaskId.Action,"Completed"))},(0,Mt.v_)(e.TaskId.Action),5)])])))),128))])]))])}var Sl={name:"WorkTable",mounted(){this.$store.dispatch("fetchScheduleEntries"),this.$store.dispatch("fetchCaptains")},data(){return{showStateForm:null,stateInfo:null,showContainerBoatIdForm:null,containerBoatIdInfo:null,entries:[],captains:[]}},computed:{...(0,u.aH)(["username","isCaptain","isAdmin","isScheduler"]),captain(){return this.username}},methods:{waiting(){return 0===this.entryList("Incompleted").length&&0===this.entryList("Completed").length},entryList(t){this.entries=this.$store.state.scheduleEntries;const e="Completed"===t;return this.entries.filter((t=>{const a=t.listOfTugBoats.map((t=>t.CaptainId?t.CaptainId.CaptainId:"waiting ")).includes(this.captain),n="Completed"===t.Status;return a&&(e?n:!n)}))},resetNull(){this.showStateForm=null,this.stateInfo=null,this.showContainerBoatIdForm=null,this.containerBoatIdInfo=null},selected(t,e){this.resetNull(),"state"===e?(this.showStateForm=t,this.stateInfo=t):"containerBoatId"===e&&(this.showContainerBoatIdForm=t,this.containerBoatIdInfo=t)},toggle(t){t.target.closest("form")||this.resetNull()},async edit(t){const e=this.state,a=(new Date).toISOString();try{const n=await c.A.post("/api/update-schedule-entry",{entryId:t,newState:e,timeStamp:a});console.log(n.data),alert("Update Successfully")}catch(n){console.error(n),alert("Update Failed")}}}};const Bl=(0,i.A)(Sl,[["render",Tl],["__scopeId","data-v-2662cc4d"]]);var wl=Bl;const El={class:"message-container"};function _l(t,e,a,n,o,l){const i=(0,s.g2)("font-awesome-icon");return(0,s.uX)(),(0,s.CE)("span",El,[(0,s.Lk)("button",{id:"message",onClick:e[0]||(e[0]=t=>l.message())},[(0,s.bF)(i,{icon:["fas","bell"]})])])}var Xl={name:"MessageButton",methods:{message(){this.$router.push({name:"Message"})}}};const Dl=(0,i.A)(Xl,[["render",_l],["__scopeId","data-v-a756a448"]]);var Al=Dl,Fl={name:"WorkSchedule",components:{SideBar:ae,WorkTable:wl,MessageButton:Al}};const $l=(0,i.A)(Fl,[["render",zo],["__scopeId","data-v-09bd663a"]]);var xl=$l;const Ul=t=>((0,s.Qi)("data-v-c24c7344"),t=t(),(0,s.jt)(),t),Nl={id:"WorkSchedule"},Wl={class:"pages"},Ql=Ul((()=>(0,s.Lk)("h2",null,"Work Schedules",-1))),Ol={class:"header-style"},Vl={class:"filter-group"},Pl={class:"filter"},jl=Ul((()=>(0,s.Lk)("label",{for:"containerBoatFilter"},"Container Boat: ",-1))),Rl=Ul((()=>(0,s.Lk)("option",{value:""},"All",-1))),Kl={class:"filter"},Ml=Ul((()=>(0,s.Lk)("label",{for:"tugBoatFilter"},"Tug Boat: ",-1))),Hl=Ul((()=>(0,s.Lk)("option",{value:""},"All",-1))),Jl={class:"filter"},ql=Ul((()=>(0,s.Lk)("label",{for:"berthFilter"},"Berth: ",-1))),Yl=Ul((()=>(0,s.Lk)("option",{value:""},"All",-1))),zl={class:"filter"},Gl=Ul((()=>(0,s.Lk)("label",{for:"stateFilter"},"Status: ",-1))),Zl=Ul((()=>(0,s.Lk)("option",{value:""},"All",-1))),ti=Ul((()=>(0,s.Lk)("option",null,"Scheduled",-1))),ei=Ul((()=>(0,s.Lk)("option",null,"Confirmed",-1))),ai=Ul((()=>(0,s.Lk)("option",null,"Completed",-1))),ni=[Zl,ti,ei,ai],si={key:0,class:"waiting"},oi={key:1,class:"display-data"},li={class:"work-table"},ii=Ul((()=>(0,s.Lk)("thead",null,[(0,s.Lk)("tr",null,[(0,s.Lk)("th",null,"No."),(0,s.Lk)("th",null,"Container Boat"),(0,s.Lk)("th",null,"Berth"),(0,s.Lk)("th",null,"Time"),(0,s.Lk)("th",null,"Tug Boat"),(0,s.Lk)("th",null,"Captain"),(0,s.Lk)("th",null,"Work Status")])],-1))),ri={class:"number"},di={class:"container-boat"},ui={class:"berth"},ci={class:"time"},pi={class:"tugboat"},hi={class:"captain"},ki={class:"work-status"},mi={class:"number"},bi={class:"container-boat"},gi={class:"berth"},Li={class:"time"},Ii={class:"tugboat"},fi={class:"captain"},Ci={class:"work-status"},yi={class:"status-container"};function vi(t,e,a,o,l,i){const r=(0,s.g2)("SideBar");return(0,s.uX)(),(0,s.CE)("div",Nl,[(0,s.bF)(r),(0,s.Lk)("div",Wl,[Ql,(0,s.Lk)("div",Ol,[(0,s.Lk)("div",Vl,[(0,s.Lk)("span",Pl,[jl,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.containerBoatInput=t)},[Rl,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t.$store.state.containerBoats,(t=>((0,s.uX)(),(0,s.CE)("option",{key:t.ContainerBoatID},(0,Mt.v_)(t.ContainerBoatID),1)))),128))],512),[[n.u1,l.containerBoatInput]])]),(0,s.Lk)("span",Kl,[Ml,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":e[1]||(e[1]=t=>l.tugBoatInput=t)},[Hl,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t.$store.state.tugboats,(t=>((0,s.uX)(),(0,s.CE)("option",{key:t.TugBoatId},(0,Mt.v_)(t.TugBoatId),1)))),128))],512),[[n.u1,l.tugBoatInput]])]),(0,s.Lk)("span",Jl,[ql,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>l.berthInput=t)},[Yl,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t.$store.state.berths,(t=>((0,s.uX)(),(0,s.CE)("option",{key:t.BerthId},(0,Mt.v_)(t.BerthId),1)))),128))],512),[[n.u1,l.berthInput]])]),(0,s.Lk)("span",zl,[Gl,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":e[3]||(e[3]=t=>l.stateInput=t)},ni,512),[[n.u1,l.stateInput]])])])]),i.waiting()?((0,s.uX)(),(0,s.CE)("div",si,"Waiting ... ")):(0,s.Q3)("",!0),i.waiting()?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",oi,[(0,s.Lk)("div",li,[(0,s.Lk)("table",null,[ii,(0,s.Lk)("tbody",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.entryList("Incomplete"),((e,a)=>((0,s.uX)(),(0,s.CE)("tr",{key:a},[(0,s.Lk)("td",ri,(0,Mt.v_)(a+1),1),(0,s.Lk)("td",di,(0,Mt.v_)(e.TaskId.ContainerBoatID.ContainerBoatID),1),(0,s.Lk)("td",ui,(0,Mt.v_)(e.TaskId.BerthId),1),(0,s.Lk)("td",ci,(0,Mt.v_)(e.listOfTugBoats.map((t=>t.EndWorkingTime)).join("/ ")),1),(0,s.Lk)("td",pi,(0,Mt.v_)(e.listOfTugBoats.map((t=>t.TugBoatId)).join("/ ")),1),(0,s.Lk)("td",hi,(0,Mt.v_)(e.listOfTugBoats.map((t=>t.CaptainId?t.CaptainId.CaptainId:"waiting ")).join("/ ")),1),(0,s.Lk)("td",ki,[(0,s.Lk)("span",{class:"status-container",style:(0,Mt.Tr)(t.getStatusStyle(e.Status))},(0,Mt.v_)(e.Status),5)])])))),128)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.entryList("Completed"),((t,e)=>((0,s.uX)(),(0,s.CE)("tr",{class:"disabled-row",key:e},[(0,s.Lk)("td",mi,(0,Mt.v_)(e+1),1),(0,s.Lk)("td",bi,(0,Mt.v_)(t.TaskId.ContainerBoatID.ContainerBoatID),1),(0,s.Lk)("td",gi,(0,Mt.v_)(t.TaskId.BerthId),1),(0,s.Lk)("td",Li,(0,Mt.v_)(t.listOfTugBoats.map((t=>t.EndWorkingTime)).join("/")),1),(0,s.Lk)("td",Ii,(0,Mt.v_)(t.listOfTugBoats.map((t=>t.TugBoatId)).join("/")),1),(0,s.Lk)("td",fi,(0,Mt.v_)(t.listOfTugBoats.map((t=>t.CaptainId?t.CaptainId.CaptainId:"waiting ")).join("/")),1),(0,s.Lk)("td",Ci,[(0,s.Lk)("span",yi,(0,Mt.v_)(t.Status),1)])])))),128))])])])]))])])}var Ti={name:"WorkSchedule",components:{SideBar:ae},mounted(){this.$store.dispatch("fetchScheduleEntries"),this.$store.dispatch("fetchTasks"),this.$store.dispatch("fetchContainerBoats"),this.$store.dispatch("fetchBerths"),this.$store.dispatch("fetchTugBoats")},data(){return{entries:[],containerBoatInput:"",tugBoatInput:"",berthInput:"",stateInput:""}},methods:{waiting(){return 0===this.$store.state.scheduleEntries.length},checkAll(t){return"All"===t?"":t},entryList(t){this.entries=this.$store.state.scheduleEntries,this.containerBoatInput=this.checkAll(this.containerBoatInput),this.tugBoatInput=this.checkAll(this.tugBoatInput),this.berthInput=this.checkAll(this.berthInput),this.stateInput=this.checkAll(this.stateInput);const e="Completed"===t,a=this.entries.filter((t=>{const a=!this.containerBoatInput||t.TaskId.ContainerBoatID.ContainerBoatID.toString()===this.containerBoatInput,n=!this.tugBoatInput||t.listOfTugBoats.map((t=>t.TugBoatId)).includes(this.tugBoatInput),s=!this.berthInput||t.TaskId.BerthId.toString()===this.berthInput,o=!this.stateInput||t.State===this.stateInput,l="Completed"===t.Status;return a&&n&&s&&o&&(e?l:!l)}));return a}}};const Si=(0,i.A)(Ti,[["render",vi],["__scopeId","data-v-c24c7344"]]);var Bi=Si;const wi=[{path:"/",name:"Login",component:$t},{path:"/admin",name:"AdminDashboard",component:He,meta:{requiresAdmin:!0},children:[{path:"add-new-staff",name:"NewStaff",component:ga}]},{path:"/captain",name:"CaptainDashboard",component:xl,meta:{requiresRoles:["captain"]},meta:{requiresCap:!0},children:[{path:"message",name:"CaptainMessage",component:it}]},{path:"/scheduler",name:"SchedulerDashboard",component:Ss,meta:{requiresSch:!0},children:[{path:"message",name:"SchedulerMessage",component:it},{path:"message-details",name:"MessageDetails",component:gt},{path:"auto-reschedule",name:"AutoReschedule",component:J}]},{path:"/tugboat-list",name:"TugBoatList",component:vo,meta:{requiresSch:!0},children:[{path:"add-new-tugboat",name:"NewTugBoat",component:jo}]},{path:"/work-schedules",name:"WorkSchedule",component:Bi},{path:"/settings",name:"Settings",component:oe},{path:"/settings/change-password",name:"ChangePassword",component:ye,children:[{path:"notice",name:"Exit-ChangePassword",component:S}]},{path:"/add-new-task",name:"NewTask",component:Rs,meta:{requiresSch:!0},children:[{path:"notice",name:"Exit-NewTask",component:S},{path:"notice",name:"Save-NewTask",component:N}]}],Ei=(0,k.aE)({history:(0,k.Bt)("/"),routes:wi});Ei.beforeEach(((t,e,a)=>{const n="true"===localStorage.getItem("isLoggedIn"),s=localStorage.getItem("username"),o=JSON.parse(localStorage.getItem("roles"));n&&h.state.username!==s&&(h.commit("setUser",{username:s}),h.commit("setUserRole",o)),n||"Login"===t.name?a():a({name:"Login"})}));var _i=Ei;function Xi(t){this.$router.push({name:t})}function Di(t){const e=new Date(t),a=e.getHours().toString().padStart(2,"0"),n=e.getMinutes().toString().padStart(2,"0");return`${a}:${n}`}function Ai(t){const e=new Date(t),a=e.getDate().toString().padStart(2,"0"),n=(e.getMonth()+1).toString().padStart(2,"0");return`${a}/${n}`}function Fi(t,e){let a;switch(t){case"Confirmed":a="green";break;case"Free":a="green";break;case"Scheduled":a="rgb(254, 219, 46)";break;case"Busy":a="red";break;case"Completed":a="darkgrey";break;case"Maintenance":a="darkgrey";break;default:a="lightgrey"}switch(e){case"Completed":a="rgb(213, 212, 212)";break;default:}return{background:a}}function $i(t,e){let a;switch(t){case"INBOUND":a="#72bedf";break;default:a="#020071"}switch(e){case"Completed":a="rgb(213, 212, 212)";break;default:}return{background:a}}function xi(){this.resetNull()}function Ui(t){const e=this.tugboats.find((e=>e.TugBoatId===t));return e&&e.CaptainId?e.CaptainId.CaptainId:"-"}function Ni(t){const e=this.tugboats.find((e=>e.TugBoatId===t));return e&&e.CaptainId?e.CaptainId.name:"-"}var Wi=a(7107),Qi=a(6188),Oi=a(1273);Wi.Yv.add(Qi.X7I);const Vi=(0,n.Ef)(d);Vi.use(_i),Vi.use(h),Vi.mount("#app"),Vi.component("font-awesome-icon",Oi.gc),Vi.config.globalProperties.redirect=Xi,Vi.config.globalProperties.formatTime=Di,Vi.config.globalProperties.formatDate=Ai,Vi.config.globalProperties.getActionStyle=$i,Vi.config.globalProperties.getStatusStyle=Fi,Vi.config.globalProperties.toggle=xi,Vi.config.globalProperties.getCaptainId=Ui,Vi.config.globalProperties.getCaptainName=Ni;Oi.gc}},e={};function a(n){var s=e[n];if(void 0!==s)return s.exports;var o=e[n]={exports:{}};return t[n].call(o.exports,o,o.exports,a),o.exports}a.m=t,function(){var t=[];a.O=function(e,n,s,o){if(!n){var l=1/0;for(u=0;u<t.length;u++){n=t[u][0],s=t[u][1],o=t[u][2];for(var i=!0,r=0;r<n.length;r++)(!1&o||l>=o)&&Object.keys(a.O).every((function(t){return a.O[t](n[r])}))?n.splice(r--,1):(i=!1,o<l&&(l=o));if(i){t.splice(u--,1);var d=s();void 0!==d&&(e=d)}}return e}o=o||0;for(var u=t.length;u>0&&t[u-1][2]>o;u--)t[u]=t[u-1];t[u]=[n,s,o]}}(),function(){a.d=function(t,e){for(var n in e)a.o(e,n)&&!a.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){a.p="/"}(),function(){var t={524:0};a.O.j=function(e){return 0===t[e]};var e=function(e,n){var s,o,l=n[0],i=n[1],r=n[2],d=0;if(l.some((function(e){return 0!==t[e]}))){for(s in i)a.o(i,s)&&(a.m[s]=i[s]);if(r)var u=r(a)}for(e&&e(n);d<l.length;d++)o=l[d],a.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return a.O(u)},n=self["webpackChunkmodal_project"]=self["webpackChunkmodal_project"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=a.O(void 0,[504],(function(){return a(7594)}));n=a.O(n)})();
//# sourceMappingURL=app.367da9de.js.map