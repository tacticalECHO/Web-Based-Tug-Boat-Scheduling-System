(function(){"use strict";var t={8953:function(t,e,a){var n=a(3751),s=a(641);function o(t,e,a,n,o,l){const i=(0,s.g2)("router-view");return(0,s.uX)(),(0,s.Wv)(i)}var l={name:"App"},i=a(6262);const r=(0,i.A)(l,[["render",o]]);var d=r,u=a(6278),c=a(1250);const p=(0,u.y$)({state(){return{username:"",passwordPlaceholder:"******",isCaptain:!1,isAdmin:!1,isScheduler:!1,captains:[],tasks:[],schedulers:[],berths:[],containerBoats:[],scheduleEntries:[],tugboats:[],exitPath:"Settings",id:1}},mutations:{setUser(t,{username:e}){t.username=e},setUserRole(t,{isCaptain:e,isAdmin:a,isScheduler:n}){t.isCaptain=e,t.isAdmin=a,t.isScheduler=n},setCaptains(t,e){t.captains=e},setTasks(t,e){t.tasks=e},setSchedulers(t,e){t.schedulers=e},setBerths(t,e){t.berths=e},setContainerBoats(t,e){t.containerBoats=e},setScheduleEntries(t,e){t.scheduleEntries=e},setTugBoats(t,e){t.tugboats=e},setExitPath(t,e){t.exitPath=e},resetNull(t){resetNull(t)},setTugBoatInfo(t,e){t.tugBoatInfo=e},setTimeInfo(t,e){t.timeInfo=e},setContainerBoatInfo(t,e){t.containerBoatInfo=e},setBerthInfo(t,e){t.berthInfo=e},setActionInfo(t,e){t.actionInfo=e},setStateInfo(t,e){t.stateInfo=e}},actions:{fetchCaptains({commit:t}){c.A.get("/api/display_captain/").then((e=>{t("setCaptains",e.data)})).catch((t=>console.error(t)))},fetchTasks({commit:t}){c.A.get("/api/display_task/").then((e=>{t("setTasks",e.data)})).catch((t=>console.error(t)))},fetchSchedulers({commit:t}){c.A.get("/api/display_scheduler/").then((e=>{t("setSchedulers",e.data)})).catch((t=>console.error(t)))},fetchBerths({commit:t}){c.A.get("/api/display_berth/").then((e=>{t("setBerths",e.data)})).catch((t=>console.error(t)))},fetchContainerBoats({commit:t}){c.A.get("/api/display_container_boat/").then((e=>{t("setContainerBoats",e.data)})).catch((t=>console.error(t)))},fetchScheduleEntries({commit:t}){c.A.get("/api/display_schedule_entry/").then((e=>{t("setScheduleEntries",e.data)})).catch((t=>console.error(t)))},fetchTugBoats({commit:t}){c.A.get("/api/display_tugboat/").then((e=>{t("setTugBoats",e.data)})).catch((t=>console.error(t)))}}});var h=p,k=a(5220);const b={class:"backdrop"},m={class:"container-position"},g={class:"popup-container"},L=(0,s.Lk)("b",null,"Notice",-1),I=(0,s.Lk)("span",{id:"notice-info"},"The change will not be saved if u exit now.",-1),f=(0,s.Lk)("br",null,null,-1),C={class:"notice-buttons"};function y(t,e,a,n,o,l){return(0,s.uX)(),(0,s.CE)("div",b,[(0,s.Lk)("div",m,[(0,s.Lk)("div",g,[L,I,f,(0,s.Lk)("span",C,[(0,s.Lk)("button",{class:"btn btn-outline-dark",id:"exit",onClick:e[0]||(e[0]=t=>l.exit())},"Exit"),(0,s.eW)("   "),(0,s.Lk)("button",{class:"btn btn-dark",id:"save",onClick:e[1]||(e[1]=t=>l.cancel())},"Cancel")])])])])}a(4114);var v={name:"ExitNotice",methods:{exit(){this.$router.push({name:this.$store.state.exitPath})},cancel(){this.$router.back()}}};const T=(0,i.A)(v,[["render",y]]);var B=T;const S=t=>((0,s.Qi)("data-v-1a53cabe"),t=t(),(0,s.jt)(),t),w={class:"backdrop"},E={class:"container-position"},_={class:"popup-container"},X=S((()=>(0,s.Lk)("b",null,"Notice",-1))),A=S((()=>(0,s.Lk)("span",null,"Do you need to auto change this task's schedule?",-1))),D=S((()=>(0,s.Lk)("br",null,null,-1))),F={class:"notice-buttons"};function $(t,e,a,n,o,l){return(0,s.uX)(),(0,s.CE)("div",w,[(0,s.Lk)("div",E,[(0,s.Lk)("div",_,[X,A,D,(0,s.Lk)("span",F,[(0,s.Lk)("button",{class:"blue-border-button",id:"no",onClick:e[0]||(e[0]=t=>l.no())},"No"),(0,s.eW)("   "),(0,s.Lk)("button",{class:"blue-button",id:"manualReschedule",onClick:e[1]||(e[1]=t=>l.change())},"Change")])])])])}var U={name:"RescheduleNotice",props:[],methods:{no(){this.$router.push({name:"ManualReschedule"})},change(){this.$router.push({name:"AutoReschedule"})}}};const x=(0,i.A)(U,[["render",$],["__scopeId","data-v-1a53cabe"]]);var N=x;const W={class:"backdrop"},Q={class:"container-position"},O={class:"popup-container"},V=(0,s.Lk)("b",null,"Scheduling",-1),P=(0,s.Lk)("span",null,"It needs some times to schedule the task, please wait.",-1),j=(0,s.Lk)("br",null,null,-1),M={class:"notice-buttons"};function R(t,e,a,n,o,l){return(0,s.uX)(),(0,s.CE)("div",W,[(0,s.Lk)("div",Q,[(0,s.Lk)("div",O,[V,P,j,(0,s.Lk)("span",M,[(0,s.Lk)("button",{class:"btn btn-dark",id:"schedule",onClick:e[0]||(e[0]=t=>l.schedule())},"Schedule in backstage")])])])])}var K={name:"AutoReschedule",methods:{schedule(){this.$router.push({name:"SchedulerDashboard"})}}};const J=(0,i.A)(K,[["render",R]]);var H=J;const q=t=>((0,s.Qi)("data-v-a381cf92"),t=t(),(0,s.jt)(),t),Y={class:"backdrop"},z={class:"container-position"},G={class:"popup-container"},Z=q((()=>(0,s.Lk)("br",null,null,-1))),tt=q((()=>(0,s.Lk)("tr",null,[(0,s.Lk)("td",null,[(0,s.Lk)("button",null,"Yibai Yuan did not confirm")])],-1))),et=q((()=>(0,s.Lk)("tr",null,[(0,s.Lk)("td",null,[(0,s.Lk)("button",null,"Yibai Yuan did not confirm")])],-1))),at=q((()=>(0,s.Lk)("tr",null,[(0,s.Lk)("td",null,[(0,s.Lk)("button",null,"Yibai Yuan did not confirm")])],-1))),nt=q((()=>(0,s.Lk)("br",null,null,-1)));function st(t,e,a,n,o,l){return(0,s.uX)(),(0,s.CE)("div",Y,[(0,s.Lk)("div",z,[(0,s.Lk)("div",G,[(0,s.Lk)("button",{onClick:e[0]||(e[0]=(...t)=>l.close&&l.close(...t))},"X"),Z,(0,s.Lk)("table",null,[(0,s.Lk)("tr",null,[(0,s.Lk)("td",null,[(0,s.Lk)("button",{onClick:e[1]||(e[1]=t=>l.details())},"Yibai Yuan did not confirm")])]),tt,et,at]),nt])])])}var ot={name:"Message",props:[],methods:{close(){this.$store.state.isCaptain?this.$router.push({name:"CaptainDashboard"}):this.$store.state.isAdmin?this.$router.push({name:"AdminDashboard"}):this.$store.state.isScheduler?this.$router.push({name:"SchedulerDashboard"}):this.$router.push({name:"Settings"})},details(){this.$router.push({name:"MessageDetails"})}}};const lt=(0,i.A)(ot,[["render",st],["__scopeId","data-v-a381cf92"]]);var it=lt;const rt=t=>((0,s.Qi)("data-v-69caf44a"),t=t(),(0,s.jt)(),t),dt={class:"backdrop"},ut={class:"container-position"},ct={class:"popup-container"},pt=(0,s.Fv)("<br data-v-69caf44a><table data-v-69caf44a><tr data-v-69caf44a><th data-v-69caf44a>Captain</th><td data-v-69caf44a>Yibai Yuan</td></tr><tr data-v-69caf44a><th data-v-69caf44a>Container Boat</th><td data-v-69caf44a>JHSANG9865</td></tr><tr data-v-69caf44a><th data-v-69caf44a>Country</th><td data-v-69caf44a>Singapore</td></tr><tr data-v-69caf44a><th data-v-69caf44a>Tonnage</th><td data-v-69caf44a>109978</td></tr><tr data-v-69caf44a><th data-v-69caf44a>Berth</th><td data-v-69caf44a>NB02</td></tr><tr data-v-69caf44a><th data-v-69caf44a>Time</th><td data-v-69caf44a>08:30</td></tr><tr data-v-69caf44a><th data-v-69caf44a>Tug Boat</th><td data-v-69caf44a>ADB0078</td></tr><tr data-v-69caf44a><th data-v-69caf44a>Work Status</th><td data-v-69caf44a>Incompleted</td></tr><tr data-v-69caf44a><th data-v-69caf44a>Work Type</th><td data-v-69caf44a>In</td></tr></table>",2),ht=rt((()=>(0,s.Lk)("br",null,null,-1)));function kt(t,e,a,n,o,l){return(0,s.uX)(),(0,s.CE)("div",dt,[(0,s.Lk)("div",ut,[(0,s.Lk)("div",ct,[(0,s.Lk)("button",{onClick:e[0]||(e[0]=(...t)=>l.close&&l.close(...t))},"X"),pt,(0,s.Lk)("button",{class:"blue-button",id:"manualReschedule",onClick:e[1]||(e[1]=t=>l.edit())},"Edit Schedule"),ht])])])}var bt={name:"MessageDetails",props:[],methods:{close(){this.$router.back()},edit(){this.$router.push({name:"ManualReschedule"})}}};const mt=(0,i.A)(bt,[["render",kt],["__scopeId","data-v-69caf44a"]]);var gt=mt,Lt=a.p+"static/img/login.059324f1.png";const It=t=>((0,s.Qi)("data-v-68416b7d"),t=t(),(0,s.jt)(),t),ft={id:"Login"},Ct=It((()=>(0,s.Lk)("div",{class:"sidebar"},[(0,s.Lk)("img",{src:Lt,alt:"Sidebar Image"}),(0,s.Lk)("div",{class:"image-text"},[(0,s.Lk)("div",{class:"text-wrapper"},[(0,s.Lk)("p",null,"Ningbo Harbour"),(0,s.Lk)("p",null,"Tug Boat Scheduling System")])])],-1))),yt={class:"login-container"},vt=It((()=>(0,s.Lk)("h1",null,"Ningbo Harbour",-1))),Tt={key:0,class:"invalid-login"},Bt=It((()=>(0,s.Lk)("p",null,"Invalid username or password, please log in again",-1))),St=[Bt],wt={class:"form-group"},Et=It((()=>(0,s.Lk)("label",{for:"username"},"Username",-1))),_t={class:"form-group"},Xt=It((()=>(0,s.Lk)("label",{for:"password"},"Password",-1)));function At(t,e,a,o,l,i){return(0,s.uX)(),(0,s.CE)("div",ft,[Ct,(0,s.Lk)("div",yt,[vt,l.showError?((0,s.uX)(),(0,s.CE)("div",Tt,St)):(0,s.Q3)("",!0),(0,s.Lk)("div",wt,[Et,(0,s.bo)((0,s.Lk)("input",{type:"text",id:"username","onUpdate:modelValue":e[0]||(e[0]=t=>l.username=t),placeholder:"Input your ID"},null,512),[[n.Jo,l.username]])]),(0,s.Lk)("div",_t,[Xt,(0,s.bo)((0,s.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":e[1]||(e[1]=t=>l.password=t),placeholder:"Input your password"},null,512),[[n.Jo,l.password]])]),(0,s.Lk)("button",{class:"blue-button",onClick:e[2]||(e[2]=t=>i.login())},"Login")])])}var Dt={name:"Login",data(){return{username:"",password:"",showError:!1}},methods:{async login(){try{const t=await c.A.post("http://localhost:8080/api/login/",{username:this.username,password:this.password});t.data.success?(this.showError=!1,this.$store.commit("setUser",{username:this.username}),this.$store.commit("setUserRole",{isCaptain:t.data.is_captain,isAdmin:t.data.is_staff,isScheduler:t.data.is_scheduler}),localStorage.setItem("isLoggedIn","true"),localStorage.setItem("username",this.username),localStorage.setItem("roles",JSON.stringify({isCaptain:t.data.is_captain,isAdmin:t.data.is_staff,isScheduler:t.data.is_scheduler})),this.$router.push({name:"Settings"})):this.showError=!0}catch(t){console.error("Login error:",t),this.showError=!0,document.getElementById("username").style.border="1px solid red",document.getElementById("password").style.border="1px solid red"}}}};const Ft=(0,i.A)(Dt,[["render",At],["__scopeId","data-v-68416b7d"]]);var $t=Ft;const Ut=t=>((0,s.Qi)("data-v-d98743da"),t=t(),(0,s.jt)(),t),xt={id:"Settings"},Nt={class:"pages"},Wt=Ut((()=>(0,s.Lk)("h2",{class:"title"},"Settings",-1))),Qt=Ut((()=>(0,s.Lk)("br",null,null,-1))),Ot=Ut((()=>(0,s.Lk)("br",null,null,-1))),Vt=Ut((()=>(0,s.Lk)("br",null,null,-1))),Pt=Ut((()=>(0,s.Lk)("br",null,null,-1))),jt={class:"form"},Mt=Ut((()=>(0,s.Lk)("b",null,[(0,s.Lk)("label",{for:"username"},"Username ")],-1))),Rt=["placeholder"],Kt={class:"form"},Jt=Ut((()=>(0,s.Lk)("b",null,[(0,s.Lk)("label",{for:"password"},"Password ")],-1))),Ht=["placeholder"];function qt(t,e,a,o,l,i){const r=(0,s.g2)("SideBar"),d=(0,s.g2)("router-view");return(0,s.uX)(),(0,s.CE)("div",xt,[(0,s.bF)(r),(0,s.Lk)("div",Nt,[(0,s.bF)(d),Wt,Qt,Ot,Vt,Pt,(0,s.Lk)("div",jt,[Mt,(0,s.eW)("   "),(0,s.bo)((0,s.Lk)("input",{type:"text",id:"username","onUpdate:modelValue":e[0]||(e[0]=e=>t.username=e),placeholder:t.username,readonly:""},null,8,Rt),[[n.Jo,t.username]])]),(0,s.Lk)("div",Kt,[Jt,(0,s.eW)("   "),(0,s.bo)((0,s.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":e[1]||(e[1]=e=>t.password=e),placeholder:t.passwordPlaceholder,readonly:""},null,8,Ht),[[n.Jo,t.password]]),(0,s.Lk)("button",{class:"btn btn-dark",onClick:e[2]||(e[2]=t=>i.change_password())},"Change")]),(0,s.Lk)("button",{class:"btn btn-light",onClick:e[3]||(e[3]=e=>t.redirect("Login"))},"Logout")])])}var Yt=a(33),zt=a.p+"static/img/header.5b02e25e.jpg";const Gt=t=>((0,s.Qi)("data-v-3c40077e"),t=t(),(0,s.jt)(),t),Zt={id:"Sidebar"},te=Gt((()=>(0,s.Lk)("div",{class:"header"},[(0,s.Lk)("img",{src:zt,class:"header-image"})],-1))),ee={key:0,id:"sidebar"},ae=Gt((()=>(0,s.Lk)("h2",null,"Ningbo Harbour",-1))),ne={class:"sidebar-bottom-section"},se={class:"sidebar-item"},oe=Gt((()=>(0,s.Lk)("footer",{class:"footer fixed-bottom"},[(0,s.Lk)("div",{class:"text-center p-3"}," NINGBO HARBOUR ")],-1)));function le(t,e,a,n,o,l){const i=(0,s.g2)("font-awesome-icon"),r=(0,s.g2)("admin-panel");return(0,s.uX)(),(0,s.CE)("div",Zt,[te,l.screen()||o.sidebarOpened?((0,s.uX)(),(0,s.CE)("div",ee,[ae,(0,s.Lk)("ul",null,[t.isAdmin?((0,s.uX)(),(0,s.CE)("li",{key:0,onClick:e[0]||(e[0]=e=>t.redirect("AdminDashboard")),id:"admin-dashboard",class:"sidebar-item"},[(0,s.bF)(i,{icon:["fas","display"],class:"sidebar-icon"}),(0,s.eW)(" A-Dashboard ")])):(0,s.Q3)("",!0),t.isScheduler||t.isAdmin?((0,s.uX)(),(0,s.CE)("li",{key:1,onClick:e[1]||(e[1]=e=>t.redirect("SchedulerDashboard")),id:"scheduler-dashboard",class:"sidebar-item"},[(0,s.bF)(i,{icon:["fas","display"],class:"sidebar-icon"}),(0,s.eW)(" S-Dashboard ")])):(0,s.Q3)("",!0),t.isScheduler||t.isAdmin?((0,s.uX)(),(0,s.CE)("li",{key:2,onClick:e[2]||(e[2]=e=>t.redirect("TugBoatList")),id:"scheduler-dashboard",class:"sidebar-item"},[(0,s.bF)(i,{icon:["fas","display"],class:"sidebar-icon"}),(0,s.eW)(" Tug Boats ")])):(0,s.Q3)("",!0),t.isCaptain||t.isAdmin?((0,s.uX)(),(0,s.CE)("li",{key:3,onClick:e[3]||(e[3]=e=>t.redirect("CaptainDashboard")),id:"captain-dashboard",class:"sidebar-item"},[t.isCaptain?((0,s.uX)(),(0,s.Wv)(r,{key:0})):(0,s.Q3)("",!0),(0,s.bF)(i,{icon:["fas","display"],class:"sidebar-icon"}),(0,s.eW)(" C-Dashboard ")])):(0,s.Q3)("",!0),t.isScheduler||t.isAdmin||t.isCaptain?((0,s.uX)(),(0,s.CE)("li",{key:4,onClick:e[4]||(e[4]=e=>t.redirect("WorkSchedule")),class:"sidebar-item"},[(0,s.bF)(i,{icon:["fas","calendar-days"],class:"sidebar-icon"}),(0,s.eW)(" Work Schedules ")])):(0,s.Q3)("",!0)]),(0,s.Lk)("div",ne,[(0,s.Lk)("ul",null,[(0,s.Lk)("li",{onClick:e[5]||(e[5]=e=>t.redirect("Settings")),class:"sidebar-item"},[(0,s.bF)(i,{icon:["fas","gear"],class:"sidebar-icon"}),(0,s.eW)(" Settings ")]),(0,s.Lk)("li",se,[(0,s.bF)(i,{icon:["fas","user"],class:"sidebar-icon"}),(0,s.eW)(" "+(0,Yt.v_)(l.profile_name),1)])])])])):(0,s.Q3)("",!0),l.screen()?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("button",{key:1,class:"blue-border-button",onClick:e[6]||(e[6]=t=>l.openSidebar()),id:"open-sidebar"},[(0,s.bF)(i,{icon:["fas","forward"]})])),o.sidebarOpened&&l.closeButton()?((0,s.uX)(),(0,s.CE)("button",{key:2,class:"blue-border-button",onClick:e[7]||(e[7]=t=>l.closeSidebar()),id:"close-sidebar"},[(0,s.bF)(i,{icon:["fas","backward"]})])):(0,s.Q3)("",!0),oe])}var ie={name:"SideBar",computed:{...(0,u.aH)(["username","isCaptain","isAdmin","isScheduler"]),profile_name(){return this.username||"Guest"}},data(){return{screenWidth:window.innerWidth,screenHeight:window.innerHeight,screenResized:null,sidebarOpened:null}},created(){window.addEventListener("resize",this.handleResize)},destroyed(){window.removeEventListener("resize",this.handleResize)},methods:{screen(){return this.screenHeight>380&&this.screenWidth>820&&(this.sidebarOpened=!0,!0)},closeButton(){if(this.screenHeight<=380||this.screenWidth<=820)return!0},handleResize(){this.screenWidth=window.innerWidth,this.screenHeight=window.innerHeight,this.screenHeight<=380||this.screenWidth<=820?(this.screenResized=!0,this.sidebarOpened=!1):this.screenResized=!1},openSidebar(){this.sidebarOpened=!0},closeSidebar(){this.sidebarOpened=!1}}};const re=(0,i.A)(ie,[["render",le],["__scopeId","data-v-3c40077e"]]);var de=re,ue={name:"Settings",components:{SideBar:de},computed:{...(0,u.aH)(["username","passwordPlaceholder"])},methods:{change_password(){this.$router.push({name:"ChangePassword"})},logout(){this.$router.push({name:"Login"})}}};const ce=(0,i.A)(ue,[["render",qt],["__scopeId","data-v-d98743da"]]);var pe=ce;const he=t=>((0,s.Qi)("data-v-317517fe"),t=t(),(0,s.jt)(),t),ke={id:"Settings"},be={class:"pages"},me=he((()=>(0,s.Lk)("h3",{class:"title"},"Settings",-1))),ge=he((()=>(0,s.Lk)("br",null,null,-1))),Le=he((()=>(0,s.Lk)("br",null,null,-1))),Ie=he((()=>(0,s.Lk)("br",null,null,-1))),fe=he((()=>(0,s.Lk)("br",null,null,-1))),Ce={class:"form"},ye=he((()=>(0,s.Lk)("b",null,[(0,s.Lk)("label",{for:"username"},"Username ")],-1))),ve=["placeholder"],Te=he((()=>(0,s.Lk)("br",null,null,-1))),Be={class:"form"},Se=he((()=>(0,s.Lk)("b",null,[(0,s.Lk)("label",{for:"password"},"Password ")],-1))),we=he((()=>(0,s.Lk)("br",null,null,-1))),Ee=he((()=>(0,s.Lk)("div",{class:"form"},[(0,s.Lk)("b",null,[(0,s.Lk)("label",{for:"passwordReEntered"},"Re-Enter")]),(0,s.eW)("     "),(0,s.Lk)("input",{type:"password",id:"passwordReEntered",placeholder:"Re-enter new password"})],-1))),_e={class:"cancel-save-buttons"};function Xe(t,e,a,o,l,i){const r=(0,s.g2)("SideBar"),d=(0,s.g2)("router-view");return(0,s.uX)(),(0,s.CE)("div",ke,[(0,s.bF)(r),(0,s.Lk)("div",be,[(0,s.bF)(d),me,ge,Le,Ie,fe,(0,s.Lk)("div",Ce,[ye,(0,s.eW)("   "),(0,s.bo)((0,s.Lk)("input",{type:"text",id:"username","onUpdate:modelValue":e[0]||(e[0]=e=>t.username=e),placeholder:t.username,readonly:""},null,8,ve),[[n.Jo,t.username]])]),Te,(0,s.Lk)("div",Be,[Se,(0,s.eW)("   "),(0,s.bo)((0,s.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":e[1]||(e[1]=t=>l.password=t),placeholder:"Enter new password"},null,512),[[n.Jo,l.password]])]),we,Ee]),(0,s.Lk)("div",_e,[(0,s.Lk)("button",{class:"btn btn-outline-dark",id:"cancel",onClick:e[2]||(e[2]=e=>t.redirect("Exit-ChangePassword"))},"Cancel"),(0,s.Lk)("button",{class:"btn btn-dark",id:"save",onClick:e[3]||(e[3]=t=>i.save())},"Save")])])}var Ae={name:"ChangePassword",components:{SideBar:de},data(){return{password:"",reenter:""}},computed:{...(0,u.aH)(["username","passwordPlaceholder"])},mounted(){this.$store.commit("setExitPath","Settings")},methods:{cancel(){this.$router.push({name:"Exit-ChangePassword"})},async save(){if(this.password=document.getElementById("password").value,this.reenter=document.getElementById("passwordReEntered").value,this.password===this.reenter)try{const t=await c.A.post("/api/change-password/",{username:this.username,password:this.password});t.data.success?this.$router.push({name:"Login"}):alert("Password change failed.")}catch(t){console.error("Change password error:",t),alert("Password change error.")}else alert("Passwords are not similar."),document.getElementById("passwordReEntered").style.border="1px solid red"}}};const De=(0,i.A)(Ae,[["render",Xe],["__scopeId","data-v-317517fe"]]);var Fe=De;const $e=t=>((0,s.Qi)("data-v-7d386770"),t=t(),(0,s.jt)(),t),Ue={id:"AdminDashboard"},xe={class:"pages"},Ne=$e((()=>(0,s.Lk)("h2",{class:"title"},"Your Dashboard",-1))),We={class:"header-style"},Qe=$e((()=>(0,s.Lk)("span",null,null,-1))),Oe=$e((()=>(0,s.Lk)("span",null,"+",-1))),Ve={id:"captain-info"},Pe=$e((()=>(0,s.Lk)("caption",null,[(0,s.Lk)("b",null,"Captain")],-1))),je=$e((()=>(0,s.Lk)("thead",null,[(0,s.Lk)("tr",null,[(0,s.Lk)("th",null,[(0,s.Lk)("input",{type:"checkbox",disabled:""})]),(0,s.Lk)("th",null,"Captain Name"),(0,s.Lk)("th",null,"Captain ID"),(0,s.Lk)("th",null,"Tug Boat"),(0,s.Lk)("th",null,"Tug Boat Status")])],-1))),Me=["id","name","value"],Re={id:"captain-name"},Ke={id:"captain-id"},Je={id:"tugboat"},He={id:"captain-status"},qe={class:"status-container"},Ye={id:"scheduler-info"},ze=$e((()=>(0,s.Lk)("caption",null,[(0,s.Lk)("b",null,"Scheduler")],-1))),Ge=$e((()=>(0,s.Lk)("thead",null,[(0,s.Lk)("tr",null,[(0,s.Lk)("th",null,[(0,s.Lk)("input",{type:"checkbox",disabled:""})]),(0,s.Lk)("th",null,"Scheduler Name"),(0,s.Lk)("th",null,"Scheduler ID")])],-1))),Ze=["id","name","value"],ta={id:"scheduler-name"},ea={id:"scheduler-id"};function aa(t,e,a,o,l,i){const r=(0,s.g2)("SideBar"),d=(0,s.g2)("router-view"),u=(0,s.g2)("font-awesome-icon");return(0,s.uX)(),(0,s.CE)("div",Ue,[(0,s.bF)(r),(0,s.Lk)("div",xe,[(0,s.bF)(d),Ne,(0,s.Lk)("div",We,[Qe,(0,s.Lk)("span",null,[(0,s.Lk)("button",{class:"btn btn-light",id:"delete",onClick:e[0]||(e[0]=(...t)=>i.deleteSelected&&i.deleteSelected(...t))},[(0,s.eW)("Delete "),(0,s.bF)(u,{icon:["fas","delete-left"]})]),(0,s.eW)("   "),(0,s.Lk)("button",{class:"btn btn-dark",id:"new-staff",onClick:e[1]||(e[1]=e=>t.redirect("NewStaff"))},[(0,s.eW)("New Staff "),Oe])])]),(0,s.Lk)("table",Ve,[Pe,je,(0,s.Lk)("tbody",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t.$store.state.captains,(t=>((0,s.uX)(),(0,s.CE)("tr",{key:t.CaptainId},[(0,s.Lk)("td",null,[(0,s.bo)((0,s.Lk)("input",{type:"checkbox",id:"checkbox"+t.CaptainId,name:"checkbox"+t.name,"onUpdate:modelValue":e[2]||(e[2]=t=>l.selectedCaptains=t),value:t.CaptainId},null,8,Me),[[n.lH,l.selectedCaptains]])]),(0,s.Lk)("td",Re,(0,Yt.v_)(t.name),1),(0,s.Lk)("td",Ke,(0,Yt.v_)(t.CaptainId),1),(0,s.Lk)("td",Je,(0,Yt.v_)(t.tugboat?t.tugboat.TugBoatId:"waiting"),1),(0,s.Lk)("td",He,[(0,s.Lk)("span",qe,(0,Yt.v_)(t.tugboat?t.tugboat.CurrentStatus:"waiting"),1)])])))),128))])]),(0,s.Lk)("table",Ye,[ze,Ge,(0,s.Lk)("tbody",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t.$store.state.schedulers,(t=>((0,s.uX)(),(0,s.CE)("tr",{key:t.SchedulerId},[(0,s.Lk)("td",null,[(0,s.bo)((0,s.Lk)("input",{type:"checkbox",id:"checkbox"+t.SchedulerId,name:"checkbox"+t.name,"onUpdate:modelValue":e[3]||(e[3]=t=>l.selectedSchedulers=t),value:t.SchedulerId},null,8,Ze),[[n.lH,l.selectedSchedulers]])]),(0,s.Lk)("td",ta,(0,Yt.v_)(t.name),1),(0,s.Lk)("td",ea,(0,Yt.v_)(t.SchedulerId),1)])))),128))])])])])}var na={name:"AdminDashboard",components:{SideBar:de},data(){return{selectedCaptains:[],selectedSchedulers:[]}},mounted(){this.$store.dispatch("fetchCaptains"),this.$store.dispatch("fetchSchedulers")},methods:{async deleteSelected(){this.selectedCaptains.length>0&&await fetch("http://127.0.0.1:8000/api/captains-delete/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ids:this.selectedCaptains})}),this.selectedSchedulers.length>0&&await fetch("http://127.0.0.1:8000/api/schedulers-delete/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ids:this.selectedSchedulers})}),this.$store.dispatch("fetchCaptains"),this.$store.dispatch("fetchSchedulers"),this.selectedCaptains=[],this.selectedSchedulers=[]}}};const sa=(0,i.A)(na,[["render",aa],["__scopeId","data-v-7d386770"]]);var oa=sa;const la=t=>((0,s.Qi)("data-v-88cfa37e"),t=t(),(0,s.jt)(),t),ia={class:"backdrop"},ra={class:"container-position"},da={class:"popup-container"},ua=la((()=>(0,s.Lk)("br",null,null,-1))),ca=la((()=>(0,s.Lk)("br",null,null,-1))),pa={class:"form"},ha={class:"form-group"},ka=la((()=>(0,s.Lk)("b",null,[(0,s.Lk)("label",{for:"username"},"ID")],-1))),ba={class:"form-group"},ma=la((()=>(0,s.Lk)("b",null,[(0,s.Lk)("label",{for:"name"},"Name")],-1))),ga={class:"form-group"},La=la((()=>(0,s.Lk)("b",null,[(0,s.Lk)("label",{for:"position"},"Position")],-1))),Ia=la((()=>(0,s.Lk)("option",{disabled:"",value:"",selected:""},"Choose the position",-1))),fa=la((()=>(0,s.Lk)("option",null,"Administrator",-1))),Ca=la((()=>(0,s.Lk)("option",null,"Scheduler",-1))),ya=la((()=>(0,s.Lk)("option",null,"Captain",-1))),va=[Ia,fa,Ca,ya],Ta=la((()=>(0,s.Lk)("br",null,null,-1))),Ba=la((()=>(0,s.Lk)("br",null,null,-1)));function Sa(t,e,a,o,l,i){const r=(0,s.g2)("font-awesome-icon");return(0,s.uX)(),(0,s.CE)("div",ia,[(0,s.Lk)("div",ra,[(0,s.Lk)("div",da,[(0,s.Lk)("button",{onClick:e[0]||(e[0]=(...t)=>i.close&&i.close(...t)),class:"close-btn"},"X"),ua,(0,s.bF)(r,{icon:["fas","user-plus"],size:["2x"]}),ca,(0,s.Lk)("div",pa,[(0,s.Lk)("div",ha,[ka,(0,s.bo)((0,s.Lk)("input",{type:"text",id:"username","onUpdate:modelValue":e[1]||(e[1]=t=>l.username=t),placeholder:"Input staff ID",required:""},null,512),[[n.Jo,l.username]])]),(0,s.Lk)("div",ba,[ma,(0,s.bo)((0,s.Lk)("input",{type:"text",id:"name","onUpdate:modelValue":e[2]||(e[2]=t=>l.name=t),placeholder:"Input staff name",required:""},null,512),[[n.Jo,l.name]])]),(0,s.Lk)("div",ga,[La,(0,s.eW)("   "),(0,s.bo)((0,s.Lk)("select",{id:"position","onUpdate:modelValue":e[3]||(e[3]=t=>l.selectedPosition=t),required:""},va,512),[[n.u1,l.selectedPosition]])])]),Ta,(0,s.Lk)("button",{class:"btn btn-dark",id:"confirm",onClick:e[4]||(e[4]=t=>i.confirm())},"Confirm"),Ba])])])}var wa={name:"MessageDetails",data(){return{username:"",name:"",selectedPosition:""}},methods:{close(){this.$router.back()},async confirm(){const t="/api/create-user/";try{await c.A.post(t,{username:this.username,name:this.name,position:this.selectedPosition,password:"12345678"},{headers:{"Content-Type":"application/json"}});alert("User created successfully"),this.close()}catch(e){console.error("Failed to create user:",e),alert("Failed to create user")}}}};const Ea=(0,i.A)(wa,[["render",Sa],["__scopeId","data-v-88cfa37e"]]);var _a=Ea;const Xa=t=>((0,s.Qi)("data-v-5840e3e3"),t=t(),(0,s.jt)(),t),Aa={id:"TaskManager"},Da=Xa((()=>(0,s.Lk)("h2",{class:"title"},"Your Dashboard",-1))),Fa={class:"job buttons-container"},$a=Xa((()=>(0,s.Lk)("br",null,null,-1))),Ua=Xa((()=>(0,s.Lk)("br",null,null,-1))),xa=Xa((()=>(0,s.Lk)("br",null,null,-1))),Na=Xa((()=>(0,s.Lk)("input",{type:"file",id:"import-task-data"},null,-1))),Wa={for:"import-task-data"},Qa=Xa((()=>(0,s.Lk)("br",null,null,-1))),Oa=Xa((()=>(0,s.Lk)("br",null,null,-1))),Va=Xa((()=>(0,s.Lk)("br",null,null,-1))),Pa=Xa((()=>(0,s.Lk)("input",{type:"file",id:"import-tugboat-data"},null,-1))),ja={for:"import-tugboat-data"},Ma=Xa((()=>(0,s.Lk)("br",null,null,-1))),Ra=Xa((()=>(0,s.Lk)("br",null,null,-1))),Ka=Xa((()=>(0,s.Lk)("br",null,null,-1))),Ja=Xa((()=>(0,s.Lk)("br",null,null,-1))),Ha=Xa((()=>(0,s.Lk)("br",null,null,-1))),qa=Xa((()=>(0,s.Lk)("br",null,null,-1))),Ya={class:"header-style",id:"filter-section"},za={class:"filter-group"},Ga={class:"filter"},Za=Xa((()=>(0,s.Lk)("label",{for:"containerBoatFilter"},"Container Boat: ",-1))),tn=Xa((()=>(0,s.Lk)("option",{value:""},"All",-1))),en={class:"filter"},an=Xa((()=>(0,s.Lk)("label",{for:"countryFilter"},"Country: ",-1))),nn=Xa((()=>(0,s.Lk)("option",{value:""},"All",-1))),sn={class:"filter"},on=Xa((()=>(0,s.Lk)("label",{for:"tugBoatFilter"},"Tug Boat: ",-1))),ln=Xa((()=>(0,s.Lk)("option",{value:""},"All",-1))),rn={class:"filter"},dn=Xa((()=>(0,s.Lk)("label",{for:"berthFilter"},"Berth: ",-1))),un=Xa((()=>(0,s.Lk)("option",{value:""},"All",-1))),cn={class:"filter"},pn=Xa((()=>(0,s.Lk)("label",{for:"workTypeFilter"},"Work Type: ",-1))),hn=Xa((()=>(0,s.Lk)("option",{value:""},"All",-1))),kn=Xa((()=>(0,s.Lk)("option",null,"INBOUND",-1))),bn=Xa((()=>(0,s.Lk)("option",null,"OUTBOUND",-1))),mn=[hn,kn,bn],gn={class:"filter"},Ln=Xa((()=>(0,s.Lk)("label",{for:"statusFilter"},"Status: ",-1))),In=Xa((()=>(0,s.Lk)("option",{value:""},"All",-1))),fn=Xa((()=>(0,s.Lk)("option",null,"Completed",-1))),Cn=Xa((()=>(0,s.Lk)("option",null,"Confirmed",-1))),yn=Xa((()=>(0,s.Lk)("option",null,"Scheduled",-1))),vn=Xa((()=>(0,s.Lk)("option",null,"Unscheduled",-1))),Tn=[In,fn,Cn,yn,vn],Bn={key:0},Sn={key:1,class:"table-container"},wn=Xa((()=>(0,s.Lk)("thead",null,[(0,s.Lk)("tr",null,[(0,s.Lk)("th",{rowspan:"2"},[(0,s.Lk)("input",{type:"checkbox"})]),(0,s.Lk)("th",{rowspan:"2"},"No."),(0,s.Lk)("th",{rowspan:"2"},"Planned Time"),(0,s.Lk)("th",{rowspan:"2"},"Container Boat"),(0,s.Lk)("th",{rowspan:"2"},"Country"),(0,s.Lk)("th",{style:{"text-align":"center"},colspan:"2"},"Tug Boat"),(0,s.Lk)("th",{rowspan:"2"},"Berth"),(0,s.Lk)("th",{rowspan:"2"},"Work Type"),(0,s.Lk)("th",{style:{"text-align":"center"},colspan:"2"},"Actual Time"),(0,s.Lk)("th",{rowspan:"2"},"Status"),(0,s.Lk)("th",{rowspan:"2"},"Publish Time")]),(0,s.Lk)("tr",null,[(0,s.Lk)("th",null,"Need"),(0,s.Lk)("th",null,"IDs"),(0,s.Lk)("th",null,"Start"),(0,s.Lk)("th",null,"End")])],-1))),En=["id","name","value"],_n={class:"number"},Xn=["onSubmit"],An=Xa((()=>(0,s.Lk)("input",{class:"submit-button",type:"submit"},null,-1))),Dn=["onClick"],Fn=["onSubmit"],$n=["onChange"],Un=["onClick"],xn=["onClick"],Nn={key:1},Wn=["onChange"],Qn=Xa((()=>(0,s.Lk)("option",{value:""},null,-1))),On=["onClick"],Vn={key:1},Pn=["onChange"],jn={key:0},Mn=["onChange"],Rn=["onClick"],Kn={class:"work-type"},Jn={class:"start-time"},Hn={class:"end-time"},qn={class:"work-status"},Yn={class:"publish-time"},zn=["id","name","value"],Gn={class:"number"},Zn=["onSubmit"],ts=Xa((()=>(0,s.Lk)("input",{class:"submit-button",type:"submit"},null,-1))),es=["onClick"],as=["onSubmit"],ns=["onChange"],ss=["onClick"],os={class:"country"},ls=["onClick"],is=["onSubmit"],rs=Xa((()=>(0,s.Lk)("button",{class:"submit-button",type:"submit"},null,-1))),ds={key:0},us=["onChange"],cs=["onClick"],ps={key:0},hs=["onChange"],ks=Xa((()=>(0,s.Lk)("option",null,"INBOUND",-1))),bs=Xa((()=>(0,s.Lk)("option",null,"OUTBOUND",-1))),ms=[ks,bs],gs=["onClick"],Ls={class:"disabled-column"},Is={class:"disabled-column"},fs={class:"work-status"},Cs={class:"disabled-column"},ys=["id","name","value"],vs={class:"number"},Ts={class:"country"},Bs={class:"work-type"},Ss={class:"status-container"},ws={class:"start-time"},Es={class:"end-time"},_s={class:"work-status"},Xs={class:"status-container"},As={class:"publish-time"};function Ds(t,e,a,o,l,i){const r=(0,s.g2)("SideBar"),d=(0,s.g2)("router-view"),u=(0,s.g2)("MessageButton"),c=(0,s.g2)("font-awesome-icon");return(0,s.uX)(),(0,s.CE)("div",Aa,[(0,s.Lk)("div",{class:(0,Yt.C4)(["progress-bar",{"progress-bar-active":l.showProgressBar}])},null,2),(0,s.bF)(r),(0,s.Lk)("div",{class:"pages",onClick:e[39]||(e[39]=(...e)=>t.toggle&&t.toggle(...e))},[(0,s.bF)(d),Da,(0,s.bF)(u),(0,s.Lk)("div",Fa,[(0,s.Lk)("button",{class:"btn btn-dark",id:"schedule",onClick:e[0]||(e[0]=t=>i.schedule())},[(0,s.eW)("Schedule "),(0,s.bF)(c,{icon:["fas","calendar-day"]})]),$a,Ua,xa,Na,(0,s.Lk)("label",Wa,[(0,s.Lk)("button",{id:"import-task",class:"btn btn-light",onClick:e[1]||(e[1]=t=>i.importTaskData())},[(0,s.eW)("Import Task Data "),(0,s.bF)(c,{icon:["fas","file-import"]})])]),Qa,Oa,Va,Pa,(0,s.Lk)("label",ja,[(0,s.Lk)("button",{id:"import-tugboat",class:"btn btn-light",onClick:e[2]||(e[2]=t=>i.importTugboatData())},[(0,s.eW)("Import Tug Boat Data "),(0,s.bF)(c,{icon:["fas","file-import"]})])]),Ma,Ra,Ka,(0,s.Lk)("button",{class:"btn btn-light",id:"download",onClick:e[3]||(e[3]=t=>i.download())},[(0,s.eW)("Download "),(0,s.bF)(c,{icon:["fas","download"]})]),Ja,Ha,qa,(0,s.Lk)("button",{class:"btn btn-outline-dark",id:"publish",onClick:e[4]||(e[4]=t=>i.publish())},[(0,s.eW)("Publish "),(0,s.bF)(c,{icon:["fas","upload"]})])]),(0,s.Lk)("div",Ya,[(0,s.Lk)("div",za,[(0,s.Lk)("span",Ga,[Za,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":e[5]||(e[5]=t=>l.containerBoatInput=t)},[tn,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t.$store.state.containerBoats,(t=>((0,s.uX)(),(0,s.CE)("option",{key:t.ContainerBoatID},(0,Yt.v_)(t.ContainerBoatID),1)))),128))],512),[[n.u1,l.containerBoatInput]])]),(0,s.Lk)("span",en,[an,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":e[6]||(e[6]=t=>l.countryInput=t)},[nn,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.countryList(),((t,e)=>((0,s.uX)(),(0,s.CE)("option",{key:e},(0,Yt.v_)(t),1)))),128))],512),[[n.u1,l.countryInput]])]),(0,s.Lk)("span",sn,[on,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":e[7]||(e[7]=t=>l.tugBoatInput=t)},[ln,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t.$store.state.tugboats,(t=>((0,s.uX)(),(0,s.CE)("option",{key:t.TugBoatId},(0,Yt.v_)(t.TugBoatId),1)))),128))],512),[[n.u1,l.tugBoatInput]])]),(0,s.Lk)("span",rn,[dn,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>l.berthInput=t)},[un,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t.$store.state.berths,(t=>((0,s.uX)(),(0,s.CE)("option",{key:t.BerthId},(0,Yt.v_)(t.BerthId),1)))),128))],512),[[n.u1,l.berthInput]])]),(0,s.Lk)("span",cn,[pn,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":e[9]||(e[9]=t=>l.workTypeInput=t)},mn,512),[[n.u1,l.workTypeInput]])]),(0,s.Lk)("span",gn,[Ln,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":e[10]||(e[10]=t=>l.statusInput=t)},Tn,512),[[n.u1,l.statusInput]])])]),(0,s.Lk)("span",null,[(0,s.Lk)("button",{class:"btn btn-light",id:"delete",onClick:e[11]||(e[11]=(...t)=>i.deleteSelected&&i.deleteSelected(...t))},[(0,s.eW)("Delete "),(0,s.bF)(c,{icon:["fas","delete-left"]})]),(0,s.eW)("   "),(0,s.Lk)("button",{class:"btn btn-dark",id:"add",onClick:e[12]||(e[12]=e=>t.redirect("NewTask"))},"Add + ")])]),i.waiting()?((0,s.uX)(),(0,s.CE)("div",Bn,"No Task Available")):(0,s.Q3)("",!0),i.waiting()?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",Sn,[(0,s.Lk)("table",null,[wn,(0,s.Lk)("tbody",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.entryList("Incomplete"),((a,o)=>((0,s.uX)(),(0,s.CE)("tr",{key:o},[(0,s.Lk)("td",null,[(0,s.bo)((0,s.Lk)("input",{type:"checkbox",id:"mycheckbox"+a.ScheduleEntryId,name:t.myCheckbox,"onUpdate:modelValue":e[13]||(e[13]=t=>l.selectedScheduleEntries=t),value:a.TaskId.TaskId},null,8,En),[[n.lH,l.selectedScheduleEntries]])]),(0,s.Lk)("td",_n,(0,Yt.v_)(a.ScheduleEntryId),1),(0,s.Lk)("td",{onClick:e[15]||(e[15]=(0,n.D$)((()=>{}),["stop"]))},[l.timeInfo===a.ScheduleEntryId?((0,s.uX)(),(0,s.CE)("form",{key:0,onSubmit:t=>i.edit(a.TaskId.TaskId,a.ScheduleEntryId)},[(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":e[14]||(e[14]=e=>t.plannedTime=e),type:"datetime-local"},null,512),[[n.Jo,t.plannedTime]]),An],40,Xn)):(0,s.Q3)("",!0),l.timeInfo!=a.ScheduleEntryId?((0,s.uX)(),(0,s.CE)("span",{key:1,onClick:t=>i.selected(a.ScheduleEntryId,"time")},(0,Yt.v_)(t.formatDate(a.TaskId.startTime))+"  "+(0,Yt.v_)(t.formatTime(a.TaskId.startTime)),9,Dn)):(0,s.Q3)("",!0)]),(0,s.Lk)("td",{onClick:e[17]||(e[17]=(0,n.D$)((()=>{}),["stop"]))},[l.containerBoatInfo===a.ScheduleEntryId?((0,s.uX)(),(0,s.CE)("form",{key:0,onSubmit:t=>i.edit(a.TaskId.TaskId,a.ScheduleEntryId)},[(0,s.bo)((0,s.Lk)("select",{onChange:t=>i.edit(a.TaskId.TaskId,a.ScheduleEntryId),"onUpdate:modelValue":e[16]||(e[16]=e=>t.containerBoatId=e)},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t.$store.state.containerBoats,(t=>((0,s.uX)(),(0,s.CE)("option",{key:t.ContainerBoatID},(0,Yt.v_)(t.ContainerBoatID),1)))),128))],40,$n),[[n.u1,t.containerBoatId]])],40,Fn)):(0,s.Q3)("",!0),l.containerBoatInfo!=a.ScheduleEntryId?((0,s.uX)(),(0,s.CE)("span",{key:1,onClick:t=>i.selected(a.ScheduleEntryId,"containerBoatId")},(0,Yt.v_)(a.TaskId.ContainerBoatID.ContainerBoatID),9,Un)):(0,s.Q3)("",!0)]),(0,s.Lk)("td",{onClick:e[18]||(e[18]=(0,n.D$)((()=>{}),["stop"])),class:"country"},(0,Yt.v_)(a.TaskId.ContainerBoatID.Country),1),(0,s.Lk)("td",{onClick:e[19]||(e[19]=(0,n.D$)((()=>{}),["stop"]))},[(0,s.Lk)("span",null,(0,Yt.v_)(a.TaskId.RequiredTugBoat),1)]),(0,s.Lk)("td",{onClick:e[22]||(e[22]=(0,n.D$)((()=>{}),["stop"]))},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(a.listOfTugBoats.map((t=>t.TugBoatId)),(o=>((0,s.uX)(),(0,s.CE)("span",{key:o},[l.tugBoatInfo!=a.ScheduleEntryId||l.tugBoatIndex!=o?((0,s.uX)(),(0,s.CE)("span",{key:0,onClick:t=>i.selectAndGetTugBoat(a.ScheduleEntryId,o,a.TaskId.TaskId)},[(0,s.Lk)("span",null,(0,Yt.v_)(o)+" / ",1)],8,xn)):(0,s.Q3)("",!0),l.tugBoatInfo===a.ScheduleEntryId&&l.tugBoatIndex===o?((0,s.uX)(),(0,s.CE)("form",Nn,[(0,s.bo)((0,s.Lk)("select",{onChange:t=>i.edit(a.TaskId.TaskId,a.ScheduleEntryId,o),"onUpdate:modelValue":e[20]||(e[20]=e=>t.tugBoat=e)},[Qn,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.filteredTugBoats,(t=>((0,s.uX)(),(0,s.CE)("option",{key:t.TugBoatId},(0,Yt.v_)(t.TugBoatId),1)))),128))],40,Wn),[[n.u1,t.tugBoat]])])):(0,s.Q3)("",!0)])))),128)),l.tugBoatInfo!=a.ScheduleEntryId||"add"!=l.tugBoatIndex?((0,s.uX)(),(0,s.CE)("span",{key:0,onClick:t=>i.selectAndGetTugBoat(a.ScheduleEntryId,"add",a.TaskId.TaskId)},[(0,s.bF)(c,{icon:["fas","circle-plus"],id:"add-tugboat"})],8,On)):(0,s.Q3)("",!0),l.tugBoatInfo===a.ScheduleEntryId&&"add"===l.tugBoatIndex?((0,s.uX)(),(0,s.CE)("form",Vn,[(0,s.bo)((0,s.Lk)("select",{onChange:t=>i.edit(a.TaskId.TaskId,a.ScheduleEntryId),"onUpdate:modelValue":e[21]||(e[21]=e=>t.tugBoat=e)},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.filteredTugBoats,(t=>((0,s.uX)(),(0,s.CE)("option",{key:t.TugBoatId},(0,Yt.v_)(t.TugBoatId),1)))),128))],40,Pn),[[n.u1,t.tugBoat]])])):(0,s.Q3)("",!0)]),(0,s.Lk)("td",{onClick:e[24]||(e[24]=(0,n.D$)((()=>{}),["stop"]))},[l.berthInfo===a.ScheduleEntryId?((0,s.uX)(),(0,s.CE)("form",jn,[(0,s.bo)((0,s.Lk)("select",{onChange:t=>i.edit(a.TaskId.TaskId,a.ScheduleEntryId),"onUpdate:modelValue":e[23]||(e[23]=e=>t.berthId=e)},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t.$store.state.berths,(t=>((0,s.uX)(),(0,s.CE)("option",{key:t.BerthID},(0,Yt.v_)(t.BerthId),1)))),128))],40,Mn),[[n.u1,t.berthId]])])):(0,s.Q3)("",!0),l.berthInfo!=a.ScheduleEntryId?((0,s.uX)(),(0,s.CE)("span",{key:1,onClick:t=>i.selected(a.ScheduleEntryId,"berthId")},(0,Yt.v_)(a.TaskId.BerthId),9,Rn)):(0,s.Q3)("",!0)]),(0,s.Lk)("td",Kn,[(0,s.Lk)("span",{class:"status-container",style:(0,Yt.Tr)(t.getActionStyle(a.TaskId.Action))},(0,Yt.v_)(a.TaskId.Action),5)]),(0,s.Lk)("td",Jn,(0,Yt.v_)(t.formatTime(a.StartTime)),1),(0,s.Lk)("td",Hn,(0,Yt.v_)(t.formatTime(a.EndTime)),1),(0,s.Lk)("td",qn,[(0,s.Lk)("span",{class:"status-container",style:(0,Yt.Tr)(t.getStatusStyle(a.Status))},(0,Yt.v_)(a.Status),5)]),(0,s.Lk)("td",Yn,(0,Yt.v_)(t.formatTime(a.PublishTime)),1)])))),128)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.taskList(),((a,o)=>((0,s.uX)(),(0,s.CE)("tr",{key:o},[(0,s.Lk)("td",null,[(0,s.bo)((0,s.Lk)("input",{type:"checkbox",id:"myCheckbox"+a.TaskId,name:t.myCheckbox,"onUpdate:modelValue":e[25]||(e[25]=t=>l.selectedTasks=t),value:a.TaskId},null,8,zn),[[n.lH,l.selectedTasks]])]),(0,s.Lk)("td",Gn,(0,Yt.v_)(o+1),1),(0,s.Lk)("td",{onClick:e[27]||(e[27]=(0,n.D$)((()=>{}),["stop"]))},[l.timeInfo===a.TaskId?((0,s.uX)(),(0,s.CE)("form",{key:0,onSubmit:t=>i.edit(a.TaskId)},[(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":e[26]||(e[26]=e=>t.plannedTime=e),type:"datetime-local"},null,512),[[n.Jo,t.plannedTime]]),ts],40,Zn)):(0,s.Q3)("",!0),l.timeInfo!=a.TaskId?((0,s.uX)(),(0,s.CE)("span",{key:1,onClick:t=>i.selected(a.TaskId,"time")},(0,Yt.v_)(t.formatDate(a.startTime))+"  "+(0,Yt.v_)(t.formatTime(a.startTime)),9,es)):(0,s.Q3)("",!0)]),(0,s.Lk)("td",{onClick:e[29]||(e[29]=(0,n.D$)((()=>{}),["stop"]))},[l.containerBoatInfo===a.TaskId?((0,s.uX)(),(0,s.CE)("form",{key:0,onSubmit:t=>i.edit(a.TaskId)},[(0,s.bo)((0,s.Lk)("select",{onChange:t=>i.edit(a.TaskId),"onUpdate:modelValue":e[28]||(e[28]=e=>t.containerBoatId=e)},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t.$store.state.containerBoats,(t=>((0,s.uX)(),(0,s.CE)("option",{key:t.ContainerBoatID},(0,Yt.v_)(t.ContainerBoatID),1)))),128))],40,ns),[[n.u1,t.containerBoatId]])],40,as)):(0,s.Q3)("",!0),l.containerBoatInfo!=a.TaskId?((0,s.uX)(),(0,s.CE)("span",{key:1,onClick:t=>i.selected(a.TaskId,"containerBoatId")},(0,Yt.v_)(a.ContainerBoatID.ContainerBoatID),9,ss)):(0,s.Q3)("",!0)]),(0,s.Lk)("td",os,(0,Yt.v_)(a.ContainerBoatID.Country),1),(0,s.Lk)("td",{onClick:e[30]||(e[30]=(0,n.D$)((()=>{}),["stop"]))},[(0,s.Lk)("span",null,(0,Yt.v_)(a.RequiredTugBoat),1)]),(0,s.Lk)("td",{onClick:e[32]||(e[32]=(0,n.D$)((()=>{}),["stop"])),class:"disabled-column"},[l.tugBoatInfo!="task"+a.TaskId?((0,s.uX)(),(0,s.CE)("span",{key:0,onClick:t=>i.addSelected("task"+a.TaskId,"tugBoat",a.TaskId)},[(0,s.bF)(c,{icon:["fas","circle-plus"],id:"add-tugboat"})],8,ls)):(0,s.Q3)("",!0),l.tugBoatInfo==="task"+a.TaskId?((0,s.uX)(),(0,s.CE)("form",{key:1,onSubmit:(0,n.D$)((t=>i.manualSchedule(a.TaskId)),["prevent"])},[(0,s.bo)((0,s.Lk)("select",{multiple:"","onUpdate:modelValue":e[31]||(e[31]=e=>t.listOfTugBoat=e)},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.filteredTugBoats,(t=>((0,s.uX)(),(0,s.CE)("option",{key:t.TugBoatId},(0,Yt.v_)(t.TugBoatId),1)))),128))],512),[[n.u1,t.listOfTugBoat]]),rs],40,is)):(0,s.Q3)("",!0)]),(0,s.Lk)("td",{onClick:e[34]||(e[34]=(0,n.D$)((()=>{}),["stop"]))},[l.berthInfo===a.TaskId?((0,s.uX)(),(0,s.CE)("form",ds,[(0,s.bo)((0,s.Lk)("select",{onChange:t=>i.edit(a.TaskId),"onUpdate:modelValue":e[33]||(e[33]=e=>t.berthId=e)},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t.$store.state.berths,(t=>((0,s.uX)(),(0,s.CE)("option",{key:t.BerthID},(0,Yt.v_)(t.BerthId),1)))),128))],40,us),[[n.u1,t.berthId]])])):(0,s.Q3)("",!0),l.berthInfo!=a.TaskId?((0,s.uX)(),(0,s.CE)("span",{key:1,onClick:t=>i.selected(a.TaskId,"berthId")},(0,Yt.v_)(a.BerthId),9,cs)):(0,s.Q3)("",!0)]),(0,s.Lk)("td",{onClick:e[36]||(e[36]=(0,n.D$)((()=>{}),["stop"])),class:"work-type"},[l.actionInfo===a.TaskId?((0,s.uX)(),(0,s.CE)("form",ps,[(0,s.bo)((0,s.Lk)("select",{onChange:t=>i.edit(a.TaskId),"onUpdate:modelValue":e[35]||(e[35]=e=>t.action=e)},ms,40,hs),[[n.u1,t.action]])])):(0,s.Q3)("",!0),l.actionInfo!=a.TaskId?((0,s.uX)(),(0,s.CE)("span",{key:1,onClick:t=>i.selected(a.TaskId,"action"),class:"status-container",style:(0,Yt.Tr)(t.getActionStyle(a.Action))},(0,Yt.v_)(a.Action),13,gs)):(0,s.Q3)("",!0)]),(0,s.Lk)("td",Ls,(0,Yt.v_)(),1),(0,s.Lk)("td",Is,(0,Yt.v_)(),1),(0,s.Lk)("td",fs,[(0,s.Lk)("span",{class:"status-container",style:(0,Yt.Tr)(t.getStatusStyle(a.State))},(0,Yt.v_)(a.State),5)]),(0,s.Lk)("td",Cs,(0,Yt.v_)(),1)])))),128)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.entryList("Completed"),((a,o)=>((0,s.uX)(),(0,s.CE)("tr",{class:"disabled-row",key:o},[(0,s.Lk)("td",null,[(0,s.bo)((0,s.Lk)("input",{type:"checkbox",id:"myCheckbox"+a.TaskId,name:t.myCheckbox,"onUpdate:modelValue":e[37]||(e[37]=t=>l.selectedTasks=t),value:a.TaskId.TaskId},null,8,ys),[[n.lH,l.selectedTasks]])]),(0,s.Lk)("td",vs,(0,Yt.v_)(o+1),1),(0,s.Lk)("td",null,(0,Yt.v_)(t.formatDate(a.TaskId.startTime))+"  "+(0,Yt.v_)(t.formatTime(a.TaskId.startTime)),1),(0,s.Lk)("td",null,(0,Yt.v_)(a.TaskId.ContainerBoatID.ContainerBoatID),1),(0,s.Lk)("td",Ts,(0,Yt.v_)(a.TaskId.ContainerBoatID.Country),1),(0,s.Lk)("td",{onClick:e[38]||(e[38]=(0,n.D$)((()=>{}),["stop"]))},[(0,s.Lk)("span",null,(0,Yt.v_)(a.TaskId.RequiredTugBoat),1)]),(0,s.Lk)("td",null,(0,Yt.v_)(a.listOfTugBoats.map((t=>t.TugBoatId)).join("/ ")),1),(0,s.Lk)("td",null,(0,Yt.v_)(a.TaskId.BerthId),1),(0,s.Lk)("td",Bs,[(0,s.Lk)("span",Ss,(0,Yt.v_)(a.TaskId.Action),1)]),(0,s.Lk)("td",ws,(0,Yt.v_)(a.startTime),1),(0,s.Lk)("td",Es,(0,Yt.v_)(a.endTime),1),(0,s.Lk)("td",_s,[(0,s.Lk)("span",Xs,(0,Yt.v_)(a.Status),1)]),(0,s.Lk)("td",As,(0,Yt.v_)(a.publishTime),1)])))),128))])])]))])])}const Fs={class:"message-container"};function $s(t,e,a,n,o,l){const i=(0,s.g2)("font-awesome-icon");return(0,s.uX)(),(0,s.CE)("span",Fs,[(0,s.Lk)("button",{id:"message",onClick:e[0]||(e[0]=t=>l.message())},[(0,s.bF)(i,{icon:["fas","bell"]})])])}var Us={name:"MessageButton",methods:{message(){this.$router.push({name:"Message"})}}};const xs=(0,i.A)(Us,[["render",$s],["__scopeId","data-v-6ff836e0"]]);var Ns=xs,Ws={name:"WorkSchedule",components:{SideBar:de,MessageButton:Ns},mounted(){this.$store.dispatch("fetchScheduleEntries"),this.$store.dispatch("fetchTasks"),this.$store.dispatch("fetchContainerBoats"),this.$store.dispatch("fetchBerths"),this.$store.dispatch("fetchTugBoats")},data(){return{taskId:null,tugBoatIndex:null,tugBoatInfo:null,timeInfo:null,containerBoatInfo:null,berthInfo:null,actionInfo:null,searchValue:null,entries:[],tasks:[],containerBoats:[],containerBoatInput:"",countryInput:"",tugBoatInput:"",berthInput:"",workTypeInput:"",statusInput:"",selectedTasks:[],selectedScheduleEntries:[],showProgressBar:!1,filteredTugBoats:[]}},methods:{async deleteSelected(){this.selectedTasks.length>0&&await fetch("/api/tasks-delete/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ids:this.selectedTasks})}),this.selectedScheduleEntries.length>0&&await fetch("/api/scheduleentries-delete/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ids:this.selectedScheduleEntries})}),this.$store.dispatch("fetchTasks"),this.$store.dispatch("fetchScheduleEntries"),this.selectedTasks=[],this.selectedScheduleEntries=[]},waiting(){return 0===this.$store.state.scheduleEntries.length&&0===this.$store.state.tasks.length},async schedule(){this.showProgressBar=!0;try{const t=await c.A.post("/api/auto-schedule",{});console.log(t.data)}catch(t){console.error("Error during schedule operation: ",t),alert("Schedule operation failed, check logs for details.")}setTimeout((()=>{this.showProgressBar=!1,alert("Schedule operation successful!")}),2e3)},importTaskData(){let t=document.getElementById("import-task-data");t.onchange=t=>{const e=t.target.files[0];if(!e)return;let a=new FormData;a.append("task_data",e),c.A.post("/api/upload-task-data",a,{headers:{"Content-Type":"multipart/form-data"}}).then((t=>{console.log(t.data),alert("Imported success!")})).catch((t=>{console.error("Error uploading file: ",t),alert("Failed to import, check logs for details.")}))},t.click()},importTugboatData(){let t=document.getElementById("import-tugboat-data");t.onchange=t=>{const e=t.target.files[0];if(!e)return;let a=new FormData;a.append("tugboat_data",e),c.A.post("/api/upload-tug-boat-data",a,{headers:{"Content-Type":"multipart/form-data"}}).then((t=>{console.log(t.data),alert("Imported success!")})).catch((t=>{console.error("Error uploading file: ",t),alert("Failed to import, check logs for details.")}))},t.click()},download(){c.A.post("/api/publish-data").then((t=>{console.log(t.data.message),alert("Published success!")})).catch((t=>{console.error("error: ",t),alert("Failed to publish data, check logs for details.")}))},async publish(){const t=(new Date).toISOString();try{const e=await c.A.post("/api/update-publish-time",{timeStamp:t});console.log(e.data),alert("Publish Successfully")}catch(e){console.error(e),alert("Publish Successfully")}},countryList(){const t=[...new Set(this.$store.state.containerBoats.map((t=>t.Country)))];return t},entryList(t){this.entries=this.$store.state.scheduleEntries;const e="Completed"===t;return this.entries.filter((t=>{const a=!this.countryInput||t.TaskId.ContainerBoatID.Country.toString()===this.countryInput,n=!this.containerBoatInput||t.TaskId.ContainerBoatID.ContainerBoatID.toString()===this.containerBoatInput,s=!this.tugBoatInput||t.listOfTugBoats.map((t=>t.TugBoatId)).includes(this.tugBoatInput),o=!this.berthInput||t.TaskId.BerthId.toString()===this.berthInput,l=!this.workTypeInput||t.TaskId.Action===this.workTypeInput,i=!this.statusInput||t.Status===this.statusInput,r="Completed"===t.Status;return a&&n&&s&&o&&l&&i&&(e?r:!r)}))},taskList(){return this.tasks=this.$store.state.tasks,this.tasks.filter((t=>{const e=!this.countryInput||t.ContainerBoatID.Country.toString()===this.countryInput,a=!this.containerBoatInput||t.ContainerBoatID.ContainerBoatID.toString()===this.containerBoatInput,n=""===this.tugBoatInput,s=!this.berthInput||t.BerthId.toString()===this.berthInput,o=!this.workTypeInput||t.Action===this.workTypeInput,l=!this.statusInput||t.State===this.statusInput,i="Unscheduled"===t.State;return e&&a&&n&&s&&o&&l&&i}))},changeTugboatList(t){return this.getTugboatList(t).then((t=>{this.filteredTugBoats=t})).catch((t=>{console.error(t)})),this.filteredTugBoats},async getTugboatList(t){try{const e=await c.A.get("/api/display_tugboat/",{params:{taskId:t}});return e.data?e.data:(alert("Failed to Fetch Available Tug Boats"),[])}catch(e){console.error(e),alert("Error Fetching Available Tug Boats")}},resetNull(){this.tugBoatInfo=null,this.tugBoatIndex=null,this.timeInfo=null,this.containerBoatInfo=null,this.berthInfo=null,this.actionInfo=null},tugBoatSelected(t,e){this.resetNull,this.tugBoatInfo=t,this.tugBoatIndex=e},selected(t,e){this.resetNull(),"tugBoat"===e?this.tugBoatInfo=t:"time"===e?this.timeInfo=t:"containerBoatId"===e?this.containerBoatInfo=t:"berthId"===e?this.berthInfo=t:"action"===e&&(this.actionInfo=t)},async edit(t,e,a){try{const n=await c.A.post("/api/update-entry-task/",{entryId:e,taskId:t,plannedTime:this.plannedTime,containerBoatId:this.containerBoatId,removeTugBoatId:a,newTugBoatId:this.tugBoat,berthId:this.berthId,action:this.action});n.data.success?(n.data.conflict?alert("There are conflicted entries. Rescheduling..."):alert("Edit Successfully"),window.location.reload(),this.resetNull()):alert("Edit Task Failed.")}catch(n){console.error("Edit task error:",n),alert("Edit Task Error.")}},async manualSchedule(t){try{const e=await c.A.post("/api/manual-schedule/",{taskId:t,tugBoatList:this.listOfTugBoat});e.data.success?(e.data.conflict?alert("There are conflicted entries. Rescheduling..."):alert("Manual Scheduling Successful"),window.location.reload(),this.resetNull()):alert("Manual Schedulling Failed.")}catch(e){console.error("Error during manual schedulling:",e),alert("Manual Schedulling Error.")}},async getTugBoatStyle(t){try{const e=await c.A.post("/api/tugboat-availability",{tugboatId:t});if(e.data.success){let t;switch(console.log("get tugboat availability success"),e.data.message){case!0:t="green";break;default:t="red"}return{backgroundColor:t,color:"white",padding:"5px","border-radius":"10px"}}console.log("failed")}catch(e){console.error("Get tugboat availability error: ",e)}},selectAndGetTugBoat(t,e,a){this.tugBoatSelected(t,e),this.changeTugboatList(a)},addSelected(t,e,a){this.selected(t,e),this.changeTugboatList(a)}}};const Qs=(0,i.A)(Ws,[["render",Ds],["__scopeId","data-v-5840e3e3"]]);var Os=Qs;const Vs=t=>((0,s.Qi)("data-v-81a20fb6"),t=t(),(0,s.jt)(),t),Ps={id:"NewTask"},js={class:"pages"},Ms=Vs((()=>(0,s.Lk)("h2",{class:"title"},"New Task",-1))),Rs=Vs((()=>(0,s.Lk)("br",null,null,-1))),Ks=Vs((()=>(0,s.Lk)("br",null,null,-1))),Js=Vs((()=>(0,s.Lk)("br",null,null,-1))),Hs=Vs((()=>(0,s.Lk)("th",null,[(0,s.Lk)("label",{for:"containerBoatId"},"Container Boat")],-1))),qs=Vs((()=>(0,s.Lk)("th",null,[(0,s.Lk)("label",{for:"country"},"Country")],-1))),Ys=Vs((()=>(0,s.Lk)("th",null,[(0,s.Lk)("label",{for:"tonnage"},"Tonnage")],-1))),zs=Vs((()=>(0,s.Lk)("th",null,[(0,s.Lk)("label",{for:"time"},"Time")],-1))),Gs=Vs((()=>(0,s.Lk)("th",null,[(0,s.Lk)("label",{for:"action"},"Action")],-1))),Zs=Vs((()=>(0,s.Lk)("option",null,"INBOUND",-1))),to=Vs((()=>(0,s.Lk)("option",null,"OUTBOUND",-1))),eo=[Zs,to],ao=Vs((()=>(0,s.Lk)("th",null,[(0,s.Lk)("label",{for:"berth"},"Berth")],-1))),no={class:"cancel-save-buttons"},so=Vs((()=>(0,s.Lk)("input",{class:"btn btn-dark",type:"submit",value:"Save"},null,-1)));function oo(t,e,a,o,l,i){const r=(0,s.g2)("SideBar"),d=(0,s.g2)("router-view");return(0,s.uX)(),(0,s.CE)("div",Ps,[(0,s.bF)(r),(0,s.Lk)("form",{onSubmit:e[7]||(e[7]=(0,n.D$)((t=>i.save()),["prevent"]))},[(0,s.Lk)("div",js,[(0,s.bF)(d),Ms,Rs,Ks,Js,(0,s.Lk)("table",null,[(0,s.Lk)("tr",null,[Hs,(0,s.Lk)("td",null,[(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=e=>t.containerBoatId=e),placeholder:"Input the ID of Container Boat",required:""},null,512),[[n.Jo,t.containerBoatId]])])]),(0,s.Lk)("tr",null,[qs,(0,s.Lk)("td",null,[(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=e=>t.country=e),placeholder:"Input the Country",required:""},null,512),[[n.Jo,t.country]])])]),(0,s.Lk)("tr",null,[Ys,(0,s.Lk)("td",null,[(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=e=>t.tonnage=e),placeholder:"Input Tonnage of Ship",required:""},null,512),[[n.Jo,t.tonnage]])])]),(0,s.Lk)("tr",null,[zs,(0,s.Lk)("td",null,[(0,s.bo)((0,s.Lk)("input",{type:"datetime-local","onUpdate:modelValue":e[3]||(e[3]=e=>t.time=e),placeholder:"Set time",required:""},null,512),[[n.Jo,t.time]])])]),(0,s.Lk)("tr",null,[Gs,(0,s.Lk)("td",null,[(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":e[4]||(e[4]=e=>t.action=e),required:""},eo,512),[[n.u1,t.action]])])]),(0,s.Lk)("tr",null,[ao,(0,s.Lk)("td",null,[(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":e[5]||(e[5]=e=>t.berth=e),required:""},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t.$store.state.berths,(t=>((0,s.uX)(),(0,s.CE)("option",{key:t.BerthId},(0,Yt.v_)(t.BerthId),1)))),128))],512),[[n.u1,t.berth]])])])])]),(0,s.Lk)("div",no,[(0,s.Lk)("button",{class:"btn btn-outline-dark",id:"cancel",onClick:e[6]||(e[6]=e=>t.redirect("Exit-NewTask"))},"Cancel"),so])],32)])}var lo={name:"NewTask",components:{SideBar:de},mounted(){this.$store.dispatch("fetchBerths"),this.$store.commit("setExitPath","SchedulerDashboard")},methods:{async save(){try{const t=await c.A.post("/api/save-newtask/",{containerBoatId:this.containerBoatId,time:this.time,tonnage:this.tonnage,country:this.country,requiredTugBoat:this.requiredTugBoat,action:this.action,berthId:this.berth,state:this.state},{headers:{"Content-Type":"application/json"}});t.data.success?(alert("Added successfully"),this.$router.push({name:"Save-NewTask"})):alert("Add container boat Failed.")}catch(t){console.error("Add container boat error:",t),alert("Add container boat Error.")}}}};const io=(0,i.A)(lo,[["render",oo],["__scopeId","data-v-81a20fb6"]]);var ro=io;const uo=t=>((0,s.Qi)("data-v-e9504654"),t=t(),(0,s.jt)(),t),co={class:"pages"},po=uo((()=>(0,s.Lk)("h2",{class:"title"},"Tug Boat List",-1))),ho={class:"search-form"},ko=uo((()=>(0,s.Lk)("br",null,null,-1))),bo=uo((()=>(0,s.Lk)("br",null,null,-1))),mo={class:"header-style"},go={class:"filter-group"},Lo=uo((()=>(0,s.Lk)("span",null,"Status: ",-1))),Io={class:"btn-group",role:"group","aria-label":"Vertical radio toggle button group"},fo=uo((()=>(0,s.Lk)("label",{class:"btn btn-outline-dark",for:"All"},"All",-1))),Co=uo((()=>(0,s.Lk)("label",{class:"btn btn-outline-dark",for:"Free"},"Free",-1))),yo=uo((()=>(0,s.Lk)("label",{class:"btn btn-outline-dark",for:"Busy"},"Busy",-1))),vo=uo((()=>(0,s.Lk)("label",{class:"btn btn-outline-dark",for:"Maintenance"},"Maintenance",-1))),To={class:"table-container"},Bo={class:"work-table"},So=uo((()=>(0,s.Lk)("thead",null,[(0,s.Lk)("tr",null,[(0,s.Lk)("th",{style:{"text-align":"center"},rowspan:"2"},[(0,s.Lk)("input",{type:"checkbox"})]),(0,s.Lk)("th",{rowspan:"2"},"No."),(0,s.Lk)("th",{rowspan:"2"},"Tugboat ID"),(0,s.Lk)("th",{colspan:"2"},"Captain"),(0,s.Lk)("th",{colspan:"2"},"Working Hours"),(0,s.Lk)("th",{rowspan:"2"},"Status")]),(0,s.Lk)("tr",null,[(0,s.Lk)("th",{style:{"text-align":"center"}},"ID"),(0,s.Lk)("th",{style:{"text-align":"center"}},"Name"),(0,s.Lk)("th",{style:{"text-align":"center"}},"Start"),(0,s.Lk)("th",{style:{"text-align":"center"}},"End")])],-1))),wo=uo((()=>(0,s.Lk)("td",null,[(0,s.Lk)("input",{type:"checkbox"})],-1))),Eo={class:"number"},_o=["onSubmit"],Xo=["onChange"],Ao=uo((()=>(0,s.Lk)("input",{class:"submit-button",type:"submit"},null,-1))),Do=["onClick"],Fo=["onSubmit"],$o=uo((()=>(0,s.Lk)("input",{class:"submit-button",type:"submit"},null,-1))),Uo=["onClick"],xo=["onSubmit"],No=uo((()=>(0,s.Lk)("input",{class:"submit-button",type:"submit"},null,-1))),Wo=["onClick"],Qo=["onSubmit"],Oo=["onChange"],Vo=uo((()=>(0,s.Lk)("option",null,"Maintenance",-1))),Po=[Vo],jo=uo((()=>(0,s.Lk)("input",{class:"submit-button",type:"submit"},null,-1))),Mo=["onClick"];function Ro(t,e,a,o,l,i){const r=(0,s.g2)("SideBar"),d=(0,s.g2)("router-view"),u=(0,s.g2)("font-awesome-icon");return(0,s.uX)(),(0,s.CE)("div",{id:"TugBoatList",onClick:e[19]||(e[19]=e=>t.toggle())},[(0,s.bF)(r),(0,s.bF)(d),(0,s.Lk)("div",co,[po,(0,s.Lk)("form",ho,[(0,s.bo)((0,s.Lk)("input",{id:"search",type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>l.input=t),placeholder:"Search..."},null,512),[[n.Jo,l.input]]),(0,s.bF)(u,{icon:["fas","magnifying-glass"],class:"search-icon"})]),ko,bo,(0,s.Lk)("div",mo,[(0,s.Lk)("div",go,[Lo,(0,s.Lk)("span",Io,[(0,s.bo)((0,s.Lk)("input",{type:"radio",class:"btn-check",name:"vbtn-radio",id:"All",autocomplete:"off",value:"","onUpdate:modelValue":e[1]||(e[1]=t=>l.allStatus=t),onChange:e[2]||(e[2]=t=>i.handleChange("")),checked:""},null,544),[[n.XL,l.allStatus]]),fo,(0,s.bo)((0,s.Lk)("input",{type:"radio",class:"btn-check",name:"vbtn-radio",id:"Free",autocomplete:"off",value:"Free","onUpdate:modelValue":e[3]||(e[3]=t=>l.freeStatus=t),onChange:e[4]||(e[4]=t=>i.handleChange("Free"))},null,544),[[n.XL,l.freeStatus]]),Co,(0,s.bo)((0,s.Lk)("input",{type:"radio",class:"btn-check",name:"vbtn-radio",id:"Busy",autocomplete:"off",value:"Busy","onUpdate:modelValue":e[5]||(e[5]=t=>l.busyStatus=t),onChange:e[6]||(e[6]=t=>i.handleChange("Busy")),checked:""},null,544),[[n.XL,l.busyStatus]]),yo,(0,s.bo)((0,s.Lk)("input",{type:"radio",class:"btn-check",name:"vbtn-radio",id:"Maintenance",autocomplete:"off",value:"Maintenance","onUpdate:modelValue":e[7]||(e[7]=t=>l.maintenanceStatus=t),onChange:e[8]||(e[8]=t=>i.handleChange("Maintenance")),checked:""},null,544),[[n.XL,l.maintenanceStatus]]),vo])]),(0,s.Lk)("span",null,[(0,s.Lk)("button",{class:"btn btn-light",id:"delete",onClick:e[9]||(e[9]=(...e)=>t.deleteSelected&&t.deleteSelected(...e))},[(0,s.eW)("Delete "),(0,s.bF)(u,{icon:["fas","delete-left"]})]),(0,s.eW)("   "),(0,s.Lk)("button",{class:"btn btn-dark",id:"add",onClick:e[10]||(e[10]=e=>t.redirect("NewTugBoat"))},"Add + ")])]),(0,s.Lk)("div",To,[(0,s.Lk)("div",Bo,[(0,s.Lk)("table",null,[So,(0,s.Lk)("tbody",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.tugboatList(),((a,o)=>((0,s.uX)(),(0,s.CE)("tr",{key:o},[wo,(0,s.Lk)("td",Eo,(0,Yt.v_)(o+1),1),(0,s.Lk)("td",null,(0,Yt.v_)(a.TugBoatId),1),(0,s.Lk)("td",{onClick:e[12]||(e[12]=(0,n.D$)((()=>{}),["stop"]))},[l.captainInfo===a.TugBoatId?((0,s.uX)(),(0,s.CE)("form",{key:0,onSubmit:t=>i.edit(a.TugBoatId)},[(0,s.bo)((0,s.Lk)("select",{onChange:t=>i.edit(a.TugBoatId),"onUpdate:modelValue":e[11]||(e[11]=e=>t.captainId=e)},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t.$store.state.captains,(t=>((0,s.uX)(),(0,s.CE)("option",{key:t.CaptainId},(0,Yt.v_)(t.CaptainId)+" : "+(0,Yt.v_)(t.name),1)))),128))],40,Xo),[[n.u1,t.captainId]]),Ao],40,_o)):(0,s.Q3)("",!0),l.captainInfo!=a.TugBoatId?((0,s.uX)(),(0,s.CE)("span",{key:1,onClick:t=>i.selected(a.TugBoatId,"captain")},(0,Yt.v_)(i.getCaptainId(a.TugBoatId)),9,Do)):(0,s.Q3)("",!0)]),(0,s.Lk)("td",null,(0,Yt.v_)(i.getCaptainName(a.TugBoatId)),1),(0,s.Lk)("td",{onClick:e[14]||(e[14]=(0,n.D$)((()=>{}),["stop"]))},[l.startTimeInfo===a.TugBoatId?((0,s.uX)(),(0,s.CE)("form",{key:0,onSubmit:t=>i.edit(a.TugBoatId)},[(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":e[13]||(e[13]=e=>t.startTime=e),type:"time"},null,512),[[n.Jo,t.startTime]]),$o],40,Fo)):(0,s.Q3)("",!0),l.startTimeInfo!=a.TugBoatId?((0,s.uX)(),(0,s.CE)("span",{key:1,onClick:t=>i.selected(a.TugBoatId,"startTime")},(0,Yt.v_)(a.StartWorkingTime),9,Uo)):(0,s.Q3)("",!0)]),(0,s.Lk)("td",{onClick:e[16]||(e[16]=(0,n.D$)((()=>{}),["stop"]))},[l.endTimeInfo===a.TugBoatId?((0,s.uX)(),(0,s.CE)("form",{key:0,onSubmit:t=>i.edit(a.TugBoatId)},[(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":e[15]||(e[15]=e=>t.endTime=e),type:"time"},null,512),[[n.Jo,t.endTime]]),No],40,xo)):(0,s.Q3)("",!0),l.endTimeInfo!=a.TugBoatId?((0,s.uX)(),(0,s.CE)("span",{key:1,onClick:t=>i.selected(a.TugBoatId,"endTime")},(0,Yt.v_)(a.EndWorkingTime),9,Wo)):(0,s.Q3)("",!0)]),(0,s.Lk)("td",{class:"work-status",onClick:e[18]||(e[18]=(0,n.D$)((()=>{}),["stop"]))},[l.statusInfo===a.TugBoatId?((0,s.uX)(),(0,s.CE)("form",{key:0,onSubmit:t=>i.edit(a.TugBoatId)},[(0,s.bo)((0,s.Lk)("select",{onChange:t=>i.edit(a.TugBoatId),"onUpdate:modelValue":e[17]||(e[17]=e=>t.status=e)},Po,40,Oo),[[n.u1,t.status]]),jo],40,Qo)):(0,s.Q3)("",!0),l.statusInfo!=a.TugBoatId?((0,s.uX)(),(0,s.CE)("span",{key:1,onClick:t=>i.selected(a.TugBoatId,"status"),class:"status-container",style:(0,Yt.Tr)(t.getStatusStyle(a.CurrentStatus))},(0,Yt.v_)(a.CurrentStatus),13,Mo)):(0,s.Q3)("",!0)])])))),128))])])])])])])}var Ko={name:"TugBoatList",components:{SideBar:de},mounted(){this.$store.dispatch("fetchTugBoats"),this.$store.dispatch("fetchCaptains")},data(){return{tugboats:[],input:"",allStatus:!0,freeStatus:null,busyStatus:null,maintenanceStatus:null,chosenStatus:"",captainInfo:null,startTimeInfo:null,endTimeInfo:null,statusInfo:null,successAlert:!0,successMessage:"Edit message successful !"}},methods:{handleChange(t){this.chosenStatus=t,"Free"===t?(this.allStatus=null,this.busyStatus=null,this.maintenanceStatus=null):"Busy"===t?(this.allStatus=null,this.freeStatus=null,this.maintenanceStatus=null):"Maintenance"===t?(this.allStatus=null,this.freeStatus=null,this.busyStatus=null):(this.freeStatus=null,this.busyStatus=null,this.maintenanceStatus=null)},tugboatList(){return this.tugboats=this.$store.state.tugboats,this.tugboats.filter((t=>{const e=t.TugBoatId.toLowerCase().includes(this.input.toLowerCase()),a=!t.CaptainId||t.CaptainId.name.toLowerCase().includes(this.input.toLowerCase()),n=!t.CaptainId||t.CaptainId.CaptainId.toLowerCase().includes(this.input.toLowerCase()),s=!this.chosenStatus||t.CurrentStatus.toLowerCase()===this.chosenStatus.toLowerCase();return(a||n||e)&&s}))},getCaptainId(t){const e=this.tugboats.find((e=>e.TugBoatId===t));return e&&e.CaptainId?e.CaptainId.CaptainId:"-"},getCaptainName(t){const e=this.tugboats.find((e=>e.TugBoatId===t));return e&&e.CaptainId?e.CaptainId.name:"-"},selected(t,e){this.resetNull(),"captain"===e?this.captainInfo=t:"startTime"===e?this.startTimeInfo=t:"endTime"===e?this.endTimeInfo=t:"status"===e&&(this.statusInfo=t)},resetNull(){this.captainInfo=null,this.startTimeInfo=null,this.endTimeInfo=null,this.statusInfo=null},async edit(t){try{const e=await c.A.post("/api/update-tugboat/",{tugboatId:t,captainId:this.captainId,startTime:this.startTime,endTime:this.endTime,status:this.status});e.data.success?(alert("Edited Succesfully"),window.location.reload(),this.resetNull()):alert("Edit Failed.")}catch(e){console.error("Error:",e),alert(e)}}}};const Jo=(0,i.A)(Ko,[["render",Ro],["__scopeId","data-v-e9504654"]]);var Ho=Jo;const qo=t=>((0,s.Qi)("data-v-76e87512"),t=t(),(0,s.jt)(),t),Yo={class:"backdrop"},zo={class:"container-position"},Go={class:"popup-container"},Zo=qo((()=>(0,s.Lk)("br",null,null,-1))),tl={class:"form"},el={class:"form-group"},al=qo((()=>(0,s.Lk)("b",null,[(0,s.Lk)("label",{for:"tugboatId"},"Tug Boat ID")],-1))),nl={class:"form-group"},sl=qo((()=>(0,s.Lk)("b",null,[(0,s.Lk)("label",{for:"captainId"},"Captain")],-1))),ol=qo((()=>(0,s.Lk)("option",null,null,-1))),ll={class:"form-group"},il=qo((()=>(0,s.Lk)("b",null,[(0,s.Lk)("label",{for:"startTime"},"Working Hours")],-1))),rl=qo((()=>(0,s.Lk)("br",null,null,-1))),dl=qo((()=>(0,s.Lk)("br",null,null,-1)));function ul(t,e,a,o,l,i){return(0,s.uX)(),(0,s.CE)("div",Yo,[(0,s.Lk)("div",zo,[(0,s.Lk)("form",Go,[(0,s.Lk)("button",{class:"close-btn",onClick:e[0]||(e[0]=e=>t.redirect("TugBoatList"))},"X"),Zo,(0,s.Lk)("div",tl,[(0,s.Lk)("div",el,[al,(0,s.bo)((0,s.Lk)("input",{type:"text",id:"tugboatId","onUpdate:modelValue":e[1]||(e[1]=e=>t.tugboatId=e),placeholder:"Input New Tug Boat ID",required:""},null,512),[[n.Jo,t.tugboatId]])]),(0,s.Lk)("div",nl,[sl,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":e[2]||(e[2]=e=>t.captainId=e)},[ol,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t.$store.state.captains,(t=>((0,s.uX)(),(0,s.CE)("option",{key:t.CaptainId},(0,Yt.v_)(t.CaptainId)+" : "+(0,Yt.v_)(t.name),1)))),128))],512),[[n.u1,t.captainId]])]),(0,s.Lk)("div",ll,[il,(0,s.bo)((0,s.Lk)("input",{type:"time",id:"startTime","onUpdate:modelValue":e[3]||(e[3]=e=>t.startTime=e),required:""},null,512),[[n.Jo,t.startTime]]),(0,s.eW)("  to"),(0,s.bo)((0,s.Lk)("input",{type:"time",id:"endTime","onUpdate:modelValue":e[4]||(e[4]=e=>t.endTime=e),required:""},null,512),[[n.Jo,t.endTime]])])]),rl,(0,s.Lk)("button",{class:"btn btn-dark",id:"confirm",onClick:e[5]||(e[5]=t=>i.add())},"Add"),dl])])])}var cl={name:"NewTugBoat",mounted(){this.$store.dispatch("fetchCaptains")},methods:{async add(){try{const t=await c.A.post("/api/update-tugboat/",{tugboatId:this.tugboatId,captainId:this.captainId,startTime:this.startTime,endTime:this.endTime});t.data.success?(alert(t.data.message+"\nNew Tug Boat Added Successfully"),this.$router.back()):alert("Fail to add tug boat.")}catch(t){console.error("Error:",t),alert("New tug boat Error.")}}}};const pl=(0,i.A)(cl,[["render",ul],["__scopeId","data-v-76e87512"]]);var hl=pl;const kl=t=>((0,s.Qi)("data-v-451e6b61"),t=t(),(0,s.jt)(),t),bl={id:"CaptainDashboard"},ml={class:"pages"},gl={class:"header-style"},Ll={class:"header-style title"},Il=kl((()=>(0,s.Lk)("h2",null,"Today Work",-1))),fl={id:"download"},Cl=kl((()=>(0,s.Lk)("br",null,null,-1))),yl=kl((()=>(0,s.Lk)("br",null,null,-1))),vl=kl((()=>(0,s.Lk)("br",null,null,-1))),Tl=kl((()=>(0,s.Lk)("br",null,null,-1)));function Bl(t,e,a,n,o,l){const i=(0,s.g2)("SideBar"),r=(0,s.g2)("font-awesome-icon"),d=(0,s.g2)("MessageButton"),u=(0,s.g2)("WorkTable");return(0,s.uX)(),(0,s.CE)("div",bl,[(0,s.bF)(i),(0,s.Lk)("div",ml,[(0,s.Lk)("div",gl,[(0,s.Lk)("div",Ll,[Il,(0,s.Lk)("button",fl,[(0,s.bF)(r,{icon:["fas","download"]})])]),(0,s.bF)(d)]),Cl,yl,vl,Tl,(0,s.bF)(u)])])}const Sl=t=>((0,s.Qi)("data-v-00df5163"),t=t(),(0,s.jt)(),t),wl={id:"work-table"},El={key:0},_l=Sl((()=>(0,s.Lk)("span",null,"Waiting  ",-1))),Xl=Sl((()=>(0,s.Lk)("span",{class:"spinner-border spinner-border-sm",role:"status"},null,-1))),Al=[_l,Xl],Dl={key:1},Fl=Sl((()=>(0,s.Lk)("thead",null,[(0,s.Lk)("tr",null,[(0,s.Lk)("th",null,"No."),(0,s.Lk)("th",null,"Container Boat"),(0,s.Lk)("th",null,"Berth"),(0,s.Lk)("th",null,"Time"),(0,s.Lk)("th",null,"Captain"),(0,s.Lk)("th",null,"Work Status"),(0,s.Lk)("th",null,"Work Type")])],-1))),$l={class:"number"},Ul=["id"],xl={class:"container-boat"},Nl={class:"berth"},Wl={class:"time"},Ql={class:"captain"},Ol={key:0},Vl=["onChange","id"],Pl=Sl((()=>(0,s.Lk)("option",null,"Confirmed",-1))),jl=Sl((()=>(0,s.Lk)("option",null,"Completed",-1))),Ml=[Pl,jl],Rl=["onClick"],Kl={class:"work-type"},Jl={class:"number"},Hl=["id"],ql={class:"container-boat"},Yl={class:"berth"},zl={class:"time"},Gl={class:"captain"},Zl=["onClick"],ti={class:"work-type"};function ei(t,e,a,o,l,i){return(0,s.uX)(),(0,s.CE)("div",wl,[i.waiting()?((0,s.uX)(),(0,s.CE)("div",El,Al)):(0,s.Q3)("",!0),i.waiting()?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("table",Dl,[Fl,(0,s.Lk)("tbody",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.entryList("Incompleted"),((a,o)=>((0,s.uX)(),(0,s.CE)("tr",{key:o},[(0,s.Lk)("td",$l,[(0,s.Lk)("span",{id:"entryId"+a.ScheduleEntryId},(0,Yt.v_)(o+1),9,Ul)]),(0,s.Lk)("td",xl,(0,Yt.v_)(a.TaskId.ContainerBoatID.ContainerBoatID),1),(0,s.Lk)("td",Nl,(0,Yt.v_)(a.TaskId.BerthId),1),(0,s.Lk)("td",Wl,(0,Yt.v_)(t.formatDate(a.TaskId.startTime))+"    "+(0,Yt.v_)(t.formatTime(a.TaskId.startTime)),1),(0,s.Lk)("td",Ql,(0,Yt.v_)(a.listOfTugBoats.map((t=>t.CaptainId?t.CaptainId.CaptainId:"waiting ")).join(",")),1),(0,s.Lk)("td",{onClick:e[1]||(e[1]=(0,n.D$)((()=>{}),["stop"]))},[l.showStateForm===a.ScheduleEntryId?((0,s.uX)(),(0,s.CE)("form",Ol,[(0,s.bo)((0,s.Lk)("select",{onChange:t=>i.edit(a.ScheduleEntryId),"onUpdate:modelValue":e[0]||(e[0]=e=>t.state=e),id:"state"+a.ScheduleEntryId},Ml,40,Vl),[[n.u1,t.state]])])):(0,s.Q3)("",!0),l.stateInfo!=a.ScheduleEntryId?((0,s.uX)(),(0,s.CE)("span",{key:1,class:"status-container",onClick:t=>i.selected(a.ScheduleEntryId,"state"),style:(0,Yt.Tr)(t.getStatusStyle(a.Status,"Incomplete"))},(0,Yt.v_)(a.Status),13,Rl)):(0,s.Q3)("",!0)]),(0,s.Lk)("td",Kl,[(0,s.Lk)("span",{class:"type-container",style:(0,Yt.Tr)(t.getActionStyle(a.TaskId.Action,"Incomplete"))},(0,Yt.v_)(a.TaskId.Action),5)])])))),128)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.entryList("Completed"),((e,a)=>((0,s.uX)(),(0,s.CE)("tr",{class:"disabled-row",key:a},[(0,s.Lk)("td",Jl,[(0,s.Lk)("span",{id:"taskId"+e.ScheduleEntryId},(0,Yt.v_)(a+1),9,Hl)]),(0,s.Lk)("td",ql,(0,Yt.v_)(e.TaskId.ContainerBoatID.ContainerBoatID),1),(0,s.Lk)("td",Yl,(0,Yt.v_)(e.TaskId.BerthId),1),(0,s.Lk)("td",zl,(0,Yt.v_)(t.formatDate(e.TaskId.startTime))+"    "+(0,Yt.v_)(t.formatTime(e.TaskId.startTime)),1),(0,s.Lk)("td",Gl,(0,Yt.v_)(e.listOfTugBoats.map((t=>t.CaptainId?t.CaptainId.CaptainId:"waiting ")).join(",")),1),(0,s.Lk)("td",null,[(0,s.Lk)("span",{class:"status-container",onClick:t=>i.selected(e.ScheduleEntryId,"state"),style:(0,Yt.Tr)(t.getStatusStyle(e.Status,"Completed"))},(0,Yt.v_)(e.Status),13,Zl)]),(0,s.Lk)("td",ti,[(0,s.Lk)("span",{class:"type-container",style:(0,Yt.Tr)(t.getActionStyle(e.TaskId.Action,"Completed"))},(0,Yt.v_)(e.TaskId.Action),5)])])))),128))])]))])}var ai={name:"WorkTable",mounted(){this.$store.dispatch("fetchScheduleEntries"),this.$store.dispatch("fetchCaptains")},data(){return{showStateForm:null,stateInfo:null,showContainerBoatIdForm:null,containerBoatIdInfo:null,entries:[],captains:[]}},computed:{...(0,u.aH)(["username","isCaptain","isAdmin","isScheduler"]),captain(){return this.username}},methods:{waiting(){return 0===this.entryList("Incompleted").length&&0===this.entryList("Completed").length},entryList(t){this.entries=this.$store.state.scheduleEntries;const e="Completed"===t;return this.entries.filter((t=>{const a=t.listOfTugBoats.map((t=>t.CaptainId?t.CaptainId.CaptainId:"waiting ")).includes(this.captain),n="Completed"===t.Status;return a&&(e?n:!n)}))},resetNull(){this.showStateForm=null,this.stateInfo=null,this.showContainerBoatIdForm=null,this.containerBoatIdInfo=null},selected(t,e){this.resetNull(),"state"===e?(this.showStateForm=t,this.stateInfo=t):"containerBoatId"===e&&(this.showContainerBoatIdForm=t,this.containerBoatIdInfo=t)},toggle(t){t.target.closest("form")||this.resetNull()},async edit(t){const e=this.state,a=(new Date).toISOString();try{const n=await c.A.post("/api/update-schedule-entry",{entryId:t,newState:e,timeStamp:a});console.log(n.data),alert("Update Successfully")}catch(n){console.error(n),alert("Update Failed")}}}};const ni=(0,i.A)(ai,[["render",ei],["__scopeId","data-v-00df5163"]]);var si=ni,oi={name:"WorkSchedule",components:{SideBar:de,WorkTable:si,MessageButton:Ns}};const li=(0,i.A)(oi,[["render",Bl],["__scopeId","data-v-451e6b61"]]);var ii=li;const ri=t=>((0,s.Qi)("data-v-d1331f4e"),t=t(),(0,s.jt)(),t),di={id:"WorkSchedule"},ui={class:"pages"},ci=ri((()=>(0,s.Lk)("h2",{class:"title"},"Work Schedules",-1))),pi=ri((()=>(0,s.Lk)("br",null,null,-1))),hi=ri((()=>(0,s.Lk)("br",null,null,-1))),ki=ri((()=>(0,s.Lk)("br",null,null,-1))),bi={class:"header-style"},mi={class:"filter-group"},gi={class:"filter"},Li=ri((()=>(0,s.Lk)("label",{for:"containerBoatFilter"},"Container Boat: ",-1))),Ii=ri((()=>(0,s.Lk)("option",{value:""},"All",-1))),fi={class:"filter"},Ci=ri((()=>(0,s.Lk)("label",{for:"tugBoatFilter"},"Tug Boat: ",-1))),yi=ri((()=>(0,s.Lk)("option",{value:""},"All",-1))),vi={class:"filter"},Ti=ri((()=>(0,s.Lk)("label",{for:"berthFilter"},"Berth: ",-1))),Bi=ri((()=>(0,s.Lk)("option",{value:""},"All",-1))),Si={class:"filter"},wi=ri((()=>(0,s.Lk)("label",{for:"stateFilter"},"Status: ",-1))),Ei=ri((()=>(0,s.Lk)("option",{value:""},"All",-1))),_i=ri((()=>(0,s.Lk)("option",null,"Scheduled",-1))),Xi=ri((()=>(0,s.Lk)("option",null,"Confirmed",-1))),Ai=ri((()=>(0,s.Lk)("option",null,"Completed",-1))),Di=[Ei,_i,Xi,Ai],Fi={key:0},$i=ri((()=>(0,s.Lk)("span",null,"Waiting  ",-1))),Ui=ri((()=>(0,s.Lk)("span",{class:"spinner-border spinner-border-sm",role:"status"},null,-1))),xi=[$i,Ui],Ni={key:1,class:"display-data"},Wi={class:"work-table"},Qi=ri((()=>(0,s.Lk)("thead",null,[(0,s.Lk)("tr",null,[(0,s.Lk)("th",null,"No."),(0,s.Lk)("th",null,"Container Boat"),(0,s.Lk)("th",null,"Berth"),(0,s.Lk)("th",null,"Time"),(0,s.Lk)("th",null,"Tug Boat"),(0,s.Lk)("th",null,"Captain"),(0,s.Lk)("th",null,"Work Status")])],-1))),Oi={class:"number"},Vi={class:"container-boat"},Pi={class:"berth"},ji={class:"time"},Mi={class:"tugboat"},Ri={class:"captain"},Ki={class:"work-status"},Ji={class:"number"},Hi={class:"container-boat"},qi={class:"berth"},Yi={class:"time"},zi={class:"tugboat"},Gi={class:"captain"},Zi={class:"work-status"},tr={class:"status-container"};function er(t,e,a,o,l,i){const r=(0,s.g2)("SideBar");return(0,s.uX)(),(0,s.CE)("div",di,[(0,s.bF)(r),(0,s.Lk)("div",ui,[ci,pi,hi,ki,(0,s.Lk)("div",bi,[(0,s.Lk)("div",mi,[(0,s.Lk)("span",gi,[Li,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.containerBoatInput=t)},[Ii,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t.$store.state.containerBoats,(t=>((0,s.uX)(),(0,s.CE)("option",{key:t.ContainerBoatID},(0,Yt.v_)(t.ContainerBoatID),1)))),128))],512),[[n.u1,l.containerBoatInput]])]),(0,s.Lk)("span",fi,[Ci,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":e[1]||(e[1]=t=>l.tugBoatInput=t)},[yi,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t.$store.state.tugboats,(t=>((0,s.uX)(),(0,s.CE)("option",{key:t.TugBoatId},(0,Yt.v_)(t.TugBoatId),1)))),128))],512),[[n.u1,l.tugBoatInput]])]),(0,s.Lk)("span",vi,[Ti,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>l.berthInput=t)},[Bi,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t.$store.state.berths,(t=>((0,s.uX)(),(0,s.CE)("option",{key:t.BerthId},(0,Yt.v_)(t.BerthId),1)))),128))],512),[[n.u1,l.berthInput]])]),(0,s.Lk)("span",Si,[wi,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":e[3]||(e[3]=t=>l.stateInput=t)},Di,512),[[n.u1,l.stateInput]])])])]),i.waiting()?((0,s.uX)(),(0,s.CE)("div",Fi,xi)):(0,s.Q3)("",!0),i.waiting()?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",Ni,[(0,s.Lk)("div",Wi,[(0,s.Lk)("table",null,[Qi,(0,s.Lk)("tbody",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.entryList("Incomplete"),((e,a)=>((0,s.uX)(),(0,s.CE)("tr",{key:a},[(0,s.Lk)("td",Oi,(0,Yt.v_)(a+1),1),(0,s.Lk)("td",Vi,(0,Yt.v_)(e.TaskId.ContainerBoatID.ContainerBoatID),1),(0,s.Lk)("td",Pi,(0,Yt.v_)(e.TaskId.BerthId),1),(0,s.Lk)("td",ji,(0,Yt.v_)(e.listOfTugBoats.map((t=>t.EndWorkingTime)).join("/ ")),1),(0,s.Lk)("td",Mi,(0,Yt.v_)(e.listOfTugBoats.map((t=>t.TugBoatId)).join("/ ")),1),(0,s.Lk)("td",Ri,(0,Yt.v_)(e.listOfTugBoats.map((t=>t.CaptainId?t.CaptainId.CaptainId:"waiting ")).join("/ ")),1),(0,s.Lk)("td",Ki,[(0,s.Lk)("span",{class:"status-container",style:(0,Yt.Tr)(t.getStatusStyle(e.Status))},(0,Yt.v_)(e.Status),5)])])))),128)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.entryList("Completed"),((t,e)=>((0,s.uX)(),(0,s.CE)("tr",{class:"disabled-row",key:e},[(0,s.Lk)("td",Ji,(0,Yt.v_)(e+1),1),(0,s.Lk)("td",Hi,(0,Yt.v_)(t.TaskId.ContainerBoatID.ContainerBoatID),1),(0,s.Lk)("td",qi,(0,Yt.v_)(t.TaskId.BerthId),1),(0,s.Lk)("td",Yi,(0,Yt.v_)(t.listOfTugBoats.map((t=>t.EndWorkingTime)).join("/")),1),(0,s.Lk)("td",zi,(0,Yt.v_)(t.listOfTugBoats.map((t=>t.TugBoatId)).join("/")),1),(0,s.Lk)("td",Gi,(0,Yt.v_)(t.listOfTugBoats.map((t=>t.CaptainId?t.CaptainId.CaptainId:"waiting ")).join("/")),1),(0,s.Lk)("td",Zi,[(0,s.Lk)("span",tr,(0,Yt.v_)(t.Status),1)])])))),128))])])])]))])])}var ar={name:"WorkSchedule",components:{SideBar:de},mounted(){this.$store.dispatch("fetchScheduleEntries"),this.$store.dispatch("fetchTasks"),this.$store.dispatch("fetchContainerBoats"),this.$store.dispatch("fetchBerths"),this.$store.dispatch("fetchTugBoats")},data(){return{entries:[],containerBoatInput:"",tugBoatInput:"",berthInput:"",stateInput:""}},methods:{waiting(){return 0===this.$store.state.scheduleEntries.length},checkAll(t){return"All"===t?"":t},entryList(t){this.entries=this.$store.state.scheduleEntries,this.containerBoatInput=this.checkAll(this.containerBoatInput),this.tugBoatInput=this.checkAll(this.tugBoatInput),this.berthInput=this.checkAll(this.berthInput),this.stateInput=this.checkAll(this.stateInput);const e="Completed"===t,a=this.entries.filter((t=>{const a=!this.containerBoatInput||t.TaskId.ContainerBoatID.ContainerBoatID.toString()===this.containerBoatInput,n=!this.tugBoatInput||t.listOfTugBoats.map((t=>t.TugBoatId)).includes(this.tugBoatInput),s=!this.berthInput||t.TaskId.BerthId.toString()===this.berthInput,o=!this.stateInput||t.Status===this.stateInput,l="Completed"===t.Status;return a&&n&&s&&o&&(e?l:!l)}));return a}}};const nr=(0,i.A)(ar,[["render",er],["__scopeId","data-v-d1331f4e"]]);var sr=nr;const or=[{path:"/",name:"Login",component:$t},{path:"/dashboard",name:"AdminDashboard",component:oa,children:[{path:"add-new-staff",name:"NewStaff",component:_a}]},{path:"/dashboard",name:"CaptainDashboard",component:ii,children:[{path:"message",name:"CaptainMessage",component:it}]},{path:"/dashboard",name:"SchedulerDashboard",component:Os,children:[{path:"message",name:"SchedulerMessage",component:it},{path:"message-details",name:"MessageDetails",component:gt},{path:"auto-reschedule",name:"AutoReschedule",component:H}]},{path:"/tugboat-list",name:"TugBoatList",component:Ho,children:[{path:"add-new-tugboat",name:"NewTugBoat",component:hl}]},{path:"/work-schedules",name:"WorkSchedule",component:sr},{path:"/settings",name:"Settings",component:pe},{path:"/settings/change-password",name:"ChangePassword",component:Fe,children:[{path:"notice",name:"Exit-ChangePassword",component:B}]},{path:"/add-new-task",name:"NewTask",component:ro,children:[{path:"notice",name:"Exit-NewTask",component:B},{path:"notice",name:"Save-NewTask",component:N}]}],lr=(0,k.aE)({history:(0,k.Bt)("/"),routes:or});lr.beforeEach(((t,e,a)=>{const n="true"===localStorage.getItem("isLoggedIn"),s=localStorage.getItem("username"),o=JSON.parse(localStorage.getItem("roles"));n&&h.state.username!==s&&(h.commit("setUser",{username:s}),h.commit("setUserRole",o)),n||"Login"===t.name?a():a({name:"Login"})}));var ir=lr;function rr(t){this.$router.push({name:t})}function dr(t){const e=new Date(t),a=e.getHours().toString().padStart(2,"0"),n=e.getMinutes().toString().padStart(2,"0");return`${a}:${n}`}function ur(t){const e=new Date(t),a=e.getDate().toString().padStart(2,"0"),n=(e.getMonth()+1).toString().padStart(2,"0");return`${a}/${n}`}function cr(t,e){let a;switch(t){case"Confirmed":a="green";break;case"Free":a="green";break;case"Scheduled":a="rgb(254, 219, 46)";break;case"Busy":a="red";break;case"Completed":a="darkgrey";break;case"Maintenance":a="darkgrey";break;default:a="lightgrey"}switch(e){case"Completed":a="rgb(213, 212, 212)";break;default:}return{background:a}}function pr(t,e){let a;switch(t){case"INBOUND":a="#72bedf";break;default:a="#020071"}switch(e){case"Completed":a="rgb(213, 212, 212)";break;default:}return{background:a}}function hr(){this.resetNull()}function kr(t){const e=this.tugboats.find((e=>e.TugBoatId===t));return e&&e.CaptainId?e.CaptainId.CaptainId:"-"}function br(t){const e=this.tugboats.find((e=>e.TugBoatId===t));return e&&e.CaptainId?e.CaptainId.name:"-"}var mr=a(7107),gr=a(6188),Lr=a(1273);mr.Yv.add(gr.X7I);const Ir=(0,n.Ef)(d);Ir.use(ir),Ir.use(h),Ir.mount("#app"),Ir.component("font-awesome-icon",Lr.gc),Ir.config.globalProperties.redirect=rr,Ir.config.globalProperties.formatTime=dr,Ir.config.globalProperties.formatDate=ur,Ir.config.globalProperties.getActionStyle=pr,Ir.config.globalProperties.getStatusStyle=cr,Ir.config.globalProperties.toggle=hr,Ir.config.globalProperties.getCaptainId=kr,Ir.config.globalProperties.getCaptainName=br;Lr.gc}},e={};function a(n){var s=e[n];if(void 0!==s)return s.exports;var o=e[n]={exports:{}};return t[n].call(o.exports,o,o.exports,a),o.exports}a.m=t,function(){var t=[];a.O=function(e,n,s,o){if(!n){var l=1/0;for(u=0;u<t.length;u++){n=t[u][0],s=t[u][1],o=t[u][2];for(var i=!0,r=0;r<n.length;r++)(!1&o||l>=o)&&Object.keys(a.O).every((function(t){return a.O[t](n[r])}))?n.splice(r--,1):(i=!1,o<l&&(l=o));if(i){t.splice(u--,1);var d=s();void 0!==d&&(e=d)}}return e}o=o||0;for(var u=t.length;u>0&&t[u-1][2]>o;u--)t[u]=t[u-1];t[u]=[n,s,o]}}(),function(){a.d=function(t,e){for(var n in e)a.o(e,n)&&!a.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){a.p="/"}(),function(){var t={524:0};a.O.j=function(e){return 0===t[e]};var e=function(e,n){var s,o,l=n[0],i=n[1],r=n[2],d=0;if(l.some((function(e){return 0!==t[e]}))){for(s in i)a.o(i,s)&&(a.m[s]=i[s]);if(r)var u=r(a)}for(e&&e(n);d<l.length;d++)o=l[d],a.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return a.O(u)},n=self["webpackChunkmodal_project"]=self["webpackChunkmodal_project"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=a.O(void 0,[504],(function(){return a(8953)}));n=a.O(n)})();
//# sourceMappingURL=app.c2adcfc2.js.map